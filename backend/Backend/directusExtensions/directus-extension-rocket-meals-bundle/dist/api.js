import{webcrypto as e}from"node:crypto";import t,{TextEncoder as a}from"util";import n,{Readable as s}from"stream";import i from"path";import r from"http";import o from"https";import c from"url";import l from"fs";import u from"assert";import p from"tty";import d from"os";import h from"zlib";import m from"events";import f from"crypto";const g="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",_=128;let E,T;var v=Object.freeze({__proto__:null,nanoid:function(t=21){var a;a=t-=0,!E||E.length<a?(E=Buffer.allocUnsafe(a*_),e.getRandomValues(E),T=0):T+a>E.length&&(e.getRandomValues(E),T=0),T+=a;let n="";for(let e=T-t;e<T;e++)n+=g[63&E[e]];return n},urlAlphabet:g});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function b(e,t){return function(){return e.apply(t,arguments)}}const{toString:A}=Object.prototype,{getPrototypeOf:y}=Object,S=(N=Object.create(null),e=>{const t=A.call(e);return N[t]||(N[t]=t.slice(8,-1).toLowerCase())});var N;const C=e=>(e=e.toLowerCase(),t=>S(t)===e),I=e=>t=>typeof t===e,{isArray:O}=Array,w=I("undefined");const D=C("ArrayBuffer");const k=I("string"),R=I("function"),L=I("number"),M=e=>null!==e&&"object"==typeof e,P=e=>{if("object"!==S(e))return!1;const t=y(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},F=C("Date"),U=C("File"),B=C("Blob"),H=C("FileList"),G=C("URLSearchParams");function j(e,t,{allOwnKeys:a=!1}={}){if(null==e)return;let n,s;if("object"!=typeof e&&(e=[e]),O(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const s=a?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let r;for(n=0;n<i;n++)r=s[n],t.call(null,e[r],r,e)}}function q(e,t){t=t.toLowerCase();const a=Object.keys(e);let n,s=a.length;for(;s-- >0;)if(n=a[s],t===n.toLowerCase())return n;return null}const Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,z=e=>!w(e)&&e!==Y;const V=(W="undefined"!=typeof Uint8Array&&y(Uint8Array),e=>W&&e instanceof W);var W;const Z=C("HTMLFormElement"),Q=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),K=C("RegExp"),$=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};j(a,((a,s)=>{let i;!1!==(i=t(a,s,e))&&(n[s]=i||a)})),Object.defineProperties(e,n)},X="abcdefghijklmnopqrstuvwxyz",J="0123456789",ee={DIGIT:J,ALPHA:X,ALPHA_DIGIT:X+X.toUpperCase()+J};const te=C("AsyncFunction");var ae={isArray:O,isArrayBuffer:D,isBuffer:function(e){return null!==e&&!w(e)&&null!==e.constructor&&!w(e.constructor)&&R(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||R(e.append)&&("formdata"===(t=S(e))||"object"===t&&R(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&D(e.buffer),t},isString:k,isNumber:L,isBoolean:e=>!0===e||!1===e,isObject:M,isPlainObject:P,isUndefined:w,isDate:F,isFile:U,isBlob:B,isRegExp:K,isFunction:R,isStream:e=>M(e)&&R(e.pipe),isURLSearchParams:G,isTypedArray:V,isFileList:H,forEach:j,merge:function e(){const{caseless:t}=z(this)&&this||{},a={},n=(n,s)=>{const i=t&&q(a,s)||s;P(a[i])&&P(n)?a[i]=e(a[i],n):P(n)?a[i]=e({},n):O(n)?a[i]=n.slice():a[i]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&j(arguments[e],n);return a},extend:(e,t,a,{allOwnKeys:n}={})=>(j(t,((t,n)=>{a&&R(t)?e[n]=b(t,a):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let s,i,r;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)r=s[i],n&&!n(r,e,t)||o[r]||(t[r]=e[r],o[r]=!0);e=!1!==a&&y(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:S,kindOfTest:C,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(O(e))return e;let t=e.length;if(!L(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:Z,hasOwnProperty:Q,hasOwnProp:Q,reduceDescriptors:$,freezeMethods:e=>{$(e,((t,a)=>{if(R(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];R(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach((e=>{a[e]=!0}))};return O(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:q,global:Y,isContextDefined:z,ALPHABET:ee,generateString:(e=16,t=ee.ALPHA_DIGIT)=>{let a="";const{length:n}=t;for(;e--;)a+=t[Math.random()*n|0];return a},isSpecCompliantForm:function(e){return!!(e&&R(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(M(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const s=O(e)?[]:{};return j(e,((e,t)=>{const i=a(e,n+1);!w(i)&&(s[t]=i)})),t[n]=void 0,s}}return e};return a(e,0)},isAsyncFn:te,isThenable:e=>e&&(M(e)||R(e))&&R(e.then)&&R(e.catch)};function ne(e,t,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s)}ae.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const se=ne.prototype,ie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ie[e]={value:e}})),Object.defineProperties(ne,ie),Object.defineProperty(se,"isAxiosError",{value:!0}),ne.from=(e,t,a,n,s,i)=>{const r=Object.create(se);return ae.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ne.call(r,e.message,t,a,n,s),r.cause=e,r.name=e.name,i&&Object.assign(r,i),r};var re=n.Stream,oe=ce;function ce(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}t.inherits(ce,re),ce.create=function(e,t){var a=new this;for(var n in t=t||{})a[n]=t[n];a.source=e;var s=e.emit;return e.emit=function(){return a._handleEmit(arguments),s.apply(e,arguments)},e.on("error",(function(){})),a.pauseStream&&e.pause(),a},Object.defineProperty(ce.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),ce.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},ce.prototype.resume=function(){this._released||this.release(),this.source.resume()},ce.prototype.pause=function(){this.source.pause()},ce.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},ce.prototype.pipe=function(){var e=re.prototype.pipe.apply(this,arguments);return this.resume(),e},ce.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},ce.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}};var le=t,ue=n.Stream,pe=oe,de=he;function he(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}le.inherits(he,ue),he.create=function(e){var t=new this;for(var a in e=e||{})t[a]=e[a];return t},he.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},he.prototype.append=function(e){if(he.isStreamLike(e)){if(!(e instanceof pe)){var t=pe.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},he.prototype.pipe=function(e,t){return ue.prototype.pipe.call(this,e,t),this.resume(),e},he.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},he.prototype._realGetNext=function(){var e=this._streams.shift();void 0!==e?"function"==typeof e?e(function(e){he.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}.bind(this)):this._pipeNext(e):this.end()},he.prototype._pipeNext=function(e){if(this._currentStream=e,he.isStreamLike(e))return e.on("end",this._getNext.bind(this)),void e.pipe(this,{end:!1});var t=e;this.write(t),this._getNext()},he.prototype._handleErrors=function(e){var t=this;e.on("error",(function(e){t._emitError(e)}))},he.prototype.write=function(e){this.emit("data",e)},he.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},he.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},he.prototype.end=function(){this._reset(),this.emit("end")},he.prototype.destroy=function(){this._reset(),this.emit("close")},he.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},he.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}},he.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach((function(t){t.dataSize&&(e.dataSize+=t.dataSize)})),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},he.prototype._emitError=function(e){this._reset(),this.emit("error",e)};var me={},fe={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
!function(e){var t,a,n,s=fe,r=i.extname,o=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function l(e){if(!e||"string"!=typeof e)return!1;var t=o.exec(e),a=t&&s[t[1].toLowerCase()];return a&&a.charset?a.charset:!(!t||!c.test(t[1]))&&"UTF-8"}e.charset=l,e.charsets={lookup:l},e.contentType=function(t){if(!t||"string"!=typeof t)return!1;var a=-1===t.indexOf("/")?e.lookup(t):t;if(!a)return!1;if(-1===a.indexOf("charset")){var n=e.charset(a);n&&(a+="; charset="+n.toLowerCase())}return a},e.extension=function(t){if(!t||"string"!=typeof t)return!1;var a=o.exec(t),n=a&&e.extensions[a[1].toLowerCase()];if(!n||!n.length)return!1;return n[0]},e.extensions=Object.create(null),e.lookup=function(t){if(!t||"string"!=typeof t)return!1;var a=r("x."+t).toLowerCase().substr(1);if(!a)return!1;return e.types[a]||!1},e.types=Object.create(null),t=e.extensions,a=e.types,n=["nginx","apache",void 0,"iana"],Object.keys(s).forEach((function(e){var i=s[e],r=i.extensions;if(r&&r.length){t[e]=r;for(var o=0;o<r.length;o++){var c=r[o];if(a[c]){var l=n.indexOf(s[a[c]].source),u=n.indexOf(i.source);if("application/octet-stream"!==a[c]&&(l>u||l===u&&"application/"===a[c].substr(0,12)))continue}a[c]=e}}}))}(me);var ge=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)},_e=function(e){var t=!1;return ge((function(){t=!0})),function(a,n){t?e(a,n):ge((function(){e(a,n)}))}};var Ee=function(e){Object.keys(e.jobs).forEach(Te.bind(e)),e.jobs={}};function Te(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}var ve=_e,xe=Ee,be=function(e,t,a,n){var s=a.keyedList?a.keyedList[a.index]:a.index;a.jobs[s]=function(e,t,a,n){var s;s=2==e.length?e(a,ve(n)):e(a,t,ve(n));return s}(t,s,e[s],(function(e,t){s in a.jobs&&(delete a.jobs[s],e?xe(a):a.results[s]=t,n(e,a.results))}))};var Ae=function(e,t){var a=!Array.isArray(e),n={index:0,keyedList:a||t?Object.keys(e):null,jobs:{},results:a?{}:[],size:a?Object.keys(e).length:e.length};t&&n.keyedList.sort(a?t:function(a,n){return t(e[a],e[n])});return n};var ye=Ee,Se=_e,Ne=function(e){if(!Object.keys(this.jobs).length)return;this.index=this.size,ye(this),Se(e)(null,this.results)};var Ce=be,Ie=Ae,Oe=Ne,we=function(e,t,a){var n=Ie(e);for(;n.index<(n.keyedList||e).length;)Ce(e,t,n,(function(e,t){e?a(e,t):0!==Object.keys(n.jobs).length||a(null,n.results)})),n.index++;return Oe.bind(n,a)};var De={exports:{}},ke=be,Re=Ae,Le=Ne;function Me(e,t){return e<t?-1:e>t?1:0}De.exports=function(e,t,a,n){var s=Re(e,a);return ke(e,t,s,(function a(i,r){i?n(i,r):(s.index++,s.index<(s.keyedList||e).length?ke(e,t,s,a):n(null,s.results))})),Le.bind(s,n)},De.exports.ascending=Me,De.exports.descending=function(e,t){return-1*Me(e,t)};var Pe=De.exports,Fe=Pe;var Ue={parallel:we,serial:function(e,t,a){return Fe(e,t,null,a)},serialOrdered:Pe},Be=de,He=t,Ge=i,je=r,qe=o,Ye=c.parse,ze=l,Ve=n.Stream,We=me,Ze=Ue,Qe=function(e,t){return Object.keys(t).forEach((function(a){e[a]=e[a]||t[a]})),e},Ke=$e;function $e(e){if(!(this instanceof $e))return new $e(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Be.call(this),e=e||{})this[t]=e[t]}He.inherits($e,Be),$e.LINE_BREAK="\r\n",$e.DEFAULT_CONTENT_TYPE="application/octet-stream",$e.prototype.append=function(e,t,a){"string"==typeof(a=a||{})&&(a={filename:a});var n=Be.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),He.isArray(t))this._error(new Error("Arrays are not supported."));else{var s=this._multiPartHeader(e,t,a),i=this._multiPartFooter();n(s),n(t),n(i),this._trackLength(s,t,a)}},$e.prototype._trackLength=function(e,t,a){var n=0;null!=a.knownLength?n+=+a.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+$e.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof Ve)&&(a.knownLength||this._valuesToMeasure.push(t))},$e.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?null!=e.end&&e.end!=1/0&&null!=e.start?t(null,e.end+1-(e.start?e.start:0)):ze.stat(e.path,(function(a,n){var s;a?t(a):(s=n.size-(e.start?e.start:0),t(null,s))})):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",(function(a){e.pause(),t(null,+a.headers["content-length"])})),e.resume()):t("Unknown stream")},$e.prototype._multiPartHeader=function(e,t,a){if("string"==typeof a.header)return a.header;var n,s=this._getContentDisposition(t,a),i=this._getContentType(t,a),r="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(s||[]),"Content-Type":[].concat(i||[])};for(var c in"object"==typeof a.header&&Qe(o,a.header),o)o.hasOwnProperty(c)&&null!=(n=o[c])&&(Array.isArray(n)||(n=[n]),n.length&&(r+=c+": "+n.join("; ")+$e.LINE_BREAK));return"--"+this.getBoundary()+$e.LINE_BREAK+r+$e.LINE_BREAK},$e.prototype._getContentDisposition=function(e,t){var a,n;return"string"==typeof t.filepath?a=Ge.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?a=Ge.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(a=Ge.basename(e.client._httpMessage.path||"")),a&&(n='filename="'+a+'"'),n},$e.prototype._getContentType=function(e,t){var a=t.contentType;return!a&&e.name&&(a=We.lookup(e.name)),!a&&e.path&&(a=We.lookup(e.path)),!a&&e.readable&&e.hasOwnProperty("httpVersion")&&(a=e.headers["content-type"]),a||!t.filepath&&!t.filename||(a=We.lookup(t.filepath||t.filename)),a||"object"!=typeof e||(a=$e.DEFAULT_CONTENT_TYPE),a},$e.prototype._multiPartFooter=function(){return function(e){var t=$e.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}.bind(this)},$e.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+$e.LINE_BREAK},$e.prototype.getHeaders=function(e){var t,a={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(a[t.toLowerCase()]=e[t]);return a},$e.prototype.setBoundary=function(e){this._boundary=e},$e.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},$e.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),a=0,n=this._streams.length;a<n;a++)"function"!=typeof this._streams[a]&&(e=Buffer.isBuffer(this._streams[a])?Buffer.concat([e,this._streams[a]]):Buffer.concat([e,Buffer.from(this._streams[a])]),"string"==typeof this._streams[a]&&this._streams[a].substring(2,t.length+2)===t||(e=Buffer.concat([e,Buffer.from($e.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},$e.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},$e.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e},$e.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},$e.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;this._streams.length&&(t+=this._lastBoundary().length),this._valuesToMeasure.length?Ze.parallel(this._valuesToMeasure,this._lengthRetriever,(function(a,n){a?e(a):(n.forEach((function(e){t+=e})),e(null,t))})):process.nextTick(e.bind(this,null,t))},$e.prototype.submit=function(e,t){var a,n,s={method:"post"};return"string"==typeof e?(e=Ye(e),n=Qe({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},s)):(n=Qe(e,s)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),a="https:"==n.protocol?qe.request(n):je.request(n),this.getLength(function(e,n){if(e&&"Unknown stream"!==e)this._error(e);else if(n&&a.setHeader("Content-Length",n),this.pipe(a),t){var s,i=function(e,n){return a.removeListener("error",i),a.removeListener("response",s),t.call(this,e,n)};s=i.bind(this,null),a.on("error",i),a.on("response",s)}}.bind(this)),a},$e.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},$e.prototype.toString=function(){return"[object FormData]"};var Xe=x(Ke);function Je(e){return ae.isPlainObject(e)||ae.isArray(e)}function et(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function tt(e,t,a){return e?e.concat(t).map((function(e,t){return e=et(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const at=ae.toFlatObject(ae,{},null,(function(e){return/^is[A-Z]/.test(e)}));function nt(e,t,a){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new(Xe||FormData);const n=(a=ae.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ae.isUndefined(t[e])}))).metaTokens,s=a.visitor||l,i=a.dots,r=a.indexes,o=(a.Blob||"undefined"!=typeof Blob&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(s))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(ae.isDate(e))return e.toISOString();if(!o&&ae.isBlob(e))throw new ne("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(e)||ae.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,a,s){let o=e;if(e&&!s&&"object"==typeof e)if(ae.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(ae.isArray(e)&&function(e){return ae.isArray(e)&&!e.some(Je)}(e)||(ae.isFileList(e)||ae.endsWith(a,"[]"))&&(o=ae.toArray(e)))return a=et(a),o.forEach((function(e,n){!ae.isUndefined(e)&&null!==e&&t.append(!0===r?tt([a],n,i):null===r?a:a+"[]",c(e))})),!1;return!!Je(e)||(t.append(tt(s,a,i),c(e)),!1)}const u=[],p=Object.assign(at,{defaultVisitor:l,convertValue:c,isVisitable:Je});if(!ae.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!ae.isUndefined(a)){if(-1!==u.indexOf(a))throw Error("Circular reference detected in "+n.join("."));u.push(a),ae.forEach(a,(function(a,i){!0===(!(ae.isUndefined(a)||null===a)&&s.call(t,a,ae.isString(i)?i.trim():i,n,p))&&e(a,n?n.concat(i):[i])})),u.pop()}}(e),t}function st(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function it(e,t){this._pairs=[],e&&nt(e,this,t)}const rt=it.prototype;function ot(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ct(e,t,a){if(!t)return e;const n=a&&a.encode||ot,s=a&&a.serialize;let i;if(i=s?s(t,a):ae.isURLSearchParams(t)?t.toString():new it(t,a).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}rt.append=function(e,t){this._pairs.push([e,t])},rt.toString=function(e){const t=e?function(t){return e.call(this,t,st)}:st;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class lt{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pt={isNode:!0,classes:{URLSearchParams:c.URLSearchParams,FormData:Xe,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]};const dt="undefined"!=typeof window&&"undefined"!=typeof document,ht=(mt="undefined"!=typeof navigator&&navigator.product,dt&&["ReactNative","NativeScript","NS"].indexOf(mt)<0);var mt;const ft="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var gt={...Object.freeze({__proto__:null,hasBrowserEnv:dt,hasStandardBrowserEnv:ht,hasStandardBrowserWebWorkerEnv:ft}),...pt};function _t(e){function t(e,a,n,s){let i=e[s++];if("__proto__"===i)return!0;const r=Number.isFinite(+i),o=s>=e.length;if(i=!i&&ae.isArray(n)?n.length:i,o)return ae.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!r;n[i]&&ae.isObject(n[i])||(n[i]=[]);return t(e,a,n[i],s)&&ae.isArray(n[i])&&(n[i]=function(e){const t={},a=Object.keys(e);let n;const s=a.length;let i;for(n=0;n<s;n++)i=a[n],t[i]=e[i];return t}(n[i])),!r}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const a={};return ae.forEachEntry(e,((e,n)=>{t(function(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,a,0)})),a}return null}const Et={transitional:ut,adapter:["xhr","http"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,s=ae.isObject(e);s&&ae.isHTMLForm(e)&&(e=new FormData(e));if(ae.isFormData(e))return n?JSON.stringify(_t(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return nt(e,new gt.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,n){return gt.isNode&&ae.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=ae.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return nt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,a){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Et.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&ae.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw ne.from(e,ne.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gt.classes.FormData,Blob:gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],(e=>{Et.headers[e]={}}));const Tt=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const vt=Symbol("internals");function xt(e){return e&&String(e).trim().toLowerCase()}function bt(e){return!1===e||null==e?e:ae.isArray(e)?e.map(bt):String(e)}function At(e,t,a,n,s){return ae.isFunction(n)?n.call(this,t,a):(s&&(t=a),ae.isString(t)?ae.isString(n)?-1!==t.indexOf(n):ae.isRegExp(n)?n.test(t):void 0:void 0)}class yt{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function s(e,t,a){const s=xt(t);if(!s)throw new Error("header name must be a non-empty string");const i=ae.findKey(n,s);(!i||void 0===n[i]||!0===a||void 0===a&&!1!==n[i])&&(n[i||t]=bt(e))}const i=(e,t)=>ae.forEach(e,((e,a)=>s(e,a,t)));return ae.isPlainObject(e)||e instanceof this.constructor?i(e,t):ae.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let a,n,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),a=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!a||t[a]&&Tt[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)})),t})(e),t):null!=e&&s(t,e,a),this}get(e,t){if(e=xt(e)){const a=ae.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(ae.isFunction(t))return t.call(this,e,a);if(ae.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xt(e)){const a=ae.findKey(this,e);return!(!a||void 0===this[a]||t&&!At(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function s(e){if(e=xt(e)){const s=ae.findKey(a,e);!s||t&&!At(0,a[s],s,t)||(delete a[s],n=!0)}}return ae.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const s=t[a];e&&!At(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,a={};return ae.forEach(this,((n,s)=>{const i=ae.findKey(a,s);if(i)return t[i]=bt(n),void delete t[s];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(s):String(s).trim();r!==s&&delete t[s],t[r]=bt(n),a[r]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ae.forEach(this,((a,n)=>{null!=a&&!1!==a&&(t[n]=e&&ae.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach((e=>a.set(e))),a}static accessor(e){const t=(this[vt]=this[vt]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=xt(e);t[n]||(!function(e,t){const a=ae.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+a,{value:function(e,a,s){return this[n].call(this,t,e,a,s)},configurable:!0})}))}(a,e),t[n]=!0)}return ae.isArray(e)?e.forEach(n):n(e),this}}function St(e,t){const a=this||Et,n=t||a,s=yt.from(n.headers);let i=n.data;return ae.forEach(e,(function(e){i=e.call(a,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function Nt(e){return!(!e||!e.__CANCEL__)}function Ct(e,t,a){ne.call(this,null==e?"canceled":e,ne.ERR_CANCELED,t,a),this.name="CanceledError"}function It(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new ne("Request failed with status code "+a.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}function Ot(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ae.reduceDescriptors(yt.prototype,(({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[a]=e}}})),ae.freezeMethods(yt),ae.inherits(Ct,ne,{__CANCEL__:!0});var wt=c.parse,Dt={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},kt=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function Rt(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}var Lt=function(e){var t="string"==typeof e?wt(e):e||{},a=t.protocol,n=t.host,s=t.port;if("string"!=typeof n||!n||"string"!=typeof a)return"";if(a=a.split(":",1)[0],!function(e,t){var a=(Rt("npm_config_no_proxy")||Rt("no_proxy")).toLowerCase();if(!a)return!0;if("*"===a)return!1;return a.split(/[,\s]/).every((function(a){if(!a)return!0;var n=a.match(/^(.+):(\d+)$/),s=n?n[1]:a,i=n?parseInt(n[2]):0;return!(!i||i===t)||(/^[.*]/.test(s)?("*"===s.charAt(0)&&(s=s.slice(1)),!kt.call(e,s)):e!==s)}))}(n=n.replace(/:\d*$/,""),s=parseInt(s)||Dt[a]||0))return"";var i=Rt("npm_config_"+a+"_proxy")||Rt(a+"_proxy")||Rt("npm_config_proxy")||Rt("all_proxy");return i&&-1===i.indexOf("://")&&(i=a+"://"+i),i},Mt={exports:{}},Pt={exports:{}},Ft={exports:{}},Ut=1e3,Bt=60*Ut,Ht=60*Bt,Gt=24*Ht,jt=7*Gt,qt=365.25*Gt,Yt=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*qt;case"weeks":case"week":case"w":return a*jt;case"days":case"day":case"d":return a*Gt;case"hours":case"hour":case"hrs":case"hr":case"h":return a*Ht;case"minutes":case"minute":case"mins":case"min":case"m":return a*Bt;case"seconds":case"second":case"secs":case"sec":case"s":return a*Ut;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Gt)return zt(e,t,Gt,"day");if(t>=Ht)return zt(e,t,Ht,"hour");if(t>=Bt)return zt(e,t,Bt,"minute");if(t>=Ut)return zt(e,t,Ut,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Gt)return Math.round(e/Gt)+"d";if(t>=Ht)return Math.round(e/Ht)+"h";if(t>=Bt)return Math.round(e/Bt)+"m";if(t>=Ut)return Math.round(e/Ut)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function zt(e,t,a,n){var s=t>=1.5*a;return Math.round(e/a)+" "+n+(s?"s":"")}var Vt,Wt,Zt,Qt=x(Yt);function Kt(){if(Wt)return Vt;return Wt=1,Vt=function(e){function t(e){let n,s,i,r=null;function o(...e){if(!o.enabled)return;const a=o,s=Number(new Date),i=s-(n||s);a.diff=i,a.prev=n,a.curr=s,n=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let r=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,s)=>{if("%%"===n)return"%";r++;const i=t.formatters[s];if("function"==typeof i){const t=e[r];n=i.call(a,t),e.splice(r,1),r--}return n})),t.formatArgs.call(a,e);(a.log||t.log).apply(a,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=a,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(s!==t.namespaces&&(s=t.namespaces,i=t.enabled(e)),i),set:e=>{r=e}}),"function"==typeof t.init&&t.init(o),o}function a(e,a){const n=t(this.namespace+(void 0===a?":":a)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let a;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(a=0;a<s;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let a,n;for(a=0,n=t.skips.length;a<n;a++)if(t.skips[a].test(e))return!1;for(a=0,n=t.names.length;a<n;a++)if(t.names[a].test(e))return!0;return!1},t.humanize=Yt,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((a=>{t[a]=e[a]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let a=0;for(let t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return t.colors[Math.abs(a)%t.colors.length]},t.enable(t.load()),t},Vt}var $t,Xt,Jt,ea,ta,aa,na,sa={exports:{}};function ia(){return Xt?$t:(Xt=1,$t=(e,t=process.argv)=>{const a=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(a+e),s=t.indexOf("--");return-1!==n&&(-1===s||n<s)})}function ra(){return ta||(ta=1,function(e,a){const n=p,s=t;a.init=function(e){e.inspectOpts={};const t=Object.keys(a.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=a.inspectOpts[t[n]]},a.log=function(...e){return process.stderr.write(s.format(...e)+"\n")},a.formatArgs=function(t){const{namespace:n,useColors:s}=this;if(s){const a=this.color,s="[3"+(a<8?a:"8;5;"+a),i=`  ${s};1m${n} [0m`;t[0]=i+t[0].split("\n").join("\n"+i),t.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else t[0]=function(){if(a.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+t[0]},a.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},a.load=function(){return process.env.DEBUG},a.useColors=function(){return"colors"in a.inspectOpts?Boolean(a.inspectOpts.colors):n.isatty(process.stderr.fd)},a.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),a.colors=[6,2,3,4,5,1];try{const e=function(){if(ea)return Jt;ea=1;const e=d,t=p,a=ia(),{env:n}=process;let s;function i(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function r(t,i){if(0===s)return 0;if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2;if(t&&!i&&void 0===s)return 0;const r=s||0;if("dumb"===n.TERM)return r;if("win32"===process.platform){const t=e.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in n))||"codeship"===n.CI_NAME?1:r;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if("truecolor"===n.COLORTERM)return 3;if("TERM_PROGRAM"in n){const e=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:r}return a("no-color")||a("no-colors")||a("color=false")||a("color=never")?s=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(s=1),"FORCE_COLOR"in n&&(s="true"===n.FORCE_COLOR?1:"false"===n.FORCE_COLOR?0:0===n.FORCE_COLOR.length?1:Math.min(parseInt(n.FORCE_COLOR,10),3)),Jt={supportsColor:function(e){return i(r(e,e&&e.isTTY))},stdout:i(r(!0,t.isatty(1))),stderr:i(r(!0,t.isatty(2)))},Jt}();e&&(e.stderr||e).level>=2&&(a.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}a.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const a=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[a]=n,e}),{}),e.exports=Kt()(a);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}}(sa,sa.exports)),sa.exports}function oa(){return aa||(aa=1,"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?Pt.exports=(Zt||(Zt=1,function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;t.splice(1,0,a,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))})),t.splice(s,0,a)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Kt()(t);const{formatters:a}=e.exports;a.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(Ft,Ft.exports)),Ft.exports):Pt.exports=ra()),Pt.exports}var ca=c,la=ca.URL,ua=r,pa=o,da=n.Writable,ha=u,ma=function(){if(!na){try{na=oa()("follow-redirects")}catch(e){}"function"!=typeof na&&(na=function(){})}na.apply(null,arguments)},fa=!1;try{ha(new la)}catch(e){fa="ERR_INVALID_URL"===e.code}var ga=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],_a=["abort","aborted","connect","error","socket","timeout"],Ea=Object.create(null);_a.forEach((function(e){Ea[e]=function(t,a,n){this._redirectable.emit(e,t,a,n)}}));var Ta=ka("ERR_INVALID_URL","Invalid URL",TypeError),va=ka("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),xa=ka("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",va),ba=ka("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Aa=ka("ERR_STREAM_WRITE_AFTER_END","write after end"),ya=da.prototype.destroy||Ca;function Sa(e,t){da.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var a=this;this._onNativeResponse=function(e){try{a._processResponse(e)}catch(e){a.emit("error",e instanceof va?e:new va({cause:e}))}},this._performRequest()}function Na(e){var t={maxRedirects:21,maxBodyLength:10485760},a={};return Object.keys(e).forEach((function(n){var s=n+":",i=a[s]=e[n],r=t[n]=Object.create(i);Object.defineProperties(r,{request:{value:function(e,n,i){var r;return r=e,la&&r instanceof la?e=wa(e):La(e)?e=wa(Ia(e)):(i=n,n=Oa(e),e={protocol:s}),Ma(n)&&(i=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=a,La(n.host)||La(n.hostname)||(n.hostname="::1"),ha.equal(n.protocol,s,"protocol mismatch"),ma("options",n),new Sa(n,i)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,a){var n=r.request(e,t,a);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function Ca(){}function Ia(e){var t;if(fa)t=new la(e);else if(!La((t=Oa(ca.parse(e))).protocol))throw new Ta({input:e});return t}function Oa(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new Ta({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new Ta({input:e.href||e});return e}function wa(e,t){var a=t||{};for(var n of ga)a[n]=e[n];return a.hostname.startsWith("[")&&(a.hostname=a.hostname.slice(1,-1)),""!==a.port&&(a.port=Number(a.port)),a.path=a.search?a.pathname+a.search:a.pathname,a}function Da(e,t){var a;for(var n in t)e.test(n)&&(a=t[n],delete t[n]);return null==a?void 0:String(a).trim()}function ka(e,t,a){function n(a){Error.captureStackTrace(this,this.constructor),Object.assign(this,a||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(a||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function Ra(e,t){for(var a of _a)e.removeListener(a,Ea[a]);e.on("error",Ca),e.destroy(t)}function La(e){return"string"==typeof e||e instanceof String}function Ma(e){return"function"==typeof e}Sa.prototype=Object.create(da.prototype),Sa.prototype.abort=function(){Ra(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},Sa.prototype.destroy=function(e){return Ra(this._currentRequest,e),ya.call(this,e),this},Sa.prototype.write=function(e,t,a){if(this._ending)throw new Aa;if(!La(e)&&("object"!=typeof(n=e)||!("length"in n)))throw new TypeError("data should be a string, Buffer or Uint8Array");var n;Ma(t)&&(a=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,a)):(this.emit("error",new ba),this.abort()):a&&a()},Sa.prototype.end=function(e,t,a){if(Ma(e)?(a=e,e=t=null):Ma(t)&&(a=t,t=null),e){var n=this,s=this._currentRequest;this.write(e,t,(function(){n._ended=!0,s.end(null,null,a)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,a)},Sa.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},Sa.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},Sa.prototype.setTimeout=function(e,t){var a=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function s(t){a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout((function(){a.emit("timeout"),i()}),e),n(t)}function i(){a._timeout&&(clearTimeout(a._timeout),a._timeout=null),a.removeListener("abort",i),a.removeListener("error",i),a.removeListener("response",i),a.removeListener("close",i),t&&a.removeListener("timeout",t),a.socket||a._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){Sa.prototype[e]=function(t,a){return this._currentRequest[e](t,a)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(Sa.prototype,e,{get:function(){return this._currentRequest[e]}})})),Sa.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},Sa.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var a=e.slice(0,-1);this._options.agent=this._options.agents[a]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var s of(n._redirectable=this,_a))n.on(s,Ea[s]);if(this._currentUrl=/^\//.test(this._options.path)?ca.format(this._options):this._options.path,this._isRedirect){var i=0,r=this,o=this._requestBodyBuffers;!function e(t){if(n===r._currentRequest)if(t)r.emit("error",t);else if(i<o.length){var a=o[i++];n.finished||n.write(a.data,a.encoding,e)}else r._ended&&n.end()}()}},Sa.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var a,n=e.headers.location;if(!n||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(Ra(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new xa;var s=this._options.beforeRedirect;s&&(a=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var i=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Da(/^content-/i,this._options.headers));var r,o,c=Da(/^host$/i,this._options.headers),l=Ia(this._currentUrl),u=c||l.host,p=/^\w+:/.test(n)?this._currentUrl:ca.format(Object.assign(l,{host:u})),d=(r=n,o=p,fa?new la(r,o):Ia(ca.resolve(o,r)));if(ma("redirecting to",d.href),this._isRedirect=!0,wa(d,this._options),(d.protocol!==l.protocol&&"https:"!==d.protocol||d.host!==u&&!function(e,t){ha(La(e)&&La(t));var a=e.length-t.length-1;return a>0&&"."===e[a]&&e.endsWith(t)}(d.host,u))&&Da(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Ma(s)){var h={headers:e.headers,statusCode:t},m={url:p,method:i,headers:a};s(this._options,h,m),this._sanitizeOptions(this._options)}this._performRequest()},Mt.exports=Na({http:ua,https:pa}),Mt.exports.wrap=Na;var Pa=x(Mt.exports);const Fa="1.6.7";function Ua(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const Ba=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Ha(e,t){e=e||10;const a=new Array(e),n=new Array(e);let s,i=0,r=0;return t=void 0!==t?t:1e3,function(o){const c=Date.now(),l=n[r];s||(s=c),a[i]=o,n[i]=c;let u=r,p=0;for(;u!==i;)p+=a[u++],u%=e;if(i=(i+1)%e,i===r&&(r=(r+1)%e),c-s<t)return;const d=l&&c-l;return d?Math.round(1e3*p/d):void 0}}const Ga=Symbol("internals");class ja extends n.Transform{constructor(e){e=ae.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,((e,t)=>!ae.isUndefined(t[e]))),super({readableHighWaterMark:e.chunkSize});const t=this,a=this[Ga]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},n=Ha(a.ticksRate*e.samplesCount,a.timeWindow);this.on("newListener",(e=>{"progress"===e&&(a.isCaptured||(a.isCaptured=!0))}));let s=0;a.updateProgress=function(e,t){let a=0;const n=1e3/t;let s=null;return function(t,i){const r=Date.now();if(t||r-a>n)return s&&(clearTimeout(s),s=null),a=r,e.apply(null,i);s||(s=setTimeout((()=>(s=null,a=Date.now(),e.apply(null,i))),n-(r-a)))}}((function(){const e=a.length,i=a.bytesSeen,r=i-s;if(!r||t.destroyed)return;const o=n(r);s=i,process.nextTick((()=>{t.emit("progress",{loaded:i,total:e,progress:e?i/e:void 0,bytes:r,rate:o||void 0,estimated:o&&e&&i<=e?(e-i)/o:void 0})}))}),a.ticksRate);const i=()=>{a.updateProgress(!0)};this.once("end",i),this.once("error",i)}_read(e){const t=this[Ga];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,a){const n=this,s=this[Ga],i=s.maxRate,r=this.readableHighWaterMark,o=s.timeWindow,c=i/(1e3/o),l=!1!==s.minChunkSize?Math.max(s.minChunkSize,.01*c):0;const u=(e,t)=>{const a=Buffer.byteLength(e);let u,p=null,d=r,h=0;if(i){const e=Date.now();(!s.ts||(h=e-s.ts)>=o)&&(s.ts=e,u=c-s.bytes,s.bytes=u<0?-u:0,h=0),u=c-s.bytes}if(i){if(u<=0)return setTimeout((()=>{t(null,e)}),o-h);u<d&&(d=u)}d&&a>d&&a-d>l&&(p=e.subarray(d),e=e.subarray(0,d)),function(e,t){const a=Buffer.byteLength(e);s.bytesSeen+=a,s.bytes+=a,s.isCaptured&&s.updateProgress(),n.push(e)?process.nextTick(t):s.onReadCallback=()=>{s.onReadCallback=null,process.nextTick(t)}}(e,p?()=>{process.nextTick(t,null,p)}:t)};u(e,(function e(t,n){if(t)return a(t);n?u(n,e):a(null)}))}setLength(e){return this[Ga].length=+e,this}}const{asyncIterator:qa}=Symbol,Ya=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[qa]?yield*e[qa]():yield e},za=ae.ALPHABET.ALPHA_DIGIT+"-_",Va=new a,Wa="\r\n",Za=Va.encode(Wa);class Qa{constructor(e,t){const{escapeName:a}=this.constructor,n=ae.isString(t);let s=`Content-Disposition: form-data; name="${a(e)}"${!n&&t.name?`; filename="${a(t.name)}"`:""}${Wa}`;n?t=Va.encode(String(t).replace(/\r?\n|\r\n?/g,Wa)):s+=`Content-Type: ${t.type||"application/octet-stream"}${Wa}`,this.headers=Va.encode(s+Wa),this.contentLength=n?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async*encode(){yield this.headers;const{value:e}=this;ae.isTypedArray(e)?yield e:yield*Ya(e),yield Za}static escapeName(e){return String(e).replace(/[\r\n"]/g,(e=>({"\r":"%0D","\n":"%0A",'"':"%22"}[e])))}}class Ka extends n.Transform{__transform(e,t,a){this.push(e),a()}_transform(e,t,a){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){const e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,a)}}const $a=(e,t)=>ae.isAsyncFn(e)?function(...a){const n=a.pop();e.apply(this,a).then((e=>{try{t?n(null,...t(e)):n(null,e)}catch(e){n(e)}}),n)}:e,Xa={flush:h.constants.Z_SYNC_FLUSH,finishFlush:h.constants.Z_SYNC_FLUSH},Ja={flush:h.constants.BROTLI_OPERATION_FLUSH,finishFlush:h.constants.BROTLI_OPERATION_FLUSH},en=ae.isFunction(h.createBrotliDecompress),{http:tn,https:an}=Pa,nn=/https:?/,sn=gt.protocols.map((e=>e+":"));function rn(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}function on(e,t,a){let n=t;if(!n&&!1!==n){const e=Lt(a);e&&(n=new URL(e))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));const t=Buffer.from(n.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+t}e.headers.host=e.hostname+(e.port?":"+e.port:"");const t=n.hostname||n.host;e.hostname=t,e.host=t,e.port=n.port,e.path=a,n.protocol&&(e.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}e.beforeRedirects.proxy=function(e){on(e,t,e.href)}}const cn="undefined"!=typeof process&&"process"===ae.kindOf(process),ln=(e,t)=>(({address:e,family:t})=>{if(!ae.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(e.indexOf(".")<0?6:4)}})(ae.isObject(e)?e:{address:e,family:t});var un=cn&&function(e){return a=async function(a,i,c){let{data:l,lookup:u,family:p}=e;const{responseType:d,responseEncoding:f}=e,g=e.method.toUpperCase();let _,E,T=!1;if(u){const e=$a(u,(e=>ae.isArray(e)?e:[e]));u=(t,a,n)=>{e(t,a,((e,t,s)=>{if(e)return n(e);const i=ae.isArray(t)?t.map((e=>ln(e))):[ln(t,s)];a.all?n(e,i):n(e,i[0].address,i[0].family)}))}}const v=new m,x=()=>{e.cancelToken&&e.cancelToken.unsubscribe(b),e.signal&&e.signal.removeEventListener("abort",b),v.removeAllListeners()};function b(t){v.emit("abort",!t||t.type?new Ct(null,e,E):t)}c(((e,t)=>{_=!0,t&&(T=!0,x())})),v.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(b),e.signal&&(e.signal.aborted?b():e.signal.addEventListener("abort",b)));const A=Ot(e.baseURL,e.url),y=new URL(A,"http://localhost"),S=y.protocol||sn[0];if("data:"===S){let t;if("GET"!==g)return It(a,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{t=function(e,t,a){const n=a&&a.Blob||gt.classes.Blob,s=Ua(e);if(void 0===t&&n&&(t=!0),"data"===s){e=s.length?e.slice(s.length+1):e;const a=Ba.exec(e);if(!a)throw new ne("Invalid URL",ne.ERR_INVALID_URL);const i=a[1],r=a[2],o=a[3],c=Buffer.from(decodeURIComponent(o),r?"base64":"utf8");if(t){if(!n)throw new ne("Blob is not supported",ne.ERR_NOT_SUPPORT);return new n([c],{type:i})}return c}throw new ne("Unsupported protocol "+s,ne.ERR_NOT_SUPPORT)}(e.url,"blob"===d,{Blob:e.env&&e.env.Blob})}catch(t){throw ne.from(t,ne.ERR_BAD_REQUEST,e)}return"text"===d?(t=t.toString(f),f&&"utf8"!==f||(t=ae.stripBOM(t))):"stream"===d&&(t=n.Readable.from(t)),It(a,i,{data:t,status:200,statusText:"OK",headers:new yt,config:e})}if(-1===sn.indexOf(S))return i(new ne("Unsupported protocol "+S,ne.ERR_BAD_REQUEST,e));const N=yt.from(e.headers).normalize();N.set("User-Agent","axios/"+Fa,!1);const C=e.onDownloadProgress,I=e.onUploadProgress,O=e.maxRate;let w,D;if(ae.isSpecCompliantForm(l)){const e=N.getContentType(/boundary=([-_\w\d]{10,70})/i);l=((e,t,a)=>{const{tag:n="form-data-boundary",size:i=25,boundary:r=n+"-"+ae.generateString(i,za)}=a||{};if(!ae.isFormData(e))throw TypeError("FormData instance required");if(r.length<1||r.length>70)throw Error("boundary must be 10-70 characters long");const o=Va.encode("--"+r+Wa),c=Va.encode("--"+r+"--"+Wa+Wa);let l=c.byteLength;const u=Array.from(e.entries()).map((([e,t])=>{const a=new Qa(e,t);return l+=a.size,a}));l+=o.byteLength*u.length,l=ae.toFiniteNumber(l);const p={"Content-Type":`multipart/form-data; boundary=${r}`};return Number.isFinite(l)&&(p["Content-Length"]=l),t&&t(p),s.from(async function*(){for(const e of u)yield o,yield*e.encode();yield c}())})(l,(e=>{N.set(e)}),{tag:`axios-${Fa}-boundary`,boundary:e&&e[1]||void 0})}else if(ae.isFormData(l)&&ae.isFunction(l.getHeaders)){if(N.set(l.getHeaders()),!N.hasContentLength())try{const e=await t.promisify(l.getLength).call(l);Number.isFinite(e)&&e>=0&&N.setContentLength(e)}catch(e){}}else if(ae.isBlob(l))l.size&&N.setContentType(l.type||"application/octet-stream"),N.setContentLength(l.size||0),l=n.Readable.from(Ya(l));else if(l&&!ae.isStream(l)){if(Buffer.isBuffer(l));else if(ae.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else{if(!ae.isString(l))return i(new ne("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",ne.ERR_BAD_REQUEST,e));l=Buffer.from(l,"utf-8")}if(N.setContentLength(l.length,!1),e.maxBodyLength>-1&&l.length>e.maxBodyLength)return i(new ne("Request body larger than maxBodyLength limit",ne.ERR_BAD_REQUEST,e))}const k=ae.toFiniteNumber(N.getContentLength());let R,L;ae.isArray(O)?(w=O[0],D=O[1]):w=D=O,l&&(I||w)&&(ae.isStream(l)||(l=n.Readable.from(l,{objectMode:!1})),l=n.pipeline([l,new ja({length:k,maxRate:ae.toFiniteNumber(w)})],ae.noop),I&&l.on("progress",(e=>{I(Object.assign(e,{upload:!0}))}))),e.auth&&(R=(e.auth.username||"")+":"+(e.auth.password||"")),!R&&y.username&&(R=y.username+":"+y.password),R&&N.delete("authorization");try{L=ct(y.pathname+y.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(t){const a=new Error(t.message);return a.config=e,a.url=e.url,a.exists=!0,i(a)}N.set("Accept-Encoding","gzip, compress, deflate"+(en?", br":""),!1);const M={path:L,method:g,headers:N.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:R,protocol:S,family:p,beforeRedirect:rn,beforeRedirects:{}};let P;!ae.isUndefined(u)&&(M.lookup=u),e.socketPath?M.socketPath=e.socketPath:(M.hostname=y.hostname,M.port=y.port,on(M,e.proxy,S+"//"+y.hostname+(y.port?":"+y.port:"")+M.path));const F=nn.test(M.protocol);if(M.agent=F?e.httpsAgent:e.httpAgent,e.transport?P=e.transport:0===e.maxRedirects?P=F?o:r:(e.maxRedirects&&(M.maxRedirects=e.maxRedirects),e.beforeRedirect&&(M.beforeRedirects.config=e.beforeRedirect),P=F?an:tn),e.maxBodyLength>-1?M.maxBodyLength=e.maxBodyLength:M.maxBodyLength=1/0,e.insecureHTTPParser&&(M.insecureHTTPParser=e.insecureHTTPParser),E=P.request(M,(function(t){if(E.destroyed)return;const s=[t],r=+t.headers["content-length"];if(C){const e=new ja({length:ae.toFiniteNumber(r),maxRate:ae.toFiniteNumber(D)});C&&e.on("progress",(e=>{C(Object.assign(e,{download:!0}))})),s.push(e)}let o=t;const c=t.req||E;if(!1!==e.decompress&&t.headers["content-encoding"])switch("HEAD"!==g&&204!==t.statusCode||delete t.headers["content-encoding"],(t.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":s.push(h.createUnzip(Xa)),delete t.headers["content-encoding"];break;case"deflate":s.push(new Ka),s.push(h.createUnzip(Xa)),delete t.headers["content-encoding"];break;case"br":en&&(s.push(h.createBrotliDecompress(Ja)),delete t.headers["content-encoding"])}o=s.length>1?n.pipeline(s,ae.noop):s[0];const l=n.finished(o,(()=>{l(),x()})),u={status:t.statusCode,statusText:t.statusMessage,headers:new yt(t.headers),config:e,request:c};if("stream"===d)u.data=o,It(a,i,u);else{const t=[];let n=0;o.on("data",(function(a){t.push(a),n+=a.length,e.maxContentLength>-1&&n>e.maxContentLength&&(T=!0,o.destroy(),i(new ne("maxContentLength size of "+e.maxContentLength+" exceeded",ne.ERR_BAD_RESPONSE,e,c)))})),o.on("aborted",(function(){if(T)return;const t=new ne("maxContentLength size of "+e.maxContentLength+" exceeded",ne.ERR_BAD_RESPONSE,e,c);o.destroy(t),i(t)})),o.on("error",(function(t){E.destroyed||i(ne.from(t,null,e,c))})),o.on("end",(function(){try{let e=1===t.length?t[0]:Buffer.concat(t);"arraybuffer"!==d&&(e=e.toString(f),f&&"utf8"!==f||(e=ae.stripBOM(e))),u.data=e}catch(t){return i(ne.from(t,null,e,u.request,u))}It(a,i,u)}))}v.once("abort",(e=>{o.destroyed||(o.emit("error",e),o.destroy())}))})),v.once("abort",(e=>{i(e),E.destroy(e)})),E.on("error",(function(t){i(ne.from(t,null,e,E))})),E.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),e.timeout){const t=parseInt(e.timeout,10);if(Number.isNaN(t))return void i(new ne("error trying to parse `config.timeout` to int",ne.ERR_BAD_OPTION_VALUE,e,E));E.setTimeout(t,(function(){if(_)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const a=e.transitional||ut;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new ne(t,a.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,E)),b()}))}if(ae.isStream(l)){let t=!1,a=!1;l.on("end",(()=>{t=!0})),l.once("error",(e=>{a=!0,E.destroy(e)})),l.on("close",(()=>{t||a||b(new Ct("Request stream has been aborted",e,E))})),l.pipe(E)}else E.end(l)},new Promise(((e,t)=>{let n,s;const i=(e,t)=>{s||(s=!0,n&&n(e,t))},r=e=>{i(e,!0),t(e)};a((t=>{i(t),e(t)}),r,(e=>n=e)).catch(r)}));var a},pn=gt.hasStandardBrowserEnv?{write(e,t,a,n,s,i){const r=[e+"="+encodeURIComponent(t)];ae.isNumber(a)&&r.push("expires="+new Date(a).toGMTString()),ae.isString(n)&&r.push("path="+n),ae.isString(s)&&r.push("domain="+s),!0===i&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},dn=gt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let a;function n(a){let n=a;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return a=n(window.location.href),function(e){const t=ae.isString(e)?n(e):e;return t.protocol===a.protocol&&t.host===a.host}}():function(){return!0};function hn(e,t){let a=0;const n=Ha(50,250);return s=>{const i=s.loaded,r=s.lengthComputable?s.total:void 0,o=i-a,c=n(o);a=i;const l={loaded:i,total:r,progress:r?i/r:void 0,bytes:o,rate:c||void 0,estimated:c&&r&&i<=r?(r-i)/c:void 0,event:s};l[t?"download":"upload"]=!0,e(l)}}var mn="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){let n=e.data;const s=yt.from(e.headers).normalize();let i,r,{responseType:o,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(ae.isFormData(n))if(gt.hasStandardBrowserEnv||gt.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if(!1!==(r=s.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",a=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(t+":"+a))}const p=Ot(e.baseURL,e.url);function d(){if(!u)return;const n=yt.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());It((function(e){t(e),l()}),(function(e){a(e),l()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),ct(p,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(a(new ne("Request aborted",ne.ECONNABORTED,e,u)),u=null)},u.onerror=function(){a(new ne("Network Error",ne.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||ut;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),a(new ne(t,n.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,u)),u=null},gt.hasStandardBrowserEnv&&(c&&ae.isFunction(c)&&(c=c(e)),c||!1!==c&&dn(p))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&pn.read(e.xsrfCookieName);t&&s.set(e.xsrfHeaderName,t)}void 0===n&&s.setContentType(null),"setRequestHeader"in u&&ae.forEach(s.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),ae.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",hn(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",hn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{u&&(a(!t||t.type?new Ct(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const h=Ua(p);h&&-1===gt.protocols.indexOf(h)?a(new ne("Unsupported protocol "+h+":",ne.ERR_BAD_REQUEST,e)):u.send(n||null)}))};const fn={http:un,xhr:mn};ae.forEach(fn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const gn=e=>`- ${e}`,_n=e=>ae.isFunction(e)||null===e||!1===e;var En=e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let a,n;const s={};for(let i=0;i<t;i++){let t;if(a=e[i],n=a,!_n(a)&&(n=fn[(t=String(a)).toLowerCase()],void 0===n))throw new ne(`Unknown adapter '${t}'`);if(n)break;s[t||"#"+i]=n}if(!n){const e=Object.entries(s).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new ne("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(gn).join("\n"):" "+gn(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Tn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ct(null,e)}function vn(e){Tn(e),e.headers=yt.from(e.headers),e.data=St.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return En(e.adapter||Et.adapter)(e).then((function(t){return Tn(e),t.data=St.call(e,e.transformResponse,t),t.headers=yt.from(t.headers),t}),(function(t){return Nt(t)||(Tn(e),t&&t.response&&(t.response.data=St.call(e,e.transformResponse,t.response),t.response.headers=yt.from(t.response.headers))),Promise.reject(t)}))}const xn=e=>e instanceof yt?e.toJSON():e;function bn(e,t){t=t||{};const a={};function n(e,t,a){return ae.isPlainObject(e)&&ae.isPlainObject(t)?ae.merge.call({caseless:a},e,t):ae.isPlainObject(t)?ae.merge({},t):ae.isArray(t)?t.slice():t}function s(e,t,a){return ae.isUndefined(t)?ae.isUndefined(e)?void 0:n(void 0,e,a):n(e,t,a)}function i(e,t){if(!ae.isUndefined(t))return n(void 0,t)}function r(e,t){return ae.isUndefined(t)?ae.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(a,s,i){return i in t?n(a,s):i in e?n(void 0,a):void 0}const c={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(e,t)=>s(xn(e),xn(t),!0)};return ae.forEach(Object.keys(Object.assign({},e,t)),(function(n){const i=c[n]||s,r=i(e[n],t[n],n);ae.isUndefined(r)&&i!==o||(a[n]=r)})),a}const An={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{An[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const yn={};An.transitional=function(e,t,a){function n(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,s,i)=>{if(!1===e)throw new ne(n(s," has been removed"+(t?" in "+t:"")),ne.ERR_DEPRECATED);return t&&!yn[s]&&(yn[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,s,i)}};var Sn={assertOptions:function(e,t,a){if("object"!=typeof e)throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],r=t[i];if(r){const t=e[i],a=void 0===t||r(t,i,e);if(!0!==a)throw new ne("option "+i+" must be "+a,ne.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new ne("Unknown option "+i,ne.ERR_BAD_OPTION)}},validators:An};const Nn=Sn.validators;class Cn{constructor(e){this.defaults=e,this.interceptors={request:new lt,response:new lt}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const a=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?a&&!String(e.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+a):e.stack=a}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=bn(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:s}=t;void 0!==a&&Sn.assertOptions(a,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),null!=n&&(ae.isFunction(n)?t.paramsSerializer={serialize:n}:Sn.assertOptions(n,{encode:Nn.function,serialize:Nn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&ae.merge(s.common,s[t.method]);s&&ae.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=yt.concat(i,s);const r=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,p=0;if(!o){const e=[vn.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);p<u;)l=l.then(e[p++],e[p++]);return l}u=r.length;let d=t;for(p=0;p<u;){const e=r[p++],t=r[p++];try{d=e(d)}catch(e){t.call(this,e);break}}try{l=vn.call(this,d)}catch(e){return Promise.reject(e)}for(p=0,u=c.length;p<u;)l=l.then(c[p++],c[p++]);return l}getUri(e){return ct(Ot((e=bn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ae.forEach(["delete","get","head","options"],(function(e){Cn.prototype[e]=function(t,a){return this.request(bn(a||{},{method:e,url:t,data:(a||{}).data}))}})),ae.forEach(["post","put","patch"],(function(e){function t(t){return function(a,n,s){return this.request(bn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}Cn.prototype[e]=t(),Cn.prototype[e+"Form"]=t(!0)}));class In{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{a.subscribe(e),t=e})).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e((function(e,n,s){a.reason||(a.reason=new Ct(e,n,s),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new In((function(t){e=t})),cancel:e}}}const On={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(On).forEach((([e,t])=>{On[t]=e}));const wn=function e(t){const a=new Cn(t),n=b(Cn.prototype.request,a);return ae.extend(n,Cn.prototype,a,{allOwnKeys:!0}),ae.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(bn(t,a))},n}(Et);wn.Axios=Cn,wn.CanceledError=Ct,wn.CancelToken=In,wn.isCancel=Nt,wn.VERSION=Fa,wn.toFormData=nt,wn.AxiosError=ne,wn.Cancel=wn.CanceledError,wn.all=function(e){return Promise.all(e)},wn.spread=function(e){return function(t){return e.apply(null,t)}},wn.isAxiosError=function(e){return ae.isObject(e)&&!0===e.isAxiosError},wn.mergeConfig=bn,wn.AxiosHeaders=yt,wn.formToJSON=e=>_t(ae.isHTMLForm(e)?new FormData(e):e),wn.getAdapter=En,wn.HttpStatusCode=On,wn.default=wn;var Dn,kn,Rn=wn;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const a of e)t[a]=a;return t},e.getValidEnumValues=t=>{const a=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),n={};for(const e of a)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t},e.find=(e,t)=>{for(const a of e)if(t(a))return a},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Dn||(Dn={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(kn||(kn={}));const Ln=Dn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mn=e=>{switch(typeof e){case"undefined":return Ln.undefined;case"string":return Ln.string;case"number":return isNaN(e)?Ln.nan:Ln.number;case"boolean":return Ln.boolean;case"function":return Ln.function;case"bigint":return Ln.bigint;case"symbol":return Ln.symbol;case"object":return Array.isArray(e)?Ln.array:null===e?Ln.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Ln.promise:"undefined"!=typeof Map&&e instanceof Map?Ln.map:"undefined"!=typeof Set&&e instanceof Set?Ln.set:"undefined"!=typeof Date&&e instanceof Date?Ln.date:Ln.object;default:return Ln.unknown}},Pn=Dn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fn extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},a={_errors:[]},n=e=>{for(const s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(n);else if("invalid_return_type"===s.code)n(s.returnTypeError);else if("invalid_arguments"===s.code)n(s.argumentsError);else if(0===s.path.length)a._errors.push(t(s));else{let e=a,n=0;for(;n<s.path.length;){const a=s.path[n];n===s.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(t(s))):e[a]=e[a]||{_errors:[]},e=e[a],n++}}};return n(this),a}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dn.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},a=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):a.push(e(n));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}Fn.create=e=>new Fn(e);const Un=(e,t)=>{let a;switch(e.code){case Pn.invalid_type:a=e.received===Ln.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Pn.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,Dn.jsonStringifyReplacer)}`;break;case Pn.unrecognized_keys:a=`Unrecognized key(s) in object: ${Dn.joinValues(e.keys,", ")}`;break;case Pn.invalid_union:a="Invalid input";break;case Pn.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Dn.joinValues(e.options)}`;break;case Pn.invalid_enum_value:a=`Invalid enum value. Expected ${Dn.joinValues(e.options)}, received '${e.received}'`;break;case Pn.invalid_arguments:a="Invalid function arguments";break;case Pn.invalid_return_type:a="Invalid function return type";break;case Pn.invalid_date:a="Invalid date";break;case Pn.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:Dn.assertNever(e.validation):a="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Pn.too_small:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Pn.too_big:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Pn.custom:a="Invalid input";break;case Pn.invalid_intersection_types:a="Intersection results could not be merged";break;case Pn.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case Pn.not_finite:a="Number must be finite";break;default:a=t.defaultError,Dn.assertNever(e)}return{message:a}};let Bn=Un;function Hn(){return Bn}const Gn=e=>{const{data:t,path:a,errorMaps:n,issueData:s}=e,i=[...a,...s.path||[]],r={...s,path:i};let o="";const c=n.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(r,{data:t,defaultError:o}).message;return{...s,path:i,message:s.message||o}};function jn(e,t){const a=Gn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Hn(),Un].filter((e=>!!e))});e.common.issues.push(a)}class qn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const a=[];for(const n of t){if("aborted"===n.status)return Yn;"dirty"===n.status&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){const a=[];for(const e of t)a.push({key:await e.key,value:await e.value});return qn.mergeObjectSync(e,a)}static mergeObjectSync(e,t){const a={};for(const n of t){const{key:t,value:s}=n;if("aborted"===t.status)return Yn;if("aborted"===s.status)return Yn;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===t.value||void 0===s.value&&!n.alwaysSet||(a[t.value]=s.value)}return{status:e.value,value:a}}}const Yn=Object.freeze({status:"aborted"}),zn=e=>({status:"dirty",value:e}),Vn=e=>({status:"valid",value:e}),Wn=e=>"aborted"===e.status,Zn=e=>"dirty"===e.status,Qn=e=>"valid"===e.status,Kn=e=>"undefined"!=typeof Promise&&e instanceof Promise;var $n;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}($n||($n={}));class Xn{constructor(e,t,a,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Jn=(e,t)=>{if(Qn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Fn(e.common.issues);return this._error=t,this._error}}};function es(e){if(!e)return{};const{errorMap:t,invalid_type_error:a,required_error:n,description:s}=e;if(t&&(a||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:s};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=n?n:t.defaultError}:{message:null!=a?a:t.defaultError},description:s}}class ts{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Mn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Mn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qn,ctx:{common:e.parent.common,data:e.data,parsedType:Mn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Kn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;const n={common:{issues:[],async:null!==(a=null==t?void 0:t.async)&&void 0!==a&&a,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Jn(n,s)}async parseAsync(e,t){const a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){const a={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mn(e)},n=this._parse({data:e,path:a.path,parent:a}),s=await(Kn(n)?n:Promise.resolve(n));return Jn(a,s)}refine(e,t){const a=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,n)=>{const s=e(t),i=()=>n.addIssue({code:Pn.custom,...a(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then((e=>!!e||(i(),!1))):!!s||(i(),!1)}))}refinement(e,t){return this._refinement(((a,n)=>!!e(a)||(n.addIssue("function"==typeof t?t(a,n):t),!1)))}_refinement(e){return new js({schema:this,typeName:ei.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return qs.create(this,this._def)}nullable(){return Ys.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return As.create(this,this._def)}promise(){return Gs.create(this,this._def)}or(e){return Ns.create([this,e],this._def)}and(e){return ws.create(this,e,this._def)}transform(e){return new js({...es(this._def),schema:this,typeName:ei.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new zs({...es(this._def),innerType:this,defaultValue:t,typeName:ei.ZodDefault})}brand(){return new Qs({typeName:ei.ZodBranded,type:this,...es(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Vs({...es(this._def),innerType:this,catchValue:t,typeName:ei.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ks.create(this,e)}readonly(){return $s.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const as=/^c[^\s-]{8,}$/i,ns=/^[a-z][a-z0-9]*$/,ss=/^[0-9A-HJKMNP-TV-Z]{26}$/,is=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rs=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let os;const cs=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ls=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class us extends ts{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Ln.string){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.string,received:t.parsedType}),Yn}const t=new qn;let a;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const n=e.data.length>r.value,s=e.data.length<r.value;(n||s)&&(a=this._getOrReturnCtx(e,a),n?jn(a,{code:Pn.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&jn(a,{code:Pn.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)rs.test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{validation:"email",code:Pn.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)os||(os=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),os.test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{validation:"emoji",code:Pn.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)is.test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{validation:"uuid",code:Pn.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)as.test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{validation:"cuid",code:Pn.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)ns.test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{validation:"cuid2",code:Pn.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)ss.test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{validation:"ulid",code:Pn.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(n){a=this._getOrReturnCtx(e,a),jn(a,{validation:"url",code:Pn.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{validation:"regex",code:Pn.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){((i=r).precision?i.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}Z$`):0===i.precision?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else"ip"===r.kind?(n=e.data,("v4"!==(s=r.version)&&s||!cs.test(n))&&("v6"!==s&&s||!ls.test(n))&&(a=this._getOrReturnCtx(e,a),jn(a,{validation:"ip",code:Pn.invalid_string,message:r.message}),t.dirty())):Dn.assertNever(r);var n,s,i;return{status:t.value,value:e.data}}_regex(e,t,a){return this.refinement((t=>e.test(t)),{validation:t,code:Pn.invalid_string,...$n.errToObj(a)})}_addCheck(e){return new us({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$n.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$n.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$n.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$n.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$n.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$n.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$n.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$n.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...$n.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...$n.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...$n.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...$n.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...$n.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...$n.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...$n.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...$n.errToObj(t)})}nonempty(e){return this.min(1,$n.errToObj(e))}trim(){return new us({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new us({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new us({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function ps(e,t){const a=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=a>n?a:n;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}us.create=e=>{var t;return new us({checks:[],typeName:ei.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...es(e)})};class ds extends ts{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Ln.number){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.number,received:t.parsedType}),Yn}let t;const a=new qn;for(const n of this._def.checks)if("int"===n.kind)Dn.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty())}else"multipleOf"===n.kind?0!==ps(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.not_finite,message:n.message}),a.dirty()):Dn.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,$n.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$n.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$n.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$n.toString(t))}setLimit(e,t,a,n){return new ds({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:$n.toString(n)}]})}_addCheck(e){return new ds({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$n.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$n.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$n.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$n.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$n.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$n.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:$n.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$n.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$n.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Dn.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===t||a.value>t)&&(t=a.value):"max"===a.kind&&(null===e||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ds.create=e=>new ds({checks:[],typeName:ei.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...es(e)});class hs extends ts{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==Ln.bigint){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.bigint,received:t.parsedType}),Yn}let t;const a=new qn;for(const n of this._def.checks)if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty())}else"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),jn(t,{code:Pn.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):Dn.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,$n.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$n.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$n.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$n.toString(t))}setLimit(e,t,a,n){return new hs({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:$n.toString(n)}]})}_addCheck(e){return new hs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$n.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$n.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$n.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$n.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$n.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}hs.create=e=>{var t;return new hs({checks:[],typeName:ei.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...es(e)})};class ms extends ts{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Ln.boolean){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.boolean,received:t.parsedType}),Yn}return Vn(e.data)}}ms.create=e=>new ms({typeName:ei.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...es(e)});class fs extends ts{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Ln.date){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.date,received:t.parsedType}),Yn}if(isNaN(e.data.getTime())){return jn(this._getOrReturnCtx(e),{code:Pn.invalid_date}),Yn}const t=new qn;let a;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),jn(a,{code:Pn.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):Dn.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fs({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:$n.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:$n.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}fs.create=e=>new fs({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ei.ZodDate,...es(e)});class gs extends ts{_parse(e){if(this._getType(e)!==Ln.symbol){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.symbol,received:t.parsedType}),Yn}return Vn(e.data)}}gs.create=e=>new gs({typeName:ei.ZodSymbol,...es(e)});class _s extends ts{_parse(e){if(this._getType(e)!==Ln.undefined){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.undefined,received:t.parsedType}),Yn}return Vn(e.data)}}_s.create=e=>new _s({typeName:ei.ZodUndefined,...es(e)});class Es extends ts{_parse(e){if(this._getType(e)!==Ln.null){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.null,received:t.parsedType}),Yn}return Vn(e.data)}}Es.create=e=>new Es({typeName:ei.ZodNull,...es(e)});class Ts extends ts{constructor(){super(...arguments),this._any=!0}_parse(e){return Vn(e.data)}}Ts.create=e=>new Ts({typeName:ei.ZodAny,...es(e)});class vs extends ts{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vn(e.data)}}vs.create=e=>new vs({typeName:ei.ZodUnknown,...es(e)});class xs extends ts{_parse(e){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.never,received:t.parsedType}),Yn}}xs.create=e=>new xs({typeName:ei.ZodNever,...es(e)});class bs extends ts{_parse(e){if(this._getType(e)!==Ln.undefined){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.void,received:t.parsedType}),Yn}return Vn(e.data)}}bs.create=e=>new bs({typeName:ei.ZodVoid,...es(e)});class As extends ts{_parse(e){const{ctx:t,status:a}=this._processInputParams(e),n=this._def;if(t.parsedType!==Ln.array)return jn(t,{code:Pn.invalid_type,expected:Ln.array,received:t.parsedType}),Yn;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,s=t.data.length<n.exactLength.value;(e||s)&&(jn(t,{code:e?Pn.too_big:Pn.too_small,minimum:s?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(jn(t,{code:Pn.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(jn(t,{code:Pn.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map(((e,a)=>n.type._parseAsync(new Xn(t,e,t.path,a))))).then((e=>qn.mergeArray(a,e)));const s=[...t.data].map(((e,a)=>n.type._parseSync(new Xn(t,e,t.path,a))));return qn.mergeArray(a,s)}get element(){return this._def.type}min(e,t){return new As({...this._def,minLength:{value:e,message:$n.toString(t)}})}max(e,t){return new As({...this._def,maxLength:{value:e,message:$n.toString(t)}})}length(e,t){return new As({...this._def,exactLength:{value:e,message:$n.toString(t)}})}nonempty(e){return this.min(1,e)}}function ys(e){if(e instanceof Ss){const t={};for(const a in e.shape){const n=e.shape[a];t[a]=qs.create(ys(n))}return new Ss({...e._def,shape:()=>t})}return e instanceof As?new As({...e._def,type:ys(e.element)}):e instanceof qs?qs.create(ys(e.unwrap())):e instanceof Ys?Ys.create(ys(e.unwrap())):e instanceof Ds?Ds.create(e.items.map((e=>ys(e)))):e}As.create=(e,t)=>new As({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ei.ZodArray,...es(t)});class Ss extends ts{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Dn.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Ln.object){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.object,received:t.parsedType}),Yn}const{status:t,ctx:a}=this._processInputParams(e),{shape:n,keys:s}=this._getCached(),i=[];if(!(this._def.catchall instanceof xs&&"strip"===this._def.unknownKeys))for(const e in a.data)s.includes(e)||i.push(e);const r=[];for(const e of s){const t=n[e],s=a.data[e];r.push({key:{status:"valid",value:e},value:t._parse(new Xn(a,s,a.path,e)),alwaysSet:e in a.data})}if(this._def.catchall instanceof xs){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)r.push({key:{status:"valid",value:e},value:{status:"valid",value:a.data[e]}});else if("strict"===e)i.length>0&&(jn(a,{code:Pn.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const n=a.data[t];r.push({key:{status:"valid",value:t},value:e._parse(new Xn(a,n,a.path,t)),alwaysSet:t in a.data})}}return a.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of r){const a=await t.key;e.push({key:a,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>qn.mergeObjectSync(t,e))):qn.mergeObjectSync(t,r)}get shape(){return this._def.shape()}strict(e){return $n.errToObj,new Ss({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,a)=>{var n,s,i,r;const o=null!==(i=null===(s=(n=this._def).errorMap)||void 0===s?void 0:s.call(n,t,a).message)&&void 0!==i?i:a.defaultError;return"unrecognized_keys"===t.code?{message:null!==(r=$n.errToObj(e).message)&&void 0!==r?r:o}:{message:o}}}:{}})}strip(){return new Ss({...this._def,unknownKeys:"strip"})}passthrough(){return new Ss({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ss({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ss({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ei.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ss({...this._def,catchall:e})}pick(e){const t={};return Dn.objectKeys(e).forEach((a=>{e[a]&&this.shape[a]&&(t[a]=this.shape[a])})),new Ss({...this._def,shape:()=>t})}omit(e){const t={};return Dn.objectKeys(this.shape).forEach((a=>{e[a]||(t[a]=this.shape[a])})),new Ss({...this._def,shape:()=>t})}deepPartial(){return ys(this)}partial(e){const t={};return Dn.objectKeys(this.shape).forEach((a=>{const n=this.shape[a];e&&!e[a]?t[a]=n:t[a]=n.optional()})),new Ss({...this._def,shape:()=>t})}required(e){const t={};return Dn.objectKeys(this.shape).forEach((a=>{if(e&&!e[a])t[a]=this.shape[a];else{let e=this.shape[a];for(;e instanceof qs;)e=e._def.innerType;t[a]=e}})),new Ss({...this._def,shape:()=>t})}keyof(){return Us(Dn.objectKeys(this.shape))}}Ss.create=(e,t)=>new Ss({shape:()=>e,unknownKeys:"strip",catchall:xs.create(),typeName:ei.ZodObject,...es(t)}),Ss.strictCreate=(e,t)=>new Ss({shape:()=>e,unknownKeys:"strict",catchall:xs.create(),typeName:ei.ZodObject,...es(t)}),Ss.lazycreate=(e,t)=>new Ss({shape:e,unknownKeys:"strip",catchall:xs.create(),typeName:ei.ZodObject,...es(t)});class Ns extends ts{_parse(e){const{ctx:t}=this._processInputParams(e),a=this._def.options;if(t.common.async)return Promise.all(a.map((async e=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;const a=e.map((e=>new Fn(e.ctx.common.issues)));return jn(t,{code:Pn.invalid_union,unionErrors:a}),Yn}));{let e;const n=[];for(const s of a){const a={...t,common:{...t.common,issues:[]},parent:null},i=s._parseSync({data:t.data,path:t.path,parent:a});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:a}),a.common.issues.length&&n.push(a.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=n.map((e=>new Fn(e)));return jn(t,{code:Pn.invalid_union,unionErrors:s}),Yn}}get options(){return this._def.options}}Ns.create=(e,t)=>new Ns({options:e,typeName:ei.ZodUnion,...es(t)});const Cs=e=>e instanceof Ps?Cs(e.schema):e instanceof js?Cs(e.innerType()):e instanceof Fs?[e.value]:e instanceof Bs?e.options:e instanceof Hs?Object.keys(e.enum):e instanceof zs?Cs(e._def.innerType):e instanceof _s?[void 0]:e instanceof Es?[null]:null;class Is extends ts{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ln.object)return jn(t,{code:Pn.invalid_type,expected:Ln.object,received:t.parsedType}),Yn;const a=this.discriminator,n=t.data[a],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(jn(t,{code:Pn.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Yn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,a){const n=new Map;for(const a of t){const t=Cs(a.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of t){if(n.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);n.set(s,a)}}return new Is({typeName:ei.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...es(a)})}}function Os(e,t){const a=Mn(e),n=Mn(t);if(e===t)return{valid:!0,data:e};if(a===Ln.object&&n===Ln.object){const a=Dn.objectKeys(t),n=Dn.objectKeys(e).filter((e=>-1!==a.indexOf(e))),s={...e,...t};for(const a of n){const n=Os(e[a],t[a]);if(!n.valid)return{valid:!1};s[a]=n.data}return{valid:!0,data:s}}if(a===Ln.array&&n===Ln.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let n=0;n<e.length;n++){const s=Os(e[n],t[n]);if(!s.valid)return{valid:!1};a.push(s.data)}return{valid:!0,data:a}}return a===Ln.date&&n===Ln.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ws extends ts{_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=(e,n)=>{if(Wn(e)||Wn(n))return Yn;const s=Os(e.value,n.value);return s.valid?((Zn(e)||Zn(n))&&t.dirty(),{status:t.value,value:s.data}):(jn(a,{code:Pn.invalid_intersection_types}),Yn)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then((([e,t])=>n(e,t))):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ws.create=(e,t,a)=>new ws({left:e,right:t,typeName:ei.ZodIntersection,...es(a)});class Ds extends ts{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Ln.array)return jn(a,{code:Pn.invalid_type,expected:Ln.array,received:a.parsedType}),Yn;if(a.data.length<this._def.items.length)return jn(a,{code:Pn.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yn;!this._def.rest&&a.data.length>this._def.items.length&&(jn(a,{code:Pn.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...a.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new Xn(a,e,a.path,t)):null})).filter((e=>!!e));return a.common.async?Promise.all(n).then((e=>qn.mergeArray(t,e))):qn.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Ds({...this._def,rest:e})}}Ds.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ds({items:e,typeName:ei.ZodTuple,rest:null,...es(t)})};class ks extends ts{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Ln.object)return jn(a,{code:Pn.invalid_type,expected:Ln.object,received:a.parsedType}),Yn;const n=[],s=this._def.keyType,i=this._def.valueType;for(const e in a.data)n.push({key:s._parse(new Xn(a,e,a.path,e)),value:i._parse(new Xn(a,a.data[e],a.path,e))});return a.common.async?qn.mergeObjectAsync(t,n):qn.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,a){return new ks(t instanceof ts?{keyType:e,valueType:t,typeName:ei.ZodRecord,...es(a)}:{keyType:us.create(),valueType:e,typeName:ei.ZodRecord,...es(t)})}}class Rs extends ts{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Ln.map)return jn(a,{code:Pn.invalid_type,expected:Ln.map,received:a.parsedType}),Yn;const n=this._def.keyType,s=this._def.valueType,i=[...a.data.entries()].map((([e,t],i)=>({key:n._parse(new Xn(a,e,a.path,[i,"key"])),value:s._parse(new Xn(a,t,a.path,[i,"value"]))})));if(a.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const a of i){const n=await a.key,s=await a.value;if("aborted"===n.status||"aborted"===s.status)return Yn;"dirty"!==n.status&&"dirty"!==s.status||t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const a of i){const n=a.key,s=a.value;if("aborted"===n.status||"aborted"===s.status)return Yn;"dirty"!==n.status&&"dirty"!==s.status||t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}}}}Rs.create=(e,t,a)=>new Rs({valueType:t,keyType:e,typeName:ei.ZodMap,...es(a)});class Ls extends ts{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==Ln.set)return jn(a,{code:Pn.invalid_type,expected:Ln.set,received:a.parsedType}),Yn;const n=this._def;null!==n.minSize&&a.data.size<n.minSize.value&&(jn(a,{code:Pn.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&a.data.size>n.maxSize.value&&(jn(a,{code:Pn.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const s=this._def.valueType;function i(e){const a=new Set;for(const n of e){if("aborted"===n.status)return Yn;"dirty"===n.status&&t.dirty(),a.add(n.value)}return{status:t.value,value:a}}const r=[...a.data.values()].map(((e,t)=>s._parse(new Xn(a,e,a.path,t))));return a.common.async?Promise.all(r).then((e=>i(e))):i(r)}min(e,t){return new Ls({...this._def,minSize:{value:e,message:$n.toString(t)}})}max(e,t){return new Ls({...this._def,maxSize:{value:e,message:$n.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ls.create=(e,t)=>new Ls({valueType:e,minSize:null,maxSize:null,typeName:ei.ZodSet,...es(t)});class Ms extends ts{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ln.function)return jn(t,{code:Pn.invalid_type,expected:Ln.function,received:t.parsedType}),Yn;function a(e,a){return Gn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Hn(),Un].filter((e=>!!e)),issueData:{code:Pn.invalid_arguments,argumentsError:a}})}function n(e,a){return Gn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Hn(),Un].filter((e=>!!e)),issueData:{code:Pn.invalid_return_type,returnTypeError:a}})}const s={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Gs){const e=this;return Vn((async function(...t){const r=new Fn([]),o=await e._def.args.parseAsync(t,s).catch((e=>{throw r.addIssue(a(t,e)),r})),c=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(c,s).catch((e=>{throw r.addIssue(n(c,e)),r}))}))}{const e=this;return Vn((function(...t){const r=e._def.args.safeParse(t,s);if(!r.success)throw new Fn([a(t,r.error)]);const o=Reflect.apply(i,this,r.data),c=e._def.returns.safeParse(o,s);if(!c.success)throw new Fn([n(o,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ms({...this._def,args:Ds.create(e).rest(vs.create())})}returns(e){return new Ms({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,a){return new Ms({args:e||Ds.create([]).rest(vs.create()),returns:t||vs.create(),typeName:ei.ZodFunction,...es(a)})}}class Ps extends ts{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ps.create=(e,t)=>new Ps({getter:e,typeName:ei.ZodLazy,...es(t)});class Fs extends ts{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return jn(t,{received:t.data,code:Pn.invalid_literal,expected:this._def.value}),Yn}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Us(e,t){return new Bs({values:e,typeName:ei.ZodEnum,...es(t)})}Fs.create=(e,t)=>new Fs({value:e,typeName:ei.ZodLiteral,...es(t)});class Bs extends ts{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),a=this._def.values;return jn(t,{expected:Dn.joinValues(a),received:t.parsedType,code:Pn.invalid_type}),Yn}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),a=this._def.values;return jn(t,{received:t.data,code:Pn.invalid_enum_value,options:a}),Yn}return Vn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Bs.create(e)}exclude(e){return Bs.create(this.options.filter((t=>!e.includes(t))))}}Bs.create=Us;class Hs extends ts{_parse(e){const t=Dn.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==Ln.string&&a.parsedType!==Ln.number){const e=Dn.objectValues(t);return jn(a,{expected:Dn.joinValues(e),received:a.parsedType,code:Pn.invalid_type}),Yn}if(-1===t.indexOf(e.data)){const e=Dn.objectValues(t);return jn(a,{received:a.data,code:Pn.invalid_enum_value,options:e}),Yn}return Vn(e.data)}get enum(){return this._def.values}}Hs.create=(e,t)=>new Hs({values:e,typeName:ei.ZodNativeEnum,...es(t)});class Gs extends ts{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ln.promise&&!1===t.common.async)return jn(t,{code:Pn.invalid_type,expected:Ln.promise,received:t.parsedType}),Yn;const a=t.parsedType===Ln.promise?t.data:Promise.resolve(t.data);return Vn(a.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Gs.create=(e,t)=>new Gs({type:e,typeName:ei.ZodPromise,...es(t)});class js extends ts{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ei.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:e=>{jn(a,e),e.fatal?t.abort():t.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===n.type){const e=n.transform(a.data,s);return a.common.issues.length?{status:"dirty",value:a.data}:a.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:a.path,parent:a}))):this._def.schema._parseSync({data:e,path:a.path,parent:a})}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,s);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){const n=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===n.status?Yn:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((a=>"aborted"===a.status?Yn:("dirty"===a.status&&t.dirty(),e(a.value).then((()=>({status:t.value,value:a.value}))))))}if("transform"===n.type){if(!1===a.common.async){const e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Qn(e))return e;const i=n.transform(e.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((e=>Qn(e)?Promise.resolve(n.transform(e.value,s)).then((e=>({status:t.value,value:e}))):e))}Dn.assertNever(n)}}js.create=(e,t,a)=>new js({schema:e,typeName:ei.ZodEffects,effect:t,...es(a)}),js.createWithPreprocess=(e,t,a)=>new js({schema:t,effect:{type:"preprocess",transform:e},typeName:ei.ZodEffects,...es(a)});class qs extends ts{_parse(e){return this._getType(e)===Ln.undefined?Vn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qs.create=(e,t)=>new qs({innerType:e,typeName:ei.ZodOptional,...es(t)});class Ys extends ts{_parse(e){return this._getType(e)===Ln.null?Vn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ys.create=(e,t)=>new Ys({innerType:e,typeName:ei.ZodNullable,...es(t)});class zs extends ts{_parse(e){const{ctx:t}=this._processInputParams(e);let a=t.data;return t.parsedType===Ln.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}zs.create=(e,t)=>new zs({innerType:e,typeName:ei.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...es(t)});class Vs extends ts{_parse(e){const{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Kn(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Fn(a.common.issues)},input:a.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new Fn(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Vs.create=(e,t)=>new Vs({innerType:e,typeName:ei.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...es(t)});class Ws extends ts{_parse(e){if(this._getType(e)!==Ln.nan){const t=this._getOrReturnCtx(e);return jn(t,{code:Pn.invalid_type,expected:Ln.nan,received:t.parsedType}),Yn}return{status:"valid",value:e.data}}}Ws.create=e=>new Ws({typeName:ei.ZodNaN,...es(e)});const Zs=Symbol("zod_brand");class Qs extends ts{_parse(e){const{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ks extends ts{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?Yn:"dirty"===e.status?(t.dirty(),zn(e.value)):this._def.out._parseAsync({data:e.value,path:a.path,parent:a})})()}{const e=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?Yn:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:a.path,parent:a})}}static create(e,t){return new Ks({in:e,out:t,typeName:ei.ZodPipeline})}}class $s extends ts{_parse(e){const t=this._def.innerType._parse(e);return Qn(t)&&(t.value=Object.freeze(t.value)),t}}$s.create=(e,t)=>new $s({innerType:e,typeName:ei.ZodReadonly,...es(t)});const Xs=(e,t={},a)=>e?Ts.create().superRefine(((n,s)=>{var i,r;if(!e(n)){const e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,o=null===(r=null!==(i=e.fatal)&&void 0!==i?i:a)||void 0===r||r,c="string"==typeof e?{message:e}:e;s.addIssue({code:"custom",...c,fatal:o})}})):Ts.create(),Js={object:Ss.lazycreate};var ei;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ei||(ei={}));const ti=us.create,ai=ds.create,ni=Ws.create,si=hs.create,ii=ms.create,ri=fs.create,oi=gs.create,ci=_s.create,li=Es.create,ui=Ts.create,pi=vs.create,di=xs.create,hi=bs.create,mi=As.create,fi=Ss.create,gi=Ss.strictCreate,_i=Ns.create,Ei=Is.create,Ti=ws.create,vi=Ds.create,xi=ks.create,bi=Rs.create,Ai=Ls.create,yi=Ms.create,Si=Ps.create,Ni=Fs.create,Ci=Bs.create,Ii=Hs.create,Oi=Gs.create,wi=js.create,Di=qs.create,ki=Ys.create,Ri=js.createWithPreprocess,Li=Ks.create,Mi={string:e=>us.create({...e,coerce:!0}),number:e=>ds.create({...e,coerce:!0}),boolean:e=>ms.create({...e,coerce:!0}),bigint:e=>hs.create({...e,coerce:!0}),date:e=>fs.create({...e,coerce:!0})},Pi=Yn;var Fi=Object.freeze({__proto__:null,defaultErrorMap:Un,setErrorMap:function(e){Bn=e},getErrorMap:Hn,makeIssue:Gn,EMPTY_PATH:[],addIssueToContext:jn,ParseStatus:qn,INVALID:Yn,DIRTY:zn,OK:Vn,isAborted:Wn,isDirty:Zn,isValid:Qn,isAsync:Kn,get util(){return Dn},get objectUtil(){return kn},ZodParsedType:Ln,getParsedType:Mn,ZodType:ts,ZodString:us,ZodNumber:ds,ZodBigInt:hs,ZodBoolean:ms,ZodDate:fs,ZodSymbol:gs,ZodUndefined:_s,ZodNull:Es,ZodAny:Ts,ZodUnknown:vs,ZodNever:xs,ZodVoid:bs,ZodArray:As,ZodObject:Ss,ZodUnion:Ns,ZodDiscriminatedUnion:Is,ZodIntersection:ws,ZodTuple:Ds,ZodRecord:ks,ZodMap:Rs,ZodSet:Ls,ZodFunction:Ms,ZodLazy:Ps,ZodLiteral:Fs,ZodEnum:Bs,ZodNativeEnum:Hs,ZodPromise:Gs,ZodEffects:js,ZodTransformer:js,ZodOptional:qs,ZodNullable:Ys,ZodDefault:zs,ZodCatch:Vs,ZodNaN:Ws,BRAND:Zs,ZodBranded:Qs,ZodPipeline:Ks,ZodReadonly:$s,custom:Xs,Schema:ts,ZodSchema:ts,late:Js,get ZodFirstPartyTypeKind(){return ei},coerce:Mi,any:ui,array:mi,bigint:si,boolean:ii,date:ri,discriminatedUnion:Ei,effect:wi,enum:Ci,function:yi,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Xs((t=>t instanceof e),t),intersection:Ti,lazy:Si,literal:Ni,map:bi,nan:ni,nativeEnum:Ii,never:di,null:li,nullable:ki,number:ai,object:fi,oboolean:()=>ii().optional(),onumber:()=>ai().optional(),optional:Di,ostring:()=>ti().optional(),pipeline:Li,preprocess:Ri,promise:Oi,record:xi,set:Ai,strictObject:gi,string:ti,symbol:oi,transformer:wi,tuple:vi,undefined:ci,union:_i,unknown:pi,void:hi,NEVER:Pi,ZodIssueCode:Pn,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Fn}),Ui=["interface","display","layout","module","panel","theme"],Bi=["hook","endpoint"],Hi=["operation"],Gi="directus:extension",ji=Fi.object({app:Fi.string(),api:Fi.string()}),qi=Fi.object({request:Fi.optional(Fi.object({urls:Fi.array(Fi.string()),methods:Fi.array(Fi.union([Fi.literal("GET"),Fi.literal("POST"),Fi.literal("PATCH"),Fi.literal("PUT"),Fi.literal("DELETE")]))})),log:Fi.optional(Fi.object({})),sleep:Fi.optional(Fi.object({}))}),Yi=Fi.optional(Fi.object({enabled:Fi.boolean(),requestedScopes:qi})),zi=Fi.union([Fi.object({type:Fi.enum(Bi),name:Fi.string(),source:Fi.string()}),Fi.object({type:Fi.enum(Ui),name:Fi.string(),source:Fi.string()}),Fi.object({type:Fi.enum(Hi),name:Fi.string(),source:ji})]),Vi=Fi.object({host:Fi.string(),hidden:Fi.boolean().optional()}),Wi=Fi.object({type:Fi.enum(Ui),path:Fi.string(),source:Fi.string()}),Zi=Fi.object({type:Fi.enum(Bi),path:Fi.string(),source:Fi.string(),sandbox:Yi}),Qi=Fi.object({type:Fi.enum(Hi),path:ji,source:ji,sandbox:Yi}),Ki=Fi.object({type:Fi.literal("bundle"),partial:Fi.boolean().optional(),path:ji,entries:Fi.array(zi)});Fi.array(zi);var $i=Vi.and(Fi.union([Wi,Zi,Qi,Ki]));Fi.object({name:Fi.string(),version:Fi.string(),type:Fi.union([Fi.literal("module"),Fi.literal("commonjs")]).optional(),description:Fi.string().optional(),icon:Fi.string().optional(),dependencies:Fi.record(Fi.string()).optional(),devDependencies:Fi.record(Fi.string()).optional(),[Gi]:$i});class Xi{}Xi.APP_SETTINGS="app_settings",Xi.CASHREGISTERS="cashregisters",Xi.CASHREGISTERS_TRANSACTIONS="cashregisters_transactions",Xi.COLLECTIONS_DATES_LAST_UPDATE="collections_dates_last_update",Xi.FOODS="foods",Xi.FOODS_FEEDBACKS="foods_feedbacks",Xi.FOODS_MARKINGS="foods_markings",Xi.MARKINGS="markings",Xi.FOODOFFER_MARKINGS="foodoffers_markings",Xi.FOODS_FEEDBACK_LABELS="foods_feedbacks_labels",Xi.APARTMENTS="apartments",Xi.WASHINGMACHINES="washingmachines",Xi.NEWS="news",Xi.PROFILES="profiles",Xi.UTILIZATION_GROUPS="utilizations_groups",Xi.UTILIZATION_ENTRIES="utilizations_entries",Xi.BUSINESSHOURS="businesshours",Xi.CANTEEN_FOOD_FEEDBACK_REPORT_RECIPIENTS="canteen_food_feedback_report_recipients",Xi.USERS="directus_users",Xi.CANTEENS="canteens",Xi.PUSH_NOTIFICATIONS="push_notifications",Xi.DEVICES="devices",Xi.APP_TRANSLATIONS="app_translations",Xi.FOODOFFERS="foodoffers";const Ji="directus-extension-rocket-meals-bundle";class er{static async checkAllTablesExist(e,t){return await er.checkTablesExist(e,t,[Xi.APP_SETTINGS,Xi.CASHREGISTERS,Xi.CASHREGISTERS_TRANSACTIONS,Xi.COLLECTIONS_DATES_LAST_UPDATE,Xi.FOODS,Xi.FOODS_FEEDBACKS,Xi.FOODS_MARKINGS,Xi.MARKINGS,Xi.FOODOFFER_MARKINGS,Xi.FOODS_FEEDBACK_LABELS,Xi.APARTMENTS,Xi.NEWS,Xi.PROFILES,Xi.UTILIZATION_GROUPS,Xi.UTILIZATION_ENTRIES,Xi.BUSINESSHOURS,Xi.CANTEEN_FOOD_FEEDBACK_REPORT_RECIPIENTS,Xi.USERS,Xi.CANTEENS,Xi.PUSH_NOTIFICATIONS,Xi.DEVICES,Xi.APP_TRANSLATIONS,Xi.FOODOFFERS])}static async getTableNames(e){try{let t=await e(),a=Object.keys(t.collections),n={};for(let e of a){let a=t.collections[e];a&&(n[a.collection]=a.collection)}return Object.keys(n)}catch(e){return console.error("++ "+Ji+" - getTableNames: Error: ",e),[]}}static async checkTablesExist(e,t,a){let n=[],s=await er.getTableNames(t);for(let e of a)s.includes(e)||n.push(e);let i=0===n.length;if(!i){let t="++ "+Ji+" - "+e+`: Database not initialized yet. Missing tables: ${n.join(", ")}`;console.log(t)}return i}}class tr{constructor(e,t,a){this.services=e,this.database=t,this.schema=a}}class ar extends tr{getItemsService(e){const{ItemsService:t}=this.services;return new t(e,{accountability:null,knex:this.database,schema:this.schema})}}class nr extends tr{getFileService(){const{FilesService:e}=this.services;return new e({accountability:null,knex:this.database,schema:this.schema})}async importByUrl(e,t){const a=this.getFileService();return await a.importOne(e,t)}async deleteOne(e){const t=this.getFileService();return await t.deleteOne(e)}}class sr extends tr{getActivityService(){const{ActivityService:e}=this.services;return new e({accountability:null,knex:this.database,schema:this.schema})}}class ir extends tr{getServerService(){const{ServerService:e}=this.services;return new e({accountability:null,knex:this.database,schema:this.schema})}async getServerInfo(){const e=this.getServerService();return await e.serverInfo()}}class rr extends tr{getPermissionsService(){const{PermissionsService:e}=this.services;return new e({accountability:null,knex:this.database,schema:this.schema})}}class or extends tr{async getAppSettings(){let e=new ar(this.services,this.database,this.schema).getItemsService(Xi.APP_SETTINGS);try{let t=await e.readByQuery({});if(t&&0!==t.length){return t[0]}return null}catch(e){return console.log("Error getting app settings"),console.log(e),null}}}const cr="activity_auto_cleanup";var lr=async({schedule:e},{services:t,database:a,getSchema:n,logger:s})=>{if(!await er.checkAllTablesExist(cr,n))return;e("0 4 * * *",(async()=>{s.info(cr+": start schedule run: "+(new Date).toISOString());let e=await n();const i=new sr(t,a,e).getActivityService();{const e="timestamp";s.info(cr+": Deleting old logs");let t=new Date,a=new Date;a.setMinutes(t.getMinutes()-43200);let n=a.toISOString();s.info(cr+": nowMinusMaxDaysISO: "+n);const r={limit:-1,filter:{_and:[{[e]:{_lte:n}}]}};await i.deleteByQuery(r)}}))};class ur{constructor(e,t,a){this.name=e,this.total_count=t,this.startTime=void 0,this.lastTime=void 0,this.print_every_x_count=a||100}start(){this.startTime=this.private_getNow(),this.lastTime=this.startTime}private_getNow(){return(new Date).getTime()}calcEstimatedFinishedDate(e){let t=(this.private_getNow()-this.startTime)/1e3,a=t/e*this.total_count;return new Date(this.private_getNow()+1e3*(a-t))}formatSecondsIntoHHMMSS(e){let t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}printEstimatedTime(e){if(void 0===this.startTime)return void console.log("Timer not started.");if(0===e)return;if(e%this.print_every_x_count!=0)return;let t=this.private_getNow(),a=(this.calcEstimatedFinishedDate(e)-t)/1e3,n=this.formatSecondsIntoHHMMSS(a),s=this.calcEstimatedFinishedDate(e).toLocaleTimeString();console.log(`Estimated remaining time for ${this.name}: ${n}, probably finished at: ${s} - `+e+" / "+this.total_count);let i=(t-this.lastTime)/1e3/this.print_every_x_count;console.log("Average time per action: "+this.formatSecondsIntoHHMMSS(i)),this.lastTime=t}}const pr=Xi.CASHREGISTERS,dr=Xi.CASHREGISTERS_TRANSACTIONS,hr=Xi.APP_SETTINGS;let mr="Cashregister",fr=class{constructor(e){this.parser=e,this.finished=!0}async init(e,t,a,n){this.schema=await e(),this.database=a,this.logger=n,this.services=t,this.itemsServiceCreator=new ar(t,a,this.schema),this.cashregisters_service=this.itemsServiceCreator.getItemsService(pr),this.cashregisters_transactions_service=this.itemsServiceCreator.getItemsService(dr)}async setStatus(e){await this.database(hr).update({cashregisters_parsing_status:e})}async isEnabled(){try{let e=hr,t=await this.database(e).first();if(t)return null==t?void 0:t.cashregisters_parsing_enabled}catch(e){console.log(e)}}async getStatus(){try{let e=hr,t=await this.database(e).first();if(t)return null==t?void 0:t.cashregisters_parsing_status}catch(e){console.log(e)}}async deleteAllTransactions(){let e=!0;console.log("deleteAllTransactions");let t=0;for(;e;){let a=await this.cashregisters_transactions_service.readByQuery({filter:{},limit:1e4});if(a.length>0){let e=a.map((e=>e.id));await this.cashregisters_transactions_service.deleteMany(e)}else e=!1;t++,console.log("-- "+t)}console.log("FINISHED DELETION")}async parse(){let e=await this.isEnabled(),t=await this.getStatus(),a="running";if(e&&"start"===t&&this.finished){console.log("[Start] "+mr+" Parse Schedule"),this.finished=!1,await this.setStatus(a);try{console.log("Create Needed Data"),await this.parser.loadData();let e=await this.parser.getTransactionsList(),t=e.length,a=new ur(mr+" parsing",t,100),n={};a.start();for(let s=0;s<t;s++){let t,i=e[s],r=await this.parser.getCashregisterExternalIdentifierFromTransaction(i),o=n[r];if(o)t=o;else{let e=await this.findOrCreateCashregister(r);e&&(o=null==e?void 0:e.id,n[r]=o,t=o)}t?await this.findOrCreateCashregisterTransaction(i,t):console.log("Houston we got a problem? Seems like somebody deleted a cashregister mid transaction"),a.printEstimatedTime(s)}console.log("[CashregisterParseSchedule] Finished"),this.finished=!0,await this.setStatus("finished")}catch(e){console.log("[CashregisterParseSchedule] Failed"),console.log(e),this.finished=!0,await this.setStatus("failed")}}else this.finished||t===a||await this.setStatus(a)}async findOrCreateCashregisterTransaction(e,t){let a=this.parser.getIdFromTransaction(e);if(!a)return null;let n,s={date:new Date(this.parser.getDateFromTransaction(e)),name:this.parser.getNameFromTransaction(e),quantity:this.parser.getQuantityFromTransaction(e),cashregister:t,id:a},i=this.cashregisters_transactions_service.readOne(null==s?void 0:s.id);if(n=i[0],!n){s=this.setStatusPublished(s);try{await this.cashregisters_transactions_service.createOne(s)}catch(e){}i=this.cashregisters_transactions_service.readMany([s.id]),n=i[0]}return n}async findOrCreateCashregister(e){let t={external_identifier:e},a=await this.cashregisters_service.readByQuery({filter:{external_identifier:t.external_identifier}}),n=a[0];return n||(t=this.setStatusPublished(t),await this.cashregisters_service.createOne(t),a=await this.cashregisters_service.readByQuery({filter:{external_identifier:t.external_identifier}}),n=a[0]),n}setStatusPublished(e){return e.status="published",e}};fr.SCHEDULE_NAME=mr;const gr="BUCHUNGSNUMMER",_r="Datum";const Er=new class{constructor(e,t){this.password="",this.api_url="",this.data=null,this.api_url=e,this.password=t,this.data=null}async loadData(){this.data=null;let e=await this.getAsJSON(this.api_url,this.password);this.data=e}async getTransactionsList(){var e;let t=[];if(this.data){let a=Object.keys(this.data);for(let n=0;n<a.length;n++){let s=a[n],i=null==(e=this.data)?void 0:e[s];i&&t.push(i)}}return t}getIdFromTransaction(e){return null==e?void 0:e[gr]}getDateFromTransaction(e){return null==e?void 0:e[_r]}getNameFromTransaction(e){return null==e?void 0:e.Name}getQuantityFromTransaction(e){return null==e?void 0:e.Menge}getCashregisterExternalIdentifierFromTransaction(e){return null==e?void 0:e.Kasse_ID}async loadFromRemote(e,t){const a=Buffer.from(t).toString("base64");let n=(await Rn.request({method:"GET",url:e,headers:{Authorization:"Basic "+a},responseType:"arraybuffer"})).data.toString("latin1");return Buffer.from(n,"utf-8").toString()}async getAsJSON(e,t){let a=await this.loadFromRemote(e,t),n=new String(a).split("\r"),s=[],i={};for(let e=0;e<n.length;e++){let t=n[e].trim();if(0===e){let e=t.split("\t");for(let t=0;t<e.length;t++)s.push(e[t])}else{if(""===t)continue;let e,a={},n=t.split("\t");for(let t=0;t<s.length;t++){let i=n[t];const r=s[t];r===gr&&(i=this.transformBuchungsnummer(i),e=i),r===_r&&(i=new Date(this.transformDate(i))),a[r]=n.length>t?i:""}i[e]=a}}return i}transformDate(e){let[t,a]=e.split(" "),[n,s,i]=t.split(".").map((e=>parseInt(e))),[r,o,c]=a.split(":").map((e=>parseInt(e)));function l(e,t){let a=new Date(e,t+1,0),n=a.getDay();return new Date(e,t,a.getDate()-n)}let u=l(i,2),p=l(i,9),d=new Date(i,s-1,n,r,o,c);return r-=d>=u&&d<p?1:0,`${("0"+s).slice(-2)}.${("0"+n).slice(-2)}.${i} ${("0"+r).slice(-2)}:${("0"+o).slice(-2)}:${("0"+c).slice(-2)}`}transformBuchungsnummer(e){if(e){let t="",a=!1;for(let n of e)" "!==n?(a=!0,t+=n):a&&(a=!1,t+="-");return t}}}("https://share.sw-os.de/swosy-kassendaten-2h","Nils:qYoTHeyPyRljfEGRWW52"),Tr=new fr(Er);var vr=async({action:e},{services:t,database:a,getSchema:n,logger:s})=>{if(!await er.checkAllTablesExist(fr.SCHEDULE_NAME,n))return;let i=Xi.APP_SETTINGS;try{await Tr.init(n,t,a,s)}catch(e){if(e.toString().includes("no such table: directus_collections"))return console.log("+++++++++ Cashregister Parse Schedule +++++++++"),console.log("++++ Database not initialized yet +++++"),console.log("+++ Restart Server again after init +++"),void console.log("+++++++++++++++++++++++++++++++++++++++");console.log("Cashregister Parse Schedule init error: "),console.log(e)}e(i+".items.update",(async(e,t)=>{try{await Tr.parse()}catch(e){console.log(e)}}))};var xr=async({action:e,init:t},{services:a,database:n,getSchema:s})=>{if(!await er.checkAllTablesExist("collections_dates_last_update",s))return;const i=[Xi.COLLECTIONS_DATES_LAST_UPDATE];let r=await s(),o=new ar(a,n,r).getItemsService(Xi.COLLECTIONS_DATES_LAST_UPDATE);async function c(){let e=(await er.getTableNames(s)).filter((e=>!i.includes(e))),t=(await o.readByQuery({limit:-1})).map((e=>e.id)),a=e.filter((e=>!t.includes(e))),n=t.filter((t=>!e.includes(t)));for(let e of n)await o.deleteOne(e);for(let e of a)await o.createOne({id:e,date_updated:(new Date).toISOString()})}async function l(e){if(!i.includes(e)){let t=(new Date).toISOString(),a=await o.readByQuery({filter:{id:e}});try{a.length>0?await o.updateOne(e,{date_updated:t}):await o.createOne({id:e,date_updated:t})}catch(e){}await c()}}t("app.after",(async()=>{await c()})),e("*.items.update",(async e=>{let t=e.collection;await l(t)})),e("*.items.create",(async e=>{let t=e.collection;await l(t)})),e("*.items.delete",(async e=>{let t=e.collection;await l(t)}))};var br=async({action:e,filter:t},{services:a,database:n,getSchema:s})=>{if(!await er.checkAllTablesExist("food_feedback_rating_calculate",s))return;const i=Xi.FOODS_FEEDBACKS;let r=await s(),o=new ar(a,n,r),c=o.getItemsService(Xi.FOODS),l=o.getItemsService(i);async function u(e){let t={};for(let a of e){let e=await l.readOne(a),n=null==e?void 0:e.food;n&&(t[n]=!0)}return Object.keys(t)}function p(e,t){for(let a of e)d(a,t)}async function d(e,t){let a={};if(t)for(let e of t)a[e]=!0;let n=[];try{n=await l.readByQuery({filter:{food:e},limit:-1})}catch(e){}let s=0,i=0;for(let e of n){if(!a[e.id]){let t=null==e?void 0:e.rating;null!=t&&1<=t&&t<=5&&(s+=t,i++)}}if(i>0){let t=s/i;await c.updateOne(e,{rating_average:t,rating_amount:i})}else await c.updateOne(e,{rating_average:null,rating_amount:0})}e(i+".items.update",(async e=>{let t=e.keys;p(await u(t),[])})),e(i+".items.create",(async e=>{let t=[e.key];p(await u(t),[])})),t(i+".items.delete",(async(e,t,a)=>{let n=e;if(n&&Array.isArray(n)&&0!==n.length){p(await u(n),n)}else;return e}))};function Ar(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yr,Sr={exports:{}};(yr=Sr).exports=function(){var e,t;function a(){return e.apply(null,arguments)}function n(t){e=t}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(r(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var a,n=[],s=e.length;for(a=0;a<s;++a)n.push(t(e[a],a));return n}function d(e,t){for(var a in t)r(t,a)&&(e[a]=t[a]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,a,n){return Va(e,t,a,n,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=m()),e._pf}function g(e){var a=null,n=!1,s=e._d&&!isNaN(e._d.getTime());return s&&(a=f(e),n=t.call(a.parsedDateParts,(function(e){return null!=e})),s=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&n),e._strict&&(s=s&&0===a.charsLeftOver&&0===a.unusedTokens.length&&void 0===a.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?s:(e._isValid=s,e._isValid)}function _(e){var t=h(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){var t,a=Object(this),n=a.length>>>0;for(t=0;t<n;t++)if(t in a&&e.call(this,a[t],t,a))return!0;return!1};var E=a.momentProperties=[],T=!1;function v(e,t){var a,n,s,i=E.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=f(t)),c(t._locale)||(e._locale=t._locale),i>0)for(a=0;a<i;a++)c(s=t[n=E[a]])||(e[n]=s);return e}function x(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===T&&(T=!0,a.updateOffset(this),T=!1)}function b(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function A(e){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function y(e,t){var n=!0;return d((function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,e),n){var s,i,o,c=[],l=arguments.length;for(i=0;i<l;i++){if(s="","object"==typeof arguments[i]){for(o in s+="\n["+i+"] ",arguments[0])r(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];c.push(s)}A(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,N={};function C(e,t){null!=a.deprecationHandler&&a.deprecationHandler(e,t),N[e]||(A(t),N[e]=!0)}function I(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,a;for(a in e)r(e,a)&&(I(t=e[a])?this[a]=t:this["_"+a]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function w(e,t){var a,n=d({},e);for(a in t)r(t,a)&&(i(e[a])&&i(t[a])?(n[a]={},d(n[a],e[a]),d(n[a],t[a])):null!=t[a]?n[a]=t[a]:delete n[a]);for(a in e)r(e,a)&&!r(t,a)&&i(e[a])&&(n[a]=d({},n[a]));return n}function D(e){null!=e&&this.set(e)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,a=[];for(t in e)r(e,t)&&a.push(t);return a};var k={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,a){var n=this._calendar[e]||this._calendar.sameElse;return I(n)?n.call(t,a):n}function L(e,t,a){var n=""+Math.abs(e),s=t-n.length;return(e>=0?a?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function B(e,t,a,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),e&&(U[e]=s),t&&(U[t[0]]=function(){return L(s.apply(this,arguments),t[1],t[2])}),a&&(U[a]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,a,n=e.match(M);for(t=0,a=n.length;t<a;t++)U[n[t]]?n[t]=U[n[t]]:n[t]=H(n[t]);return function(t){var s,i="";for(s=0;s<a;s++)i+=I(n[s])?n[s].call(t,e):n[s];return i}}function j(e,t){return e.isValid()?(t=q(t,e.localeData()),F[t]=F[t]||G(t),F[t](e)):e.localeData().invalidDate()}function q(e,t){var a=5;function n(e){return t.longDateFormat(e)||e}for(P.lastIndex=0;a>=0&&P.test(e);)e=e.replace(P,n),P.lastIndex=0,a-=1;return e}var Y={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function z(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var V="Invalid date";function W(){return this._invalidDate}var Z="%d",Q=/\d{1,2}/;function K(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X(e,t,a,n){var s=this._relativeTime[a];return I(s)?s(e,t,a,n):s.replace(/%d/i,e)}function J(e,t){var a=this._relativeTime[e>0?"future":"past"];return I(a)?a(t):a.replace(/%s/i,t)}var ee={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function te(e){return"string"==typeof e?ee[e]||ee[e.toLowerCase()]:void 0}function ae(e){var t,a,n={};for(a in e)r(e,a)&&(t=te(a))&&(n[t]=e[a]);return n}var ne={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,a=[];for(t in e)r(e,t)&&a.push({unit:t,priority:ne[t]});return a.sort((function(e,t){return e.priority-t.priority})),a}var ie,re=/\d/,oe=/\d\d/,ce=/\d{3}/,le=/\d{4}/,ue=/[+-]?\d{6}/,pe=/\d\d?/,de=/\d\d\d\d?/,he=/\d\d\d\d\d\d?/,me=/\d{1,3}/,fe=/\d{1,4}/,ge=/[+-]?\d{1,6}/,_e=/\d+/,Ee=/[+-]?\d+/,Te=/Z|[+-]\d\d:?\d\d/gi,ve=/Z|[+-]\d\d(?::?\d\d)?/gi,xe=/[+-]?\d+(\.\d{1,3})?/,be=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ae=/^[1-9]\d?/,ye=/^([1-9]\d|\d)/;function Se(e,t,a){ie[e]=I(t)?t:function(e,n){return e&&a?a:t}}function Ne(e,t){return r(ie,e)?ie[e](t._strict,t._locale):new RegExp(Ce(e))}function Ce(e){return Ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,a,n,s){return t||a||n||s})))}function Ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Oe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function we(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=Oe(t)),a}ie={};var De={};function ke(e,t){var a,n,s=t;for("string"==typeof e&&(e=[e]),l(t)&&(s=function(e,a){a[t]=we(e)}),n=e.length,a=0;a<n;a++)De[e[a]]=s}function Re(e,t){ke(e,(function(e,a,n,s){n._w=n._w||{},t(e,n._w,n,s)}))}function Le(e,t,a){null!=t&&r(De,e)&&De[e](t,a._a,a,e)}function Me(e){return e%4==0&&e%100!=0||e%400==0}var Pe=0,Fe=1,Ue=2,Be=3,He=4,Ge=5,je=6,qe=7,Ye=8;function ze(e){return Me(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?L(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),Se("Y",Ee),Se("YY",pe,oe),Se("YYYY",fe,le),Se("YYYYY",ge,ue),Se("YYYYYY",ge,ue),ke(["YYYYY","YYYYYY"],Pe),ke("YYYY",(function(e,t){t[Pe]=2===e.length?a.parseTwoDigitYear(e):we(e)})),ke("YY",(function(e,t){t[Pe]=a.parseTwoDigitYear(e)})),ke("Y",(function(e,t){t[Pe]=parseInt(e,10)})),a.parseTwoDigitYear=function(e){return we(e)+(we(e)>68?1900:2e3)};var Ve,We=Qe("FullYear",!0);function Ze(){return Me(this.year())}function Qe(e,t){return function(n){return null!=n?($e(this,e,n),a.updateOffset(this,t),this):Ke(this,e)}}function Ke(e,t){if(!e.isValid())return NaN;var a=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?a.getUTCMilliseconds():a.getMilliseconds();case"Seconds":return n?a.getUTCSeconds():a.getSeconds();case"Minutes":return n?a.getUTCMinutes():a.getMinutes();case"Hours":return n?a.getUTCHours():a.getHours();case"Date":return n?a.getUTCDate():a.getDate();case"Day":return n?a.getUTCDay():a.getDay();case"Month":return n?a.getUTCMonth():a.getMonth();case"FullYear":return n?a.getUTCFullYear():a.getFullYear();default:return NaN}}function $e(e,t,a){var n,s,i,r,o;if(e.isValid()&&!isNaN(a)){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(a):n.setMilliseconds(a));case"Seconds":return void(s?n.setUTCSeconds(a):n.setSeconds(a));case"Minutes":return void(s?n.setUTCMinutes(a):n.setMinutes(a));case"Hours":return void(s?n.setUTCHours(a):n.setHours(a));case"Date":return void(s?n.setUTCDate(a):n.setDate(a));case"FullYear":break;default:return}i=a,r=e.month(),o=29!==(o=e.date())||1!==r||Me(i)?o:28,s?n.setUTCFullYear(i,r,o):n.setFullYear(i,r,o)}}function Xe(e){return I(this[e=te(e)])?this[e]():this}function Je(e,t){if("object"==typeof e){var a,n=se(e=ae(e)),s=n.length;for(a=0;a<s;a++)this[n[a].unit](e[n[a].unit])}else if(I(this[e=te(e)]))return this[e](t);return this}function et(e,t){return(e%t+t)%t}function tt(e,t){if(isNaN(e)||isNaN(t))return NaN;var a=et(t,12);return e+=(t-a)/12,1===a?Me(e)?29:28:31-a%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Se("M",pe,Ae),Se("MM",pe,oe),Se("MMM",(function(e,t){return t.monthsShortRegex(e)})),Se("MMMM",(function(e,t){return t.monthsRegex(e)})),ke(["M","MM"],(function(e,t){t[Fe]=we(e)-1})),ke(["MMM","MMMM"],(function(e,t,a,n){var s=a._locale.monthsParse(e,n,a._strict);null!=s?t[Fe]=s:f(a).invalidMonth=e}));var at="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=be,rt=be;function ot(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ct(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lt(e,t,a){var n,s,i,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=h([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return a?"MMM"===t?-1!==(s=Ve.call(this._shortMonthsParse,r))?s:null:-1!==(s=Ve.call(this._longMonthsParse,r))?s:null:"MMM"===t?-1!==(s=Ve.call(this._shortMonthsParse,r))||-1!==(s=Ve.call(this._longMonthsParse,r))?s:null:-1!==(s=Ve.call(this._longMonthsParse,r))||-1!==(s=Ve.call(this._shortMonthsParse,r))?s:null}function ut(e,t,a){var n,s,i;if(this._monthsParseExact)return lt.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=h([2e3,n]),a&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),a||this._monthsParse[n]||(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(a&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!a&&this._monthsParse[n].test(e))return n}}function pt(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=we(t);else if(!l(t=e.localeData().monthsParse(t)))return e;var a=t,n=e.date();return n=n<29?n:Math.min(n,tt(e.year(),a)),e._isUTC?e._d.setUTCMonth(a,n):e._d.setMonth(a,n),e}function dt(e){return null!=e?(pt(this,e),a.updateOffset(this,!0),this):Ke(this,"Month")}function ht(){return tt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(r(this,"_monthsRegex")||gt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(r(this,"_monthsRegex")||gt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=rt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function gt(){function e(e,t){return t.length-e.length}var t,a,n,s,i=[],r=[],o=[];for(t=0;t<12;t++)a=h([2e3,t]),n=Ie(this.monthsShort(a,"")),s=Ie(this.months(a,"")),i.push(n),r.push(s),o.push(s),o.push(n);i.sort(e),r.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function _t(e,t,a,n,s,i,r){var o;return e<100&&e>=0?(o=new Date(e+400,t,a,n,s,i,r),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,a,n,s,i,r),o}function Et(e){var t,a;return e<100&&e>=0?((a=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,a)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Tt(e,t,a){var n=7+t-a;return-(7+Et(e,0,n).getUTCDay()-t)%7+n-1}function vt(e,t,a,n,s){var i,r,o=1+7*(t-1)+(7+a-n)%7+Tt(e,n,s);return o<=0?r=ze(i=e-1)+o:o>ze(e)?(i=e+1,r=o-ze(e)):(i=e,r=o),{year:i,dayOfYear:r}}function xt(e,t,a){var n,s,i=Tt(e.year(),t,a),r=Math.floor((e.dayOfYear()-i-1)/7)+1;return r<1?n=r+bt(s=e.year()-1,t,a):r>bt(e.year(),t,a)?(n=r-bt(e.year(),t,a),s=e.year()+1):(s=e.year(),n=r),{week:n,year:s}}function bt(e,t,a){var n=Tt(e,t,a),s=Tt(e+1,t,a);return(ze(e)-n+s)/7}function At(e){return xt(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),Se("w",pe,Ae),Se("ww",pe,oe),Se("W",pe,Ae),Se("WW",pe,oe),Re(["w","ww","W","WW"],(function(e,t,a,n){t[n.substr(0,1)]=we(e)}));var yt={dow:0,doy:6};function St(){return this._week.dow}function Nt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function It(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function wt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),Se("d",pe),Se("e",pe),Se("E",pe),Se("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Se("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Se("dddd",(function(e,t){return t.weekdaysRegex(e)})),Re(["dd","ddd","dddd"],(function(e,t,a,n){var s=a._locale.weekdaysParse(e,n,a._strict);null!=s?t.d=s:f(a).invalidWeekday=e})),Re(["d","e","E"],(function(e,t,a,n){t[n]=we(e)}));var kt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=be,Pt=be,Ft=be;function Ut(e,t){var a=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(a,this._week.dow):e?a[e.day()]:a}function Bt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ht(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Gt(e,t,a){var n,s,i,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=h([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return a?"dddd"===t?-1!==(s=Ve.call(this._weekdaysParse,r))?s:null:"ddd"===t?-1!==(s=Ve.call(this._shortWeekdaysParse,r))?s:null:-1!==(s=Ve.call(this._minWeekdaysParse,r))?s:null:"dddd"===t?-1!==(s=Ve.call(this._weekdaysParse,r))||-1!==(s=Ve.call(this._shortWeekdaysParse,r))||-1!==(s=Ve.call(this._minWeekdaysParse,r))?s:null:"ddd"===t?-1!==(s=Ve.call(this._shortWeekdaysParse,r))||-1!==(s=Ve.call(this._weekdaysParse,r))||-1!==(s=Ve.call(this._minWeekdaysParse,r))?s:null:-1!==(s=Ve.call(this._minWeekdaysParse,r))||-1!==(s=Ve.call(this._weekdaysParse,r))||-1!==(s=Ve.call(this._shortWeekdaysParse,r))?s:null}function jt(e,t,a){var n,s,i;if(this._weekdaysParseExact)return Gt.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=h([2e3,1]).day(n),a&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),a&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(a&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(a&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!a&&this._weekdaysParse[n].test(e))return n}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=Ke(this,"Day");return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Yt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function zt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=wt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Vt(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wt(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,a,n,s,i,r=[],o=[],c=[],l=[];for(t=0;t<7;t++)a=h([2e3,1]).day(t),n=Ie(this.weekdaysMin(a,"")),s=Ie(this.weekdaysShort(a,"")),i=Ie(this.weekdays(a,"")),r.push(n),o.push(s),c.push(i),l.push(n),l.push(s),l.push(i);r.sort(e),o.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Kt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Xt(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Jt(e,t){return t._meridiemParse}function ea(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Kt),B("k",["kk",2],0,$t),B("hmm",0,0,(function(){return""+Kt.apply(this)+L(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Kt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),Se("a",Jt),Se("A",Jt),Se("H",pe,ye),Se("h",pe,Ae),Se("k",pe,Ae),Se("HH",pe,oe),Se("hh",pe,oe),Se("kk",pe,oe),Se("hmm",de),Se("hmmss",he),Se("Hmm",de),Se("Hmmss",he),ke(["H","HH"],Be),ke(["k","kk"],(function(e,t,a){var n=we(e);t[Be]=24===n?0:n})),ke(["a","A"],(function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e})),ke(["h","hh"],(function(e,t,a){t[Be]=we(e),f(a).bigHour=!0})),ke("hmm",(function(e,t,a){var n=e.length-2;t[Be]=we(e.substr(0,n)),t[He]=we(e.substr(n)),f(a).bigHour=!0})),ke("hmmss",(function(e,t,a){var n=e.length-4,s=e.length-2;t[Be]=we(e.substr(0,n)),t[He]=we(e.substr(n,2)),t[Ge]=we(e.substr(s)),f(a).bigHour=!0})),ke("Hmm",(function(e,t,a){var n=e.length-2;t[Be]=we(e.substr(0,n)),t[He]=we(e.substr(n))})),ke("Hmmss",(function(e,t,a){var n=e.length-4,s=e.length-2;t[Be]=we(e.substr(0,n)),t[He]=we(e.substr(n,2)),t[Ge]=we(e.substr(s))}));var ta=/[ap]\.?m?\.?/i,aa=Qe("Hours",!0);function na(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"}var sa,ia={calendar:k,longDateFormat:Y,invalidDate:V,ordinal:Z,dayOfMonthOrdinalParse:Q,relativeTime:$,months:at,monthsShort:nt,week:yt,weekdays:kt,weekdaysMin:Lt,weekdaysShort:Rt,meridiemParse:ta},ra={},oa={};function ca(e,t){var a,n=Math.min(e.length,t.length);for(a=0;a<n;a+=1)if(e[a]!==t[a])return a;return n}function la(e){return e?e.toLowerCase().replace("_","-"):e}function ua(e){for(var t,a,n,s,i=0;i<e.length;){for(t=(s=la(e[i]).split("-")).length,a=(a=la(e[i+1]))?a.split("-"):null;t>0;){if(n=da(s.slice(0,t).join("-")))return n;if(a&&a.length>=t&&ca(s,a)>=t-1)break;t--}i++}return sa}function pa(e){return!(!e||!e.match("^[^/\\\\]*$"))}function da(e){var t=null;if(void 0===ra[e]&&yr&&yr.exports&&pa(e))try{t=sa._abbr,Ar("./locale/"+e),ha(t)}catch(t){ra[e]=null}return ra[e]}function ha(e,t){var a;return e&&((a=c(t)?ga(e):ma(e,t))?sa=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sa._abbr}function ma(e,t){if(null!==t){var a,n=ia;if(t.abbr=e,null!=ra[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ra[e]._config;else if(null!=t.parentLocale)if(null!=ra[t.parentLocale])n=ra[t.parentLocale]._config;else{if(null==(a=da(t.parentLocale)))return oa[t.parentLocale]||(oa[t.parentLocale]=[]),oa[t.parentLocale].push({name:e,config:t}),null;n=a._config}return ra[e]=new D(w(n,t)),oa[e]&&oa[e].forEach((function(e){ma(e.name,e.config)})),ha(e),ra[e]}return delete ra[e],null}function fa(e,t){if(null!=t){var a,n,s=ia;null!=ra[e]&&null!=ra[e].parentLocale?ra[e].set(w(ra[e]._config,t)):(null!=(n=da(e))&&(s=n._config),t=w(s,t),null==n&&(t.abbr=e),(a=new D(t)).parentLocale=ra[e],ra[e]=a),ha(e)}else null!=ra[e]&&(null!=ra[e].parentLocale?(ra[e]=ra[e].parentLocale,e===ha()&&ha(e)):null!=ra[e]&&delete ra[e]);return ra[e]}function ga(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sa;if(!s(e)){if(t=da(e))return t;e=[e]}return ua(e)}function _a(){return S(ra)}function Ea(e){var t,a=e._a;return a&&-2===f(e).overflow&&(t=a[Fe]<0||a[Fe]>11?Fe:a[Ue]<1||a[Ue]>tt(a[Pe],a[Fe])?Ue:a[Be]<0||a[Be]>24||24===a[Be]&&(0!==a[He]||0!==a[Ge]||0!==a[je])?Be:a[He]<0||a[He]>59?He:a[Ge]<0||a[Ge]>59?Ge:a[je]<0||a[je]>999?je:-1,f(e)._overflowDayOfYear&&(t<Pe||t>Ue)&&(t=Ue),f(e)._overflowWeeks&&-1===t&&(t=qe),f(e)._overflowWeekday&&-1===t&&(t=Ye),f(e).overflow=t),e}var Ta=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,va=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xa=/Z|[+-]\d\d(?::?\d\d)?/,ba=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Aa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ya=/^\/?Date\((-?\d+)/i,Sa=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Na={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ca(e){var t,a,n,s,i,r,o=e._i,c=Ta.exec(o)||va.exec(o),l=ba.length,u=Aa.length;if(c){for(f(e).iso=!0,t=0,a=l;t<a;t++)if(ba[t][1].exec(c[1])){s=ba[t][0],n=!1!==ba[t][2];break}if(null==s)return void(e._isValid=!1);if(c[3]){for(t=0,a=u;t<a;t++)if(Aa[t][1].exec(c[3])){i=(c[2]||" ")+Aa[t][0];break}if(null==i)return void(e._isValid=!1)}if(!n&&null!=i)return void(e._isValid=!1);if(c[4]){if(!xa.exec(c[4]))return void(e._isValid=!1);r="Z"}e._f=s+(i||"")+(r||""),Ba(e)}else e._isValid=!1}function Ia(e,t,a,n,s,i){var r=[Oa(e),nt.indexOf(t),parseInt(a,10),parseInt(n,10),parseInt(s,10)];return i&&r.push(parseInt(i,10)),r}function Oa(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function wa(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Da(e,t,a){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(a).weekdayMismatch=!0,a._isValid=!1,!1)}function ka(e,t,a){if(e)return Na[e];if(t)return 0;var n=parseInt(a,10),s=n%100;return(n-s)/100*60+s}function Ra(e){var t,a=Sa.exec(wa(e._i));if(a){if(t=Ia(a[4],a[3],a[2],a[5],a[6],a[7]),!Da(a[1],t,e))return;e._a=t,e._tzm=ka(a[8],a[9],a[10]),e._d=Et.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function La(e){var t=ya.exec(e._i);null===t?(Ca(e),!1===e._isValid&&(delete e._isValid,Ra(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:a.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ma(e,t,a){return null!=e?e:null!=t?t:a}function Pa(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fa(e){var t,a,n,s,i,r=[];if(!e._d){for(n=Pa(e),e._w&&null==e._a[Ue]&&null==e._a[Fe]&&Ua(e),null!=e._dayOfYear&&(i=Ma(e._a[Pe],n[Pe]),(e._dayOfYear>ze(i)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),a=Et(i,0,e._dayOfYear),e._a[Fe]=a.getUTCMonth(),e._a[Ue]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Be]&&0===e._a[He]&&0===e._a[Ge]&&0===e._a[je]&&(e._nextDay=!0,e._a[Be]=0),e._d=(e._useUTC?Et:_t).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Be]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(f(e).weekdayMismatch=!0)}}function Ua(e){var t,a,n,s,i,r,o,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,r=4,a=Ma(t.GG,e._a[Pe],xt(Wa(),1,4).year),n=Ma(t.W,1),((s=Ma(t.E,1))<1||s>7)&&(c=!0)):(i=e._locale._week.dow,r=e._locale._week.doy,l=xt(Wa(),i,r),a=Ma(t.gg,e._a[Pe],l.year),n=Ma(t.w,l.week),null!=t.d?((s=t.d)<0||s>6)&&(c=!0):null!=t.e?(s=t.e+i,(t.e<0||t.e>6)&&(c=!0)):s=i),n<1||n>bt(a,i,r)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(o=vt(a,n,s,i,r),e._a[Pe]=o.year,e._dayOfYear=o.dayOfYear)}function Ba(e){if(e._f!==a.ISO_8601)if(e._f!==a.RFC_2822){e._a=[],f(e).empty=!0;var t,n,s,i,r,o,c,l=""+e._i,u=l.length,p=0;for(c=(s=q(e._f,e._locale).match(M)||[]).length,t=0;t<c;t++)i=s[t],(n=(l.match(Ne(i,e))||[])[0])&&((r=l.substr(0,l.indexOf(n))).length>0&&f(e).unusedInput.push(r),l=l.slice(l.indexOf(n)+n.length),p+=n.length),U[i]?(n?f(e).empty=!1:f(e).unusedTokens.push(i),Le(i,n,e)):e._strict&&!n&&f(e).unusedTokens.push(i);f(e).charsLeftOver=u-p,l.length>0&&f(e).unusedInput.push(l),e._a[Be]<=12&&!0===f(e).bigHour&&e._a[Be]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Be]=Ha(e._locale,e._a[Be],e._meridiem),null!==(o=f(e).era)&&(e._a[Pe]=e._locale.erasConvertYear(o,e._a[Pe])),Fa(e),Ea(e)}else Ra(e);else Ca(e)}function Ha(e,t,a){var n;return null==a?t:null!=e.meridiemHour?e.meridiemHour(t,a):null!=e.isPM?((n=e.isPM(a))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function Ga(e){var t,a,n,s,i,r,o=!1,c=e._f.length;if(0===c)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<c;s++)i=0,r=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],Ba(t),g(t)&&(r=!0),i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,o?i<n&&(n=i,a=t):(null==n||i<n||r)&&(n=i,a=t,r&&(o=!0));d(e,a||t)}function ja(e){if(!e._d){var t=ae(e._i),a=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,a,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fa(e)}}function qa(e){var t=new x(Ea(Ya(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ya(e){var t=e._i,a=e._f;return e._locale=e._locale||ga(e._l),null===t||void 0===a&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new x(Ea(t)):(u(t)?e._d=t:s(a)?Ga(e):a?Ba(e):za(e),g(e)||(e._d=null),e))}function za(e){var t=e._i;c(t)?e._d=new Date(a.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?La(e):s(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),Fa(e)):i(t)?ja(e):l(t)?e._d=new Date(t):a.createFromInputFallback(e)}function Va(e,t,a,n,r){var c={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==a&&!1!==a||(n=a,a=void 0),(i(e)&&o(e)||s(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=r,c._l=a,c._i=e,c._f=t,c._strict=n,qa(c)}function Wa(e,t,a,n){return Va(e,t,a,n,!1)}a.createFromInputFallback=y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),a.ISO_8601=function(){},a.RFC_2822=function(){};var Za=y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Wa.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()})),Qa=y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Wa.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}));function Ka(e,t){var a,n;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Wa();for(a=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](a)||(a=t[n]);return a}function $a(){return Ka("isBefore",[].slice.call(arguments,0))}function Xa(){return Ka("isAfter",[].slice.call(arguments,0))}var Ja=function(){return Date.now?Date.now():+new Date},en=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tn(e){var t,a,n=!1,s=en.length;for(t in e)if(r(e,t)&&(-1===Ve.call(en,t)||null!=e[t]&&isNaN(e[t])))return!1;for(a=0;a<s;++a)if(e[en[a]]){if(n)return!1;parseFloat(e[en[a]])!==we(e[en[a]])&&(n=!0)}return!0}function an(){return this._isValid}function nn(){return Cn(NaN)}function sn(e){var t=ae(e),a=t.year||0,n=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,r=t.day||0,o=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=tn(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*o*60*60,this._days=+r+7*i,this._months=+s+3*n+12*a,this._data={},this._locale=ga(),this._bubble()}function rn(e){return e instanceof sn}function on(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cn(e,t,a){var n,s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0;for(n=0;n<s;n++)(a&&e[n]!==t[n]||!a&&we(e[n])!==we(t[n]))&&r++;return r+i}function ln(e,t){B(e,0,0,(function(){var e=this.utcOffset(),a="+";return e<0&&(e=-e,a="-"),a+L(~~(e/60),2)+t+L(~~e%60,2)}))}ln("Z",":"),ln("ZZ",""),Se("Z",ve),Se("ZZ",ve),ke(["Z","ZZ"],(function(e,t,a){a._useUTC=!0,a._tzm=pn(ve,e)}));var un=/([\+\-]|\d\d)/gi;function pn(e,t){var a,n,s=(t||"").match(e);return null===s?null:0===(n=60*(a=((s[s.length-1]||[])+"").match(un)||["-",0,0])[1]+we(a[2]))?0:"+"===a[0]?n:-n}function dn(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(b(e)||u(e)?e.valueOf():Wa(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),a.updateOffset(n,!1),n):Wa(e).local()}function hn(e){return-Math.round(e._d.getTimezoneOffset())}function mn(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=pn(ve,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=hn(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?kn(this,Cn(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:hn(this)}function fn(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gn(e){return this.utcOffset(0,e)}function _n(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(hn(this),"m")),this}function En(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=pn(Te,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Tn(e){return!!this.isValid()&&(e=e?Wa(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function vn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xn(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=Ya(t))._a?(e=t._isUTC?h(t._a):Wa(t._a),this._isDSTShifted=this.isValid()&&cn(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function bn(){return!!this.isValid()&&!this._isUTC}function An(){return!!this.isValid()&&this._isUTC}function yn(){return!!this.isValid()&&this._isUTC&&0===this._offset}a.updateOffset=function(){};var Sn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cn(e,t){var a,n,s,i=e,o=null;return rn(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(o=Sn.exec(e))?(a="-"===o[1]?-1:1,i={y:0,d:we(o[Ue])*a,h:we(o[Be])*a,m:we(o[He])*a,s:we(o[Ge])*a,ms:we(on(1e3*o[je]))*a}):(o=Nn.exec(e))?(a="-"===o[1]?-1:1,i={y:In(o[2],a),M:In(o[3],a),w:In(o[4],a),d:In(o[5],a),h:In(o[6],a),m:In(o[7],a),s:In(o[8],a)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(s=wn(Wa(i.from),Wa(i.to)),(i={}).ms=s.milliseconds,i.M=s.months),n=new sn(i),rn(e)&&r(e,"_locale")&&(n._locale=e._locale),rn(e)&&r(e,"_isValid")&&(n._isValid=e._isValid),n}function In(e,t){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*t}function On(e,t){var a={};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function wn(e,t){var a;return e.isValid()&&t.isValid()?(t=dn(t,e),e.isBefore(t)?a=On(e,t):((a=On(t,e)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function Dn(e,t){return function(a,n){var s;return null===n||isNaN(+n)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=a,a=n,n=s),kn(this,Cn(a,n),e),this}}function kn(e,t,n,s){var i=t._milliseconds,r=on(t._days),o=on(t._months);e.isValid()&&(s=null==s||s,o&&pt(e,Ke(e,"Month")+o*n),r&&$e(e,"Date",Ke(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&a.updateOffset(e,r||o))}Cn.fn=sn.prototype,Cn.invalid=nn;var Rn=Dn(1,"add"),Ln=Dn(-1,"subtract");function Mn(e){return"string"==typeof e||e instanceof String}function Pn(e){return b(e)||u(e)||Mn(e)||l(e)||Un(e)||Fn(e)||null==e}function Fn(e){var t,a,n=i(e)&&!o(e),s=!1,c=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=c.length;for(t=0;t<l;t+=1)a=c[t],s=s||r(e,a);return n&&s}function Un(e){var t=s(e),a=!1;return t&&(a=0===e.filter((function(t){return!l(t)&&Mn(e)})).length),t&&a}function Bn(e){var t,a,n=i(e)&&!o(e),s=!1,c=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<c.length;t+=1)a=c[t],s=s||r(e,a);return n&&s}function Hn(e,t){var a=e.diff(t,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function Gn(e,t){1===arguments.length&&(arguments[0]?Pn(arguments[0])?(e=arguments[0],t=void 0):Bn(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Wa(),s=dn(n,this).startOf("day"),i=a.calendarFormat(this,s)||"sameElse",r=t&&(I(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,Wa(n)))}function jn(){return new x(this)}function qn(e,t){var a=b(e)?e:Wa(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=te(t)||"millisecond")?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf())}function Yn(e,t){var a=b(e)?e:Wa(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=te(t)||"millisecond")?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf())}function zn(e,t,a,n){var s=b(e)?e:Wa(e),i=b(t)?t:Wa(t);return!!(this.isValid()&&s.isValid()&&i.isValid())&&("("===(n=n||"()")[0]?this.isAfter(s,a):!this.isBefore(s,a))&&(")"===n[1]?this.isBefore(i,a):!this.isAfter(i,a))}function Vn(e,t){var a,n=b(e)?e:Wa(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=te(t)||"millisecond")?this.valueOf()===n.valueOf():(a=n.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf()))}function Wn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qn(e,t,a){var n,s,i;if(!this.isValid())return NaN;if(!(n=dn(e,this)).isValid())return NaN;switch(s=6e4*(n.utcOffset()-this.utcOffset()),t=te(t)){case"year":i=Kn(this,n)/12;break;case"month":i=Kn(this,n);break;case"quarter":i=Kn(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-s)/864e5;break;case"week":i=(this-n-s)/6048e5;break;default:i=this-n}return a?i:Oe(i)}function Kn(e,t){if(e.date()<t.date())return-Kn(t,e);var a=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(a,"months");return-(a+(t-n<0?(t-n)/(n-e.clone().add(a-1,"months")):(t-n)/(e.clone().add(a+1,"months")-n)))||0}function $n(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xn(e){if(!this.isValid())return null;var t=!0!==e,a=t?this.clone().utc():this;return a.year()<0||a.year()>9999?j(a,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(a,"Z")):j(a,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Jn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,a,n,s="moment",i="";return this.isLocal()||(s=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+s+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",n=i+'[")]',this.format(e+t+a+n)}function es(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)}function ts(e,t){return this.isValid()&&(b(e)&&e.isValid()||Wa(e).isValid())?Cn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function as(e){return this.from(Wa(),e)}function ns(e,t){return this.isValid()&&(b(e)&&e.isValid()||Wa(e).isValid())?Cn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ss(e){return this.to(Wa(),e)}function is(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ga(e))&&(this._locale=t),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var rs=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function os(){return this._locale}var cs=1e3,ls=60*cs,us=60*ls,ps=3506328*us;function ds(e,t){return(e%t+t)%t}function hs(e,t,a){return e<100&&e>=0?new Date(e+400,t,a)-ps:new Date(e,t,a).valueOf()}function ms(e,t,a){return e<100&&e>=0?Date.UTC(e+400,t,a)-ps:Date.UTC(e,t,a)}function fs(e){var t,n;if(void 0===(e=te(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ms:hs,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ds(t+(this._isUTC?0:this.utcOffset()*ls),us);break;case"minute":t=this._d.valueOf(),t-=ds(t,ls);break;case"second":t=this._d.valueOf(),t-=ds(t,cs)}return this._d.setTime(t),a.updateOffset(this,!0),this}function gs(e){var t,n;if(void 0===(e=te(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ms:hs,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=us-ds(t+(this._isUTC?0:this.utcOffset()*ls),us)-1;break;case"minute":t=this._d.valueOf(),t+=ls-ds(t,ls)-1;break;case"second":t=this._d.valueOf(),t+=cs-ds(t,cs)-1}return this._d.setTime(t),a.updateOffset(this,!0),this}function _s(){return this._d.valueOf()-6e4*(this._offset||0)}function Es(){return Math.floor(this.valueOf()/1e3)}function Ts(){return new Date(this.valueOf())}function vs(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xs(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function bs(){return this.isValid()?this.toISOString():null}function As(){return g(this)}function ys(){return d({},f(this))}function Ss(){return f(this).overflow}function Ns(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cs(e,t){var n,s,i,r=this._eras||ga("en")._eras;for(n=0,s=r.length;n<s;++n)switch("string"==typeof r[n].since&&(i=a(r[n].since).startOf("day"),r[n].since=i.valueOf()),typeof r[n].until){case"undefined":r[n].until=1/0;break;case"string":i=a(r[n].until).startOf("day").valueOf(),r[n].until=i.valueOf()}return r}function Is(e,t,a){var n,s,i,r,o,c=this.eras();for(e=e.toUpperCase(),n=0,s=c.length;n<s;++n)if(i=c[n].name.toUpperCase(),r=c[n].abbr.toUpperCase(),o=c[n].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(r===e)return c[n];break;case"NNNN":if(i===e)return c[n];break;case"NNNNN":if(o===e)return c[n]}else if([i,r,o].indexOf(e)>=0)return c[n]}function Os(e,t){var n=e.since<=e.until?1:-1;return void 0===t?a(e.since).year():a(e.since).year()+(t-e.offset)*n}function ws(){var e,t,a,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),n[e].since<=a&&a<=n[e].until)return n[e].name;if(n[e].until<=a&&a<=n[e].since)return n[e].name}return""}function Ds(){var e,t,a,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),n[e].since<=a&&a<=n[e].until)return n[e].narrow;if(n[e].until<=a&&a<=n[e].since)return n[e].narrow}return""}function ks(){var e,t,a,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),n[e].since<=a&&a<=n[e].until)return n[e].abbr;if(n[e].until<=a&&a<=n[e].since)return n[e].abbr}return""}function Rs(){var e,t,n,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-a(i[e].since).year())*n+i[e].offset;return this.year()}function Ls(e){return r(this,"_erasNameRegex")||Gs.call(this),e?this._erasNameRegex:this._erasRegex}function Ms(e){return r(this,"_erasAbbrRegex")||Gs.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ps(e){return r(this,"_erasNarrowRegex")||Gs.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fs(e,t){return t.erasAbbrRegex(e)}function Us(e,t){return t.erasNameRegex(e)}function Bs(e,t){return t.erasNarrowRegex(e)}function Hs(e,t){return t._eraYearOrdinalRegex||_e}function Gs(){var e,t,a,n,s,i=[],r=[],o=[],c=[],l=this.eras();for(e=0,t=l.length;e<t;++e)a=Ie(l[e].name),n=Ie(l[e].abbr),s=Ie(l[e].narrow),r.push(a),i.push(n),o.push(s),c.push(a),c.push(n),c.push(s);this._erasRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function js(e,t){B(0,[e,e.length],0,t)}function qs(e){return Qs.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Ys(e){return Qs.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zs(){return bt(this.year(),1,4)}function Vs(){return bt(this.isoWeekYear(),1,4)}function Ws(){var e=this.localeData()._week;return bt(this.year(),e.dow,e.doy)}function Zs(){var e=this.localeData()._week;return bt(this.weekYear(),e.dow,e.doy)}function Qs(e,t,a,n,s){var i;return null==e?xt(this,n,s).year:(t>(i=bt(e,n,s))&&(t=i),Ks.call(this,e,t,a,n,s))}function Ks(e,t,a,n,s){var i=vt(e,t,a,n,s),r=Et(i.year,0,i.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function $s(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Se("N",Fs),Se("NN",Fs),Se("NNN",Fs),Se("NNNN",Us),Se("NNNNN",Bs),ke(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,a,n){var s=a._locale.erasParse(e,n,a._strict);s?f(a).era=s:f(a).invalidEra=e})),Se("y",_e),Se("yy",_e),Se("yyy",_e),Se("yyyy",_e),Se("yo",Hs),ke(["y","yy","yyy","yyyy"],Pe),ke(["yo"],(function(e,t,a,n){var s;a._locale._eraYearOrdinalRegex&&(s=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[Pe]=a._locale.eraYearOrdinalParse(e,s):t[Pe]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),js("gggg","weekYear"),js("ggggg","weekYear"),js("GGGG","isoWeekYear"),js("GGGGG","isoWeekYear"),Se("G",Ee),Se("g",Ee),Se("GG",pe,oe),Se("gg",pe,oe),Se("GGGG",fe,le),Se("gggg",fe,le),Se("GGGGG",ge,ue),Se("ggggg",ge,ue),Re(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,a,n){t[n.substr(0,2)]=we(e)})),Re(["gg","GG"],(function(e,t,n,s){t[s]=a.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),Se("Q",re),ke("Q",(function(e,t){t[Fe]=3*(we(e)-1)})),B("D",["DD",2],"Do","date"),Se("D",pe,Ae),Se("DD",pe,oe),Se("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ke(["D","DD"],Ue),ke("Do",(function(e,t){t[Ue]=we(e.match(pe)[0])}));var Xs=Qe("Date",!0);function Js(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),Se("DDD",me),Se("DDDD",ce),ke(["DDD","DDDD"],(function(e,t,a){a._dayOfYear=we(e)})),B("m",["mm",2],0,"minute"),Se("m",pe,ye),Se("mm",pe,oe),ke(["m","mm"],He);var ei=Qe("Minutes",!1);B("s",["ss",2],0,"second"),Se("s",pe,ye),Se("ss",pe,oe),ke(["s","ss"],Ge);var ti,ai,ni=Qe("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Se("S",me,re),Se("SS",me,oe),Se("SSS",me,ce),ti="SSSS";ti.length<=9;ti+="S")Se(ti,_e);function si(e,t){t[je]=we(1e3*("0."+e))}for(ti="S";ti.length<=9;ti+="S")ke(ti,si);function ii(){return this._isUTC?"UTC":""}function ri(){return this._isUTC?"Coordinated Universal Time":""}ai=Qe("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var oi=x.prototype;function ci(e){return Wa(1e3*e)}function li(){return Wa.apply(null,arguments).parseZone()}function ui(e){return e}oi.add=Rn,oi.calendar=Gn,oi.clone=jn,oi.diff=Qn,oi.endOf=gs,oi.format=es,oi.from=ts,oi.fromNow=as,oi.to=ns,oi.toNow=ss,oi.get=Xe,oi.invalidAt=Ss,oi.isAfter=qn,oi.isBefore=Yn,oi.isBetween=zn,oi.isSame=Vn,oi.isSameOrAfter=Wn,oi.isSameOrBefore=Zn,oi.isValid=As,oi.lang=rs,oi.locale=is,oi.localeData=os,oi.max=Qa,oi.min=Za,oi.parsingFlags=ys,oi.set=Je,oi.startOf=fs,oi.subtract=Ln,oi.toArray=vs,oi.toObject=xs,oi.toDate=Ts,oi.toISOString=Xn,oi.inspect=Jn,"undefined"!=typeof Symbol&&null!=Symbol.for&&(oi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),oi.toJSON=bs,oi.toString=$n,oi.unix=Es,oi.valueOf=_s,oi.creationData=Ns,oi.eraName=ws,oi.eraNarrow=Ds,oi.eraAbbr=ks,oi.eraYear=Rs,oi.year=We,oi.isLeapYear=Ze,oi.weekYear=qs,oi.isoWeekYear=Ys,oi.quarter=oi.quarters=$s,oi.month=dt,oi.daysInMonth=ht,oi.week=oi.weeks=Ct,oi.isoWeek=oi.isoWeeks=It,oi.weeksInYear=Ws,oi.weeksInWeekYear=Zs,oi.isoWeeksInYear=zs,oi.isoWeeksInISOWeekYear=Vs,oi.date=Xs,oi.day=oi.days=qt,oi.weekday=Yt,oi.isoWeekday=zt,oi.dayOfYear=Js,oi.hour=oi.hours=aa,oi.minute=oi.minutes=ei,oi.second=oi.seconds=ni,oi.millisecond=oi.milliseconds=ai,oi.utcOffset=mn,oi.utc=gn,oi.local=_n,oi.parseZone=En,oi.hasAlignedHourOffset=Tn,oi.isDST=vn,oi.isLocal=bn,oi.isUtcOffset=An,oi.isUtc=yn,oi.isUTC=yn,oi.zoneAbbr=ii,oi.zoneName=ri,oi.dates=y("dates accessor is deprecated. Use date instead.",Xs),oi.months=y("months accessor is deprecated. Use month instead",dt),oi.years=y("years accessor is deprecated. Use year instead",We),oi.zone=y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fn),oi.isDSTShifted=y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xn);var pi=D.prototype;function di(e,t,a,n){var s=ga(),i=h().set(n,t);return s[a](i,e)}function hi(e,t,a){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return di(e,t,a,"month");var n,s=[];for(n=0;n<12;n++)s[n]=di(e,n,a,"month");return s}function mi(e,t,a,n){"boolean"==typeof e?(l(t)&&(a=t,t=void 0),t=t||""):(a=t=e,e=!1,l(t)&&(a=t,t=void 0),t=t||"");var s,i=ga(),r=e?i._week.dow:0,o=[];if(null!=a)return di(t,(a+r)%7,n,"day");for(s=0;s<7;s++)o[s]=di(t,(s+r)%7,n,"day");return o}function fi(e,t){return hi(e,t,"months")}function gi(e,t){return hi(e,t,"monthsShort")}function _i(e,t,a){return mi(e,t,a,"weekdays")}function Ei(e,t,a){return mi(e,t,a,"weekdaysShort")}function Ti(e,t,a){return mi(e,t,a,"weekdaysMin")}pi.calendar=R,pi.longDateFormat=z,pi.invalidDate=W,pi.ordinal=K,pi.preparse=ui,pi.postformat=ui,pi.relativeTime=X,pi.pastFuture=J,pi.set=O,pi.eras=Cs,pi.erasParse=Is,pi.erasConvertYear=Os,pi.erasAbbrRegex=Ms,pi.erasNameRegex=Ls,pi.erasNarrowRegex=Ps,pi.months=ot,pi.monthsShort=ct,pi.monthsParse=ut,pi.monthsRegex=ft,pi.monthsShortRegex=mt,pi.week=At,pi.firstDayOfYear=Nt,pi.firstDayOfWeek=St,pi.weekdays=Ut,pi.weekdaysMin=Ht,pi.weekdaysShort=Bt,pi.weekdaysParse=jt,pi.weekdaysRegex=Vt,pi.weekdaysShortRegex=Wt,pi.weekdaysMinRegex=Zt,pi.isPM=ea,pi.meridiem=na,ha("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===we(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),a.lang=y("moment.lang is deprecated. Use moment.locale instead.",ha),a.langData=y("moment.langData is deprecated. Use moment.localeData instead.",ga);var vi=Math.abs;function xi(){var e=this._data;return this._milliseconds=vi(this._milliseconds),this._days=vi(this._days),this._months=vi(this._months),e.milliseconds=vi(e.milliseconds),e.seconds=vi(e.seconds),e.minutes=vi(e.minutes),e.hours=vi(e.hours),e.months=vi(e.months),e.years=vi(e.years),this}function bi(e,t,a,n){var s=Cn(t,a);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function Ai(e,t){return bi(this,e,t,1)}function yi(e,t){return bi(this,e,t,-1)}function Si(e){return e<0?Math.floor(e):Math.ceil(e)}function Ni(){var e,t,a,n,s,i=this._milliseconds,r=this._days,o=this._months,c=this._data;return i>=0&&r>=0&&o>=0||i<=0&&r<=0&&o<=0||(i+=864e5*Si(Ii(o)+r),r=0,o=0),c.milliseconds=i%1e3,e=Oe(i/1e3),c.seconds=e%60,t=Oe(e/60),c.minutes=t%60,a=Oe(t/60),c.hours=a%24,r+=Oe(a/24),o+=s=Oe(Ci(r)),r-=Si(Ii(s)),n=Oe(o/12),o%=12,c.days=r,c.months=o,c.years=n,this}function Ci(e){return 4800*e/146097}function Ii(e){return 146097*e/4800}function Oi(e){if(!this.isValid())return NaN;var t,a,n=this._milliseconds;if("month"===(e=te(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,a=this._months+Ci(t),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(Ii(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function wi(e){return function(){return this.as(e)}}var Di=wi("ms"),ki=wi("s"),Ri=wi("m"),Li=wi("h"),Mi=wi("d"),Pi=wi("w"),Fi=wi("M"),Ui=wi("Q"),Bi=wi("y"),Hi=Di;function Gi(){return Cn(this)}function ji(e){return e=te(e),this.isValid()?this[e+"s"]():NaN}function qi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yi=qi("milliseconds"),zi=qi("seconds"),Vi=qi("minutes"),Wi=qi("hours"),Zi=qi("days"),Qi=qi("months"),Ki=qi("years");function $i(){return Oe(this.days()/7)}var Xi=Math.round,Ji={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function er(e,t,a,n,s){return s.relativeTime(t||1,!!a,e,n)}function tr(e,t,a,n){var s=Cn(e).abs(),i=Xi(s.as("s")),r=Xi(s.as("m")),o=Xi(s.as("h")),c=Xi(s.as("d")),l=Xi(s.as("M")),u=Xi(s.as("w")),p=Xi(s.as("y")),d=i<=a.ss&&["s",i]||i<a.s&&["ss",i]||r<=1&&["m"]||r<a.m&&["mm",r]||o<=1&&["h"]||o<a.h&&["hh",o]||c<=1&&["d"]||c<a.d&&["dd",c];return null!=a.w&&(d=d||u<=1&&["w"]||u<a.w&&["ww",u]),(d=d||l<=1&&["M"]||l<a.M&&["MM",l]||p<=1&&["y"]||["yy",p])[2]=t,d[3]=+e>0,d[4]=n,er.apply(null,d)}function ar(e){return void 0===e?Xi:"function"==typeof e&&(Xi=e,!0)}function nr(e,t){return void 0!==Ji[e]&&(void 0===t?Ji[e]:(Ji[e]=t,"s"===e&&(Ji.ss=t-1),!0))}function sr(e,t){if(!this.isValid())return this.localeData().invalidDate();var a,n,s=!1,i=Ji;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(s=e),"object"==typeof t&&(i=Object.assign({},Ji,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=tr(this,!s,i,a=this.localeData()),s&&(n=a.pastFuture(+this,n)),a.postformat(n)}var ir=Math.abs;function rr(e){return(e>0)-(e<0)||+e}function or(){if(!this.isValid())return this.localeData().invalidDate();var e,t,a,n,s,i,r,o,c=ir(this._milliseconds)/1e3,l=ir(this._days),u=ir(this._months),p=this.asSeconds();return p?(e=Oe(c/60),t=Oe(e/60),c%=60,e%=60,a=Oe(u/12),u%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",s=p<0?"-":"",i=rr(this._months)!==rr(p)?"-":"",r=rr(this._days)!==rr(p)?"-":"",o=rr(this._milliseconds)!==rr(p)?"-":"",s+"P"+(a?i+a+"Y":"")+(u?i+u+"M":"")+(l?r+l+"D":"")+(t||e||c?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(c?o+n+"S":"")):"P0D"}var cr=sn.prototype;return cr.isValid=an,cr.abs=xi,cr.add=Ai,cr.subtract=yi,cr.as=Oi,cr.asMilliseconds=Di,cr.asSeconds=ki,cr.asMinutes=Ri,cr.asHours=Li,cr.asDays=Mi,cr.asWeeks=Pi,cr.asMonths=Fi,cr.asQuarters=Ui,cr.asYears=Bi,cr.valueOf=Hi,cr._bubble=Ni,cr.clone=Gi,cr.get=ji,cr.milliseconds=Yi,cr.seconds=zi,cr.minutes=Vi,cr.hours=Wi,cr.days=Zi,cr.weeks=$i,cr.months=Qi,cr.years=Ki,cr.humanize=sr,cr.toISOString=or,cr.toString=or,cr.toJSON=or,cr.locale=is,cr.localeData=os,cr.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",or),cr.lang=rs,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Se("x",Ee),Se("X",xe),ke("X",(function(e,t,a){a._d=new Date(1e3*parseFloat(e))})),ke("x",(function(e,t,a){a._d=new Date(we(e))})),
//! moment.js
a.version="2.30.1",n(Wa),a.fn=oi,a.min=$a,a.max=Xa,a.now=Ja,a.utc=h,a.unix=ci,a.months=fi,a.isDate=u,a.locale=ha,a.invalid=_,a.duration=Cn,a.isMoment=b,a.weekdays=_i,a.parseZone=li,a.localeData=ga,a.isDuration=rn,a.monthsShort=gi,a.weekdaysMin=Ti,a.defineLocale=ma,a.updateLocale=fa,a.locales=_a,a.weekdaysShort=Ei,a.normalizeUnits=te,a.relativeTimeRounding=ar,a.relativeTimeThreshold=nr,a.calendarFormat=Hn,a.prototype=oi,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a}();var Nr=x(Sr.exports);class Cr{constructor(e){this.itemServiceCreator=e}async generateReportJSON(e,t,a){let n=e,s=n.getDate()+"."+n.getMonth(),i={canteen:(null==a?void 0:a.alias)||a.id,report_feedback_period_days:t,dateHumanReadable:s,foods:{}},r=await this.itemServiceCreator.getItemsService(Xi.FOODS_FEEDBACK_LABELS).readByQuery({fields:["*"],limit:-1}),o=this.convertFeedbacksLabelsToDict(r),c=[],l=await this.getFoodOffersWithFoodAtDateInCanteen(e,null==a?void 0:a.id);for(let e of l){let a=null==e?void 0:e.food,n=await this.getAllFoodFeedbacksWithLabelsForFood(null==a?void 0:a.id,t),s=this.countLabelsAsList(n,o),i=this.getFoodFeedbackComments(n),r=null;if(null==a?void 0:a.image){let e=null==a?void 0:a.image,t=process.env.PUBLIC_URL;t&&(r=t+"/assets/"+e)}(null==a?void 0:a.image_remote_url)&&(r=null==a?void 0:a.image_remote_url);let l={id:a.id,alias:a.alias,image_url:r,rating_average:null==a?void 0:a.rating_average,rating_amount:null==a?void 0:a.rating_amount,comments:i,labels:s};c.push(l)}return i.foods=c,i}getFoodFeedbackComments(e){let t=[];for(let a of e){let e=null==a?void 0:a.comment;if(e){let a=e.replace(/<[^>]*>?/gm,"");t.push(a)}}return t}convertFeedbacksLabelsToDict(e){let t={};for(let a of e)t[null==a?void 0:a.id]=a;return t}countLabelsAsList(e,t){let a={};for(let n of e){let e=null==n?void 0:n.labels;for(let n of e){let e=null==n?void 0:n.foods_feedbacks_labels_id,s=t[e],i=null==s?void 0:s.alias,r=a[e];r||(r={id:e,alias:i,count:0}),r.count++,a[e]=r}}let n=[];for(let e in a){let t=a[e];n.push(t)}return n}async getAllFoodFeedbacksWithLabelsForFood(e,t){let a=this.itemServiceCreator.getItemsService(Xi.FOODS_FEEDBACKS),n=new Date,s=new Date(n);return s.setDate(s.getDate()-t),await a.readByQuery({filter:{_and:[{food:{_eq:e}},{date_updated:{_between:[s.toISOString(),n.toISOString()]}}]},fields:["*","labels.*"],limit:-1})}async getFoodOffersWithFoodAtDateInCanteen(e,t){let a=new Date(e),n=new Date(e);a.setHours(0,0,0,0),n.setHours(23,59,59,999);let s=this.itemServiceCreator.getItemsService(Xi.FOODOFFERS);return await s.readByQuery({filter:{_and:[{date:{_between:[a.toISOString(),n.toISOString()]}},{canteen:{_eq:t}}]},fields:["*","food.*"],limit:-1})}}const Ir=Xi.APP_SETTINGS,Or=Xi.CANTEEN_FOOD_FEEDBACK_REPORT_RECIPIENTS,wr="CanteenFoodFeedbackReportSchedule";const Dr=new class{constructor(){}async init(e,t,a,n){this.schema=await e(),this.database=a,this.logger=n,this.services=t,this.itemsServiceCreator=new ar(t,a,this.schema)}async isEnabled(){try{let e=Ir,t=await this.database(e).first();if(t)return null==t?void 0:t.canteen_reports_enabled}catch(e){console.log(e)}}async run(){if(console.log("[Run] "+wr),await this.isEnabled()){console.log("[Start] "+wr);let e=new Cr(this.itemsServiceCreator);try{let t=await this.getAllRecipientsEntries();for(let a of t){console.log("recipientEntry.id: "+a.id);let t=await this.getDateForWhichTheReportShouldBeSend(a);if(console.log("generateReportForDate: "+t),t){let n=await this.getRecipientEntryEmailList(a);if(n.length>0){let s=await this.getCanteenEntry(a);if(s)try{let i=(null==a?void 0:a.report_feedback_period_days)||180,r=await e.generateReportJSON(t,i,s);if(r){for(let e of n)await this.sendReport(t,r,a,s,e);await this.setNextReportDate(t,a),await this.updateReportLogSuccess(t,a)}else await this.logReportSendError(a,"No report could be generated. Please contact admin and tell him: await reportGenerator.generateReportForMail(generateReportForDate)")}catch(e){await this.logReportSendError(a,e)}else await this.logReportSendError(a,"No canteen set.")}else await this.logReportSendError(a,"No emails given.")}}console.log("Finished "+wr)}catch(e){console.log("Error in "+wr),console.log(e)}}}async getRecipientEntryEmailList(e){let t=[],a=null==e?void 0:e.to_recipient_email;a&&t.push(a);let n=null==e?void 0:e.to_recipient_user,s=this.itemsServiceCreator.getItemsService(Xi.USERS);if(n){let e=await s.readOne(n),a=null==e?void 0:e.email;a&&t.push(a)}return t}async getCanteenEntry(e){let t=e.canteen,a=this.itemsServiceCreator.getItemsService(Xi.CANTEENS);return await a.readOne(t)}async sendReport(e,t,a,n,s){let{MailService:i}=this.services,r=null==n?void 0:n.alias,o=e,c="Mensa Report - fr: "+(o.getDate()+"."+o.getMonth())+" "+r,l=new i({accountability:null,knex:this.database,schema:this.schema});await l.send({to:s,subject:c,template:{name:"canteen-food-feedback-report",data:t}})}async setNextReportDate(e,t){let a=Or,n=this.itemsServiceCreator.getItemsService(a),s=Nr(e).add(1,"days").toDate(),i=t.send_amount_days_before_offer_date,r=Nr(s).subtract(i,"days").toISOString();await n.updateOne(t.id,{date_next_report_is_due:r})}async updateReportLogSuccess(e,t){(new Date).toISOString(),await this.updateReportLog(t,"Report was sent successfully for the date: "+e)}async logReportSendError(e,t){await this.updateReportLog(e,"Report sending failed: "+t.toString())}async updateReportLog(e,t){try{let a=Or,n=this.itemsServiceCreator.getItemsService(a),s={report_status_log:t};await n.updateOne(e.id,s)}catch(e){console.log(wr+" updateReportLog failed:"),console.log(e)}}async getDateForWhichTheReportShouldBeSend(e){let t=Or,a=this.itemsServiceCreator.getItemsService(t);if(!e.enabled)return await this.updateReportLog(e,"Recipient is disabled."),null;let n=Nr(new Date),s=null==e?void 0:e.send_once_now_for_date;if(s)return await a.updateOne(e.id,{send_once_now_for_date:null}),new Date(s);let i=e.send_report_at_hh_mm,r=e.send_amount_days_before_offer_date;if(!!!i||!(null!=r))return await this.updateReportLog(e,"Recipient settings are not configured. (send_report_at_hh_mm_configured or send_amount_days_before_offer_date_configured is undefined)"),null;let o=Nr(n).add(r,"days").format("YYYY-MM-DD")+" "+i,c=e.date_next_report_is_due,l=e.last_saved_send_report_at_hh_mm,u=e.last_saved_send_amount_days_before_offer_date;l||(l=i,await a.updateOne(e.id,{last_saved_send_report_at_hh_mm:i})),u||(u=r,await a.updateOne(e.id,{last_saved_send_amount_days_before_offer_date:r}));let p=l!==i||u!==r;if(p){l=i,u=r;let t={last_saved_send_report_at_hh_mm:l,last_saved_send_amount_days_before_offer_date:u};await a.updateOne(e.id,t),await this.updateReportLog(e,"Recipient settings have changed. (send_report_at_hh_mm_changed or send_amount_days_before_offer_date_changed)")}if(!c||p){let t=Nr(n).add(0,"days").format("YYYY-MM-DD")+" "+i;n.isAfter(t)&&(t=Nr(t).add(1,"days").format("YYYY-MM-DD")+" "+i);let s=Nr(t).toISOString();return await a.updateOne(e.id,{date_next_report_is_due:s}),await this.updateReportLog(e,"Next report date was not set. Set next report due date to: "+s),null}if(n.isAfter(c)){let e=Nr(o).toISOString();return new Date(e)}return null}async getAllRecipientsEntries(){let e=Or,t=this.itemsServiceCreator.getItemsService(e);return await t.readByQuery({limit:-1})}};var kr=async({schedule:e},{services:t,database:a,getSchema:n,logger:s})=>{if(await er.checkAllTablesExist("food_feedback_report",n)){try{console.log("Canteen Food Feedback Report Schedule init"),await Dr.init(n,t,a,s),console.log("Canteen Food Feedback Report Schedule init finished")}catch(e){let t=e.toString();console.log("Canteen Food Feedback Report Schedule init error: "),console.log(t)}console.log("Canteen Food Feedback Report Schedule schedule register"),e("*/20 * * * * *",(async()=>{await Dr.run()}))}};const Rr="languages_code",Lr="code",Mr=class{static async updateItemTranslations(e,t,a,n){let s=await n.readOne(null==e?void 0:e.id,{fields:["*","translations.*"]}),i=(null==t?void 0:t.translations)||{},r=JSON.parse(JSON.stringify(i)),o=[],c=[],l=[];if(s){let t=(null==s?void 0:s.translations)||[],u=!1,p=!1;for(let e of t){let t=null==e?void 0:e[Rr],a=i[t];if(a){if(a=JSON.parse(JSON.stringify(a)),delete r[t],(null==e?void 0:e.name)!==(null==a?void 0:a.name)){u=!0,console.log("existingTranslation is different from parsing"),console.log("existingTranslation: "+JSON.stringify(e,null,2)),console.log("translationFromParsing: "+JSON.stringify(a,null,2));let n=!1;t===Mr.LANGUAGE_CODE_DE&&(n=!0),c.push({id:null==e?void 0:e.id,let_be_translated:!1,be_source_for_translations:n,...a,[Rr]:{[Lr]:t}})}}else delete r[t]}let d=Object.keys(r);for(let t=0;t<(null==d?void 0:d.length);t++){let n=d[t],s=i[n];if(s){p=!0;let t=!1;n===Mr.LANGUAGE_CODE_DE&&(t=!0),o.push({[a]:null==e?void 0:e.id,be_source_for_translations:t,let_be_translated:!1,...s,[Rr]:{[Lr]:n}})}}let h={translations:{create:o,update:c,delete:l}};(u||p)&&(console.log("Update Translations for item with id: "+(null==e?void 0:e.id)+" - alias: "+(null==e?void 0:e.alias)),console.log("Update Translations: create ("+o.length+"), update ("+c.length+"), delete ("+l.length+")"),console.log("createTranslations: "+JSON.stringify(o,null,2)),console.log("updateTranslations: "+JSON.stringify(c,null,2)),console.log("deleteTranslations: "+JSON.stringify(l,null,2)),await n.updateOne(null==e?void 0:e.id,{id:null==e?void 0:e.id,...h}))}}};let Pr=Mr;Pr.LANGUAGE_CODE_DE="de-DE",Pr.LANGUAGE_CODE_EN="en-US";const Fr=Xi.FOODS,Ur=Xi.FOODS_FEEDBACKS,Br=Xi.FOODOFFERS,Hr=Xi.APP_SETTINGS,Gr="FoodNotifySchedule",jr=Pr.LANGUAGE_CODE_DE,qr=Pr.LANGUAGE_CODE_EN;class Yr{constructor(){this.finished=!0}async init(e,t,a,n){this.schema=await e(),this.database=a,this.logger=n,this.services=t,this.itemsServiceCreator=new ar(t,a,this.schema),this.serverServiceCreator=new ir(t,a,this.schema),await this.getProjectName()}async setStatus(e){await this.database(Hr).update({notifications_foods_status:e})}async getStatus(){try{let e=Hr,t=await this.database(e).first();if(t)return null==t?void 0:t.notifications_foods_status}catch(e){console.log(e)}}async notify(e=1,t=!1){let a=await this.getStatus(),n="running";if(this.finished=!!this.finished,"start"===a&&this.finished||t){console.log("[Start] "+Gr+" Schedule"),console.log("Notify about meals in "+e+" days - force: "+t),this.finished=!1,await this.setStatus(n);try{let t=new Date;t.setDate(t.getDate()+e);let a=await this.getFoodOffersForDate(t);for(let n of a){let a=n.food,s=await this.getFoodWithTranslations(a),i=n.canteen,r=await this.getFoodFeedbacksForFood(a);for(let a of r){let r=a.profile,o=await this.getProfileAndDevicesForProfile(r),c=o.language;if(o.canteen===i)for(let a of o.devices)null!==a.pushTokenObj&&await this.notifyDeviceAboutFoodOffer(a,n,s,c,e,t)}}this.finished=!0,await this.setStatus("finished")}catch(e){console.log("["+Gr+"] Failed"),console.log(e),this.finished=!0,await this.setStatus("failed")}}else this.finished||a===n||await this.setStatus(n)}async notifyDeviceAboutFoodOffer(e,t,a,n,s,i){var r;let o=this.itemsServiceCreator.getItemsService(Xi.PUSH_NOTIFICATIONS),c=e.pushTokenObj,l=null==(r=null==c?void 0:c.pushtokenObj)?void 0:r.data;if(void 0===l)return;let u=await this.getProjectName(),p=this.getFoodNameTranslation(a,n),d=await this.getTranslationDate(n,s,i)+": "+p;d=" "+d;let h={status:"published",expo_push_tokens:[l],message_title:u,message_body:d};try{await o.createOne(h)}catch(t){if(t.message.includes("Failed to send notification")){let t=this.itemsServiceCreator.getItemsService(Xi.DEVICES);await t.updateOne(e.id,{pushTokenObj:null})}}}async getAppTranslationText(e,t){let a=this.itemsServiceCreator.getItemsService(Xi.APP_TRANSLATIONS);try{let n=await a.readOne(e,{fields:["*","translations.*"]}),s=this.getTranslation(null==n?void 0:n.translations,t,"text");if(s)return s}catch(e){e.message.includes("You don't have permission to access this")||(console.log("Error while reading app_translation_today"),console.log(e))}}async getTranslationDate(e,t,a){if(0===t){return await this.getAppTranslationText("today",e)||"Heute"}if(1===t){return await this.getAppTranslationText("tomorrow",e)||"Morgen"}return a.getDate()+"."+a.getMonth()}getFoodNameTranslation(e,t){return this.getTranslation(null==e?void 0:e.translations,t,"name")||"ein Gericht"}getTranslation(e,t,a){let n=(e=e||[]).find((e=>e.languages_code===t)),s=e.find((e=>e.languages_code===jr)),i=e.find((e=>e.languages_code===qr));return(null==n?void 0:n[a])||(null==s?void 0:s[a])||(null==i?void 0:i[a])}async getProjectName(){let e=await this.serverServiceCreator.getServerInfo(),t=null==e?void 0:e.project;return(null==t?void 0:t.project_name)||"Rocket Meals"}async getFoodWithTranslations(e){let t=this.itemsServiceCreator.getItemsService(Fr);return await t.readOne(e,{fields:["*","translations.*"]})}async getProfileAndDevicesForProfile(e){let t=this.itemsServiceCreator.getItemsService("profiles");return await t.readOne(e,{fields:["*","devices.*"]})}async getFoodFeedbacksForFood(e){let t=this.itemsServiceCreator.getItemsService(Ur);return await t.readByQuery({filter:{_and:[{food:e},{notify:!0}]},limit:-1})}async getFoodOffersForDate(e){let t=new Date(e),a=new Date(e);t.setHours(0,0,0,0),a.setHours(23,59,59,999);let n=this.itemsServiceCreator.getItemsService(Br);return await n.readByQuery({filter:{date:{_between:[t.toISOString(),a.toISOString()]}},limit:-1})}}var zr=async({action:e},{services:t,database:a,getSchema:n,logger:s})=>{let i=Xi.APP_SETTINGS;if(!await er.checkAllTablesExist("food_notify",n))return;const r=new Yr;try{console.log("foodNotify init"),await r.init(n,t,a,s)}catch(e){e.toString().includes("no such table: directus_collections")?(console.log("+++++++++ Meal Parse Schedule +++++++++"),console.log("++++ Database not initialized yet +++++"),console.log("+++ Restart Server again after init +++"),console.log("+++++++++++++++++++++++++++++++++++++++")):(console.log("foodNotify Schedule init error: "),console.log(e))}e(i+".items.update",(async()=>{try{await r.notify(1,!1)}catch(e){console.log(e)}}))},Vr={exports:{}};!function(e,t){var a=f;function n(e,t){return function(e,t){var n;n="passthrough"!==t.algorithm?a.createHash(t.algorithm):new l;void 0===n.write&&(n.write=n.update,n.end=n.update);var s=c(t,n);s.dispatch(e),n.update||n.end("");if(n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var i=n.read();if("buffer"===t.encoding)return i;return i.toString(t.encoding)}(e,t=r(e,t))}(t=e.exports=n).sha1=function(e){return n(e)},t.keys=function(e){return n(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},t.MD5=function(e){return n(e,{algorithm:"md5",encoding:"hex"})},t.keysMD5=function(e){return n(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var s=a.getHashes?a.getHashes().slice():["sha1","md5"];s.push("passthrough");var i=["buffer","hex","binary","base64"];function r(e,t){t=t||{};var a={};if(a.algorithm=t.algorithm||"sha1",a.encoding=t.encoding||"hex",a.excludeValues=!!t.excludeValues,a.algorithm=a.algorithm.toLowerCase(),a.encoding=a.encoding.toLowerCase(),a.ignoreUnknown=!0===t.ignoreUnknown,a.respectType=!1!==t.respectType,a.respectFunctionNames=!1!==t.respectFunctionNames,a.respectFunctionProperties=!1!==t.respectFunctionProperties,a.unorderedArrays=!0===t.unorderedArrays,a.unorderedSets=!1!==t.unorderedSets,a.unorderedObjects=!1!==t.unorderedObjects,a.replacer=t.replacer||void 0,a.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<s.length;++n)s[n].toLowerCase()===a.algorithm.toLowerCase()&&(a.algorithm=s[n]);if(-1===s.indexOf(a.algorithm))throw new Error('Algorithm "'+a.algorithm+'"  not supported. supported values: '+s.join(", "));if(-1===i.indexOf(a.encoding)&&"passthrough"!==a.algorithm)throw new Error('Encoding "'+a.encoding+'"  not supported. supported values: '+i.join(", "));return a}function o(e){if("function"!=typeof e)return!1;return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function c(e,t,a){a=a||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var a=typeof t;return null===t&&(a="null"),this["_"+a](t)},_object:function(t){var s=Object.prototype.toString.call(t),i=/\[object (.*)\]/i.exec(s);i=(i=i?i[1]:"unknown:["+s+"]").toLowerCase();var r;if((r=a.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+r+"]");if(a.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"===i||"function"===i||"asyncfunction"===i){var c=Object.keys(t);e.unorderedObjects&&(c=c.sort()),!1===e.respectType||o(t)||c.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(c=c.filter((function(t){return!e.excludeKeys(t)}))),n("object:"+c.length+":");var l=this;return c.forEach((function(a){l.dispatch(a),n(":"),e.excludeValues||l.dispatch(t[a]),n(",")}))}if(!this["_"+i]){if(e.ignoreUnknown)return n("["+i+"]");throw new Error('Unknown object type "'+i+'"')}this["_"+i](t)},_array:function(t,s){s=void 0!==s?s:!1!==e.unorderedArrays;var i=this;if(n("array:"+t.length+":"),!s||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var r=[],o=t.map((function(t){var n=new l,s=a.slice();return c(e,n,s).dispatch(t),r=r.concat(s.slice(a.length)),n.read().toString()}));return a=a.concat(r),o.sort(),this._array(o,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),o(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString())},_map:function(t){n("map:");var a=Array.from(t);return this._array(a,!1!==e.unorderedSets)},_set:function(t){n("set:");var a=Array.from(t);return this._array(a,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function l(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}t.writeToStream=function(e,t,a){return void 0===a&&(a=t,t={}),c(t=r(e,t),a).dispatch(e)}}(Vr,Vr.exports);var Wr=x(Vr.exports);class Zr{static async readAppSettings(e){let t=e.getItemsService(Xi.APP_SETTINGS);return await t.readSingleton({})}static async setAppSettings(e,t){let a=e.getItemsService(Xi.APP_SETTINGS);return await a.upsertSingleton(t)}}Zr.FIELD_APP_SETTINGS_FOODS_PARSING_ENABLED="foods_parsing_enabled",Zr.FIELD_APP_SETTINGS_FOODS_PARSING_STATUS="foods_parsing_status",Zr.FIELD_APP_SETTINGS_FOODS_PARSING_HASH="foods_parsing_hash",Zr.FIELD_APP_SETTINGS_FOODS_PARSING_LAST_RUN="foods_parsing_last_date",Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_START="start",Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_RUNNING="running",Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_FINISHED="finished",Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_FAILED="failed";const Qr=class{static getListOfLineObjects(e,t,a,n=!0){let s=Qr.splitTextIntoLines(e,t);return Qr.parseFileLinesToJSONList(s,a,n)}static splitTextIntoLines(e,t=Qr.NEW_LINE_DELIMITER){return e.split(t)}static splitLineByDelimiter(e,t=Qr.INLINE_DELIMITER_TAB,a){let n=e.split(t);if(a)for(let e=0;e<n.length;e++){let t=n[e];t.endsWith("\r")&&(t=t.substring(0,t.length-1)),t.startsWith('"')&&(t=t.substring(1)),t.endsWith('"')&&(t=t.substring(0,t.length-1)),t.startsWith('\\"')&&(t=t.substring(2)),t.endsWith('\\"')&&(t=t.substring(0,t.length-2)),n[e]=t}return n}static parseFileLinesToJSONList(e,t,a){let n=e[0].trim(),s=Qr.splitLineByDelimiter(n,t,a),i=[];for(let n=1;n<e.length;n++){let r=e[n];if(r&&""!==r){let e=Qr.splitLineByDelimiter(r,t,a),n=Qr.parseLineToJSON(e,s);i.push(n)}}return i}static parseLineToJSON(e,t){let a={};for(let n=0;n<t.length;n++){let s=t[n],i=e[n];a[s]=i}return a}};let Kr=Qr;Kr.NEW_LINE_DELIMITER="\n",Kr.INLINE_DELIMITER_TAB="\t",Kr.INLINE_DELIMITER_SEMICOLON=";";class $r{}$r.PRICE_GROUP_STUDENT="student",$r.PRICE_GROUP_EMPLOYEE="employee",$r.PRICE_GROUP_GUEST="guest";const Xr=class{constructor(e){this.rawMealOffers=null,this.foodIdToRawMealOfferDict=null,this.rawMealOfferReader=e,this.rawMealOffers=null,this.foodIdToRawMealOfferDict=null}async createNeededData(){let e=await this.rawMealOfferReader.getRawReport();this.rawMealOffers=await Xr.createRawMealOffers(e),this.foodIdToRawMealOfferDict=Xr.createMealIdToRawMealOfferDict(this.rawMealOffers)}async getMealsJSONList(){let e=this.foodIdToRawMealOfferDict,t=Object.keys(e),a=[];for(let n of t){let t=e[n],s=Xr.getMealJSONFromRawMealOffer(t);a.push(s)}return a}async getCanteensJSONList(){let e=await this.getRawMealOffersJSONList(),t={};for(let a of e){let e=Xr.getParsedReportItemFromRawMealOffer(a),n=Xr.getCanteenLabelFunction(e);t[n]={label:n,external_identifier:n}}return Xr.getValueListFromDict(t)}async getMarkingExternalIdentifierListForFoodJSON(e){let t=this._getRawMealOfferFromMealJSON(e);return Xr.getMealOfferMarkingLabelsFromRawMealOffer(t)}async getMealNutritionsForMealJSON(e){let t=this._getRawMealOfferFromMealJSON(e);return this.getMealNutritionsForRawMealOffer(t)}async getMealNutritionsForRawMealOffer(e){return Xr.getMealNutritionsFromRawMealOffer(e)}async getRawMealOffersJSONList(){return this.rawMealOffers}async getCanteenLabelFromRawMealOffer(e){return e[Xr._MEALOFFERITEM_CANTEEN_LABEL]}async getMealIdFromRawMealOffer(e){return e[Xr._MEALOFFERITEM_MEAL_ID]}async getISODateStringOfMealOffer(e){return e[Xr._MEALOFFERITEM_DATE]}async getPriceForGroupFromRawMealOffer(e,t){let a=Xr.getParsedReportItemFromRawMealOffer(t);return Xr.getPriceForGroup(a,e)}async getMarkingsExternalIdentifiersFromRawMealOffer(e){return Xr.getMealOfferMarkingLabelsFromRawMealOffer(e)}static async createRawMealOffers(e){let t=Kr.getListOfLineObjects(e,Kr.NEW_LINE_DELIMITER,Kr.INLINE_DELIMITER_TAB,!0),a=Xr._groupParsedReportItemsToMealOfferListsItems(t);return Xr.createMealOfferJSONFromGroupedList(a)}static _groupParsedReportItemsToMealOfferListsItems(e){let t={};for(let a of e){let e=Xr.getMealOfferIdentifier(a);if(e){let n=t[e]||[];n.push(a),t[e]=n}}return t}static createMealOfferJSONFromGroupedList(e){let t=[],a=Object.keys(e);for(let n of a){let a=e[n],s=Xr._createMealOfferFromGroupedItems(a);t.push(s)}return t}static _createMealOfferFromGroupedItems(e){let t=[],a=e[0];for(let a of e){let e=Xr.getRecipeIdFunction(a);t.push(e)}let n=Xr.getSortedMealId(t),s=Xr.getISODateFunction(a),i=Xr.getCanteenLabelFunction(a);return{[Xr._MEALOFFERITEM_MEAL_ID]:n,[Xr._MEALOFFERITEM_ITEM]:a,[Xr._MEALOFFERITEM_DATE]:s,[Xr._MEALOFFERITEM_CANTEEN_LABEL]:i}}static getSortedMealId(e){let t=e.map(Number);return[...new Set(t)].map(Number).sort((function(e,t){return e-t})).map(String).join("-")}static createMealIdToRawMealOfferDict(e){let t={};for(let a of e){t[Xr.getMealIdFromRawMealOffer(a)]=a}return t}_getRawMealOfferFromMealJSON(e){let t=e.id;return this.foodIdToRawMealOfferDict[t]}static getMealJSONFromRawMealOffer(e){let t=Xr.getMealIdFromRawMealOffer(e),a=e[Xr._MEALOFFERITEM_ITEM];return{id:t,alias:Xr._getMealNameDe(a),category:a[Xr.DEFAULT_CATEGORY_FIELD],translations:{[Pr.LANGUAGE_CODE_DE]:{name:Xr._getMealNameDe(a)},[Pr.LANGUAGE_CODE_EN]:{name:Xr._getMealNameEn(a)}}}}async getAliasForMealOfferFromRawMealOffer(e){let t=e[Xr._MEALOFFERITEM_ITEM];return Xr._getMealNameDe(t)}static getParsedReportItemFromRawMealOffer(e){return e[Xr._MEALOFFERITEM_ITEM]}static getMealIdFromRawMealOffer(e){return e[Xr._MEALOFFERITEM_MEAL_ID]}static _hasValidName(e){let t=Xr._getRawNamesList(e);if(t&&t.length>0){return t.join("").length>0}return!1}static getMealOfferIdentifier(e){if(Xr._hasValidName(e)){let t="";return t+=Xr._getCanteenName(e),t+=Xr._getDatum(e),t+=Xr._getMealIdentifier(e),t}return null}static getRecipeIdFunction(e){return e[Xr.DEFAULT_RECIPE_ID_FIELD]}static getISODateFunction(e){let t=Xr._getDatum(e);return Nr(t,"DD-MM-YYYY").toISOString()}static getCanteenLabelFunction(e){return e[Xr.DEFAULT_CANTEEN_FIELD]}static findFirstPriceValueForFields(e,t){for(let a of t){let t=e[a];if(t)return t}return null}static getPriceForGroup(e,t){let a=null;switch(t){case $r.PRICE_GROUP_STUDENT:a=Xr.findFirstPriceValueForFields(e,[Xr.FIELD_PRICE_STUDENT_OSNABRUECK,Xr.FIELD_PRICE_STUDENT_HANNOVER]);break;case $r.PRICE_GROUP_EMPLOYEE:a=Xr.findFirstPriceValueForFields(e,[Xr.FIELD_PRICE_EMPLOYEE_OSNABRUECK,Xr.FIELD_PRICE_EMPLOYEE_HANNOVER]);break;case $r.PRICE_GROUP_GUEST:a=Xr.findFirstPriceValueForFields(e,[Xr.FIELD_PRICE_GUEST_OSNABRUECK,Xr.FIELD_PRICE_GUEST_HANNOVER]);break;default:return null}return a&&(a=a.replace(",",".")),a}static getMealNutritionsFromRawMealOffer(e){let t={},a=Xr.getParsedReportItemFromRawMealOffer(e)[Xr.DEFAULT_NUTRITIONS_FIELD];if(a){let e=" kcal)",n=a.match(/\(.* kcal/gm);if(n){let a=n[0].slice(1,e.length);t.calories_kcal=parseInt(a)}let s=Xr.parseNutritionValue(a,"Fett");t.fat_g=s;let i=Xr.parseNutritionValue(a,"Fettsuren");t.saturated_fat_g=i;let r=Xr.parseNutritionValue(a,"Kohlenhydrate");t.carbohydrate_g=r;let o=Xr.parseNutritionValue(a,"Zucker");t.sugar_g=o;let c=Xr.parseNutritionValue(a,"Ballaststoffe");t.fiber_g=c;let l=Xr.parseNutritionValue(a,"Eiwei");t.protein_g=l;let u=Xr.parseNutritionValue(a,"Salz");t.sodium_g=u}return t}static parseFloatWithOneDecimal(e){let t=parseFloat(e);return isNaN(t)?NaN:Math.round(10*t)/10}static parseNutritionValue(e,t){try{let a=t+"=",n=new RegExp(a+"\\d*,\\d*","gm"),s=e.match(n);if(s&&1===s.length){let e=s[0].slice(a.length);return e=e.replace(",","."),Xr.parseFloatWithOneDecimal(e)}}catch(e){return null}return null}static getMealOfferMarkingLabelsFromRawMealOffer(e){let t=Xr.getParsedReportItemFromRawMealOffer(e),a={},n=Xr._getRawNamesList(t).join("");return a=Xr.getMarkingLabelsDictFromName(n),Object.keys(a)}static getMarkingLabelsDictFromName(e){let t={},a=e.match(/\([^\)]+\)/gm);if(a)for(let e of a){let a=Xr.removeValuesAndWhitespacesAndSeperators(e,["(",")"],",");for(let e of a)t[e]=e}return t}static getGenerelMarkingsFromRawMealOffer(e){let t=Xr.getParsedReportItemFromRawMealOffer(e),a=t[Xr.DEFAULT_MARKING_LABELS_FIELD],n=t[Xr.DEFAULT_MARKING_NAMES_FIELD],s=a.split(","),i=n.split(","),r=[];if(s.length===i.length)for(let e=0;e<s.length;e++){let t=s[e];t=t.trim();let a=i[e];a=a.split("(")[0],a=a.trim(),a&&t&&r.push({label:t,external_identifier:t})}return r}static removeValuesAndWhitespacesAndSeperators(e,t,a){let n=[],s=new String(e);for(let e of t)s=s.replace(e,"");let i=s.split(a);for(let e of i)n.push(e.trim());return n}static _getCanteenName(e){return e[Xr.DEFAULT_CANTEEN_FIELD]}static _getDatum(e){return e[Xr.DEFAULT_DATE_FIELD]}static _getMealIdentifier(e){return Xr._getRawNamesList(e).join("")}static _getRawNamesList(e,t){t||(t="");let a=[];for(let n=1;n<=6;n++){let s=e[Xr.DEFAULT_TEXT_FIELD+n+t];s&&s.length>0&&" "!==s&&a.push(s)}return a}static _getMealNameDe(e){return Xr._getRawNamesList(e,"").join(", ").replace(/ \([^ ]+/gm,"")}static _getMealNameEn(e){return Xr._getRawNamesList(e,"_1").join(", ").replace(/ \([^ ]+/gm,"")}static getValueListFromDict(e){let t=Object.keys(e),a=[];for(let n of t)a.push(e[n]);return a}};let Jr=Xr;Jr.DEFAULT_CANTEEN_FIELD="MENSA",Jr.DEFAULT_DATE_FIELD="DATUM",Jr.DEFAULT_TEXT_FIELD="TEXT",Jr.DEFAULT_RECIPE_ID_FIELD="REZEPTUR_ID",Jr.DEFAULT_NUTRITIONS_FIELD="NAEHRWERTEJEPORT",Jr.DEFAULT_CATEGORY_FIELD="SPEISE",Jr.FIELD_PRICE_STUDENT_OSNABRUECK="STD_PREIS",Jr.FIELD_PRICE_STUDENT_HANNOVER="PREIS_STUDENT",Jr.FIELD_PRICE_EMPLOYEE_OSNABRUECK="BED_PREIS",Jr.FIELD_PRICE_EMPLOYEE_HANNOVER="PREIS_BEDIENSTETER",Jr.FIELD_PRICE_GUEST_OSNABRUECK="GSTE_PREIS",Jr.FIELD_PRICE_GUEST_HANNOVER="PREIS_GAST",Jr.DEFAULT_MARKING_LABELS_FIELD="ZSNUMMERN",Jr.DEFAULT_MARKING_NAMES_FIELD="ZSNAMEN",Jr._MEALOFFERITEM_MEAL_ID="id",Jr._MEALOFFERITEM_ITEM="item",Jr._MEALOFFERITEM_DATE="date",Jr._MEALOFFERITEM_CANTEEN_LABEL="canteen_label";class eo{constructor(e,t=8){this.foods={},this.canteens={},this.api_url="",this.foods={},this.canteens={},this.api_url=e,this.amountOfDaysToPull=t}async createNeededData(){this.foods={},this.canteens={},this.foods=await this.downloadMealsDictIdToMeal(),this.canteens=await this.downloadCanteensDictIdToCanteen()}static getImageRemoteUrlForMealId(e,t){return e+"/meals/"+t+"/photos?resTag=high&webp=false"}async getMarkingsJSONList(){let e=(await Rn.get(this.api_url+"/markings")).data,t=[];for(let a of e)t.push({alias:a.label,external_identifier:a.label,translations:{[Pr.LANGUAGE_CODE_DE]:{name:a.description}}});return t}async getCanteensJSONList(){let e=this.canteens,t=Object.keys(e),a=[];for(let n of t){let t=e[n];a.push({alias:t.name,external_identifier:t.name})}return a}async getMealsJSONList(){let e=this.foods,t=Object.keys(e),a=[];for(let n of t){let t=e[n];a.push({id:t.id,alias:null==t?void 0:t.name,image_remote_url:eo.getImageRemoteUrlForMealId(this.api_url,t.id),translations:{[Pr.LANGUAGE_CODE_DE]:{name:null==t?void 0:t.name},[Pr.LANGUAGE_CODE_EN]:{name:null==t?void 0:t.nameEng}}})}return a}async getAliasForMealOfferFromRawMealOffer(e){let t=await this.getMealIdFromRawMealOffer(e),a=this.foods[t];return null==a?void 0:a.alias}async getMarkingExternalIdentifierListForFoodJSON(e){let t=await this.getMealFromMealJSON(e),a="";for(let e=1;e<=6;e++){a+=t["text"+e]}let n=await Jr.getMarkingLabelsDictFromName(a);return Object.keys(n)}async getMealNutritionsForMealJSON(e){let t=await this.getMealFromMealJSON(e);return await this.getMealNutritionsFromFood(t)}parseFloatWithOneDecimal(e){let t=parseFloat(e);return isNaN(t)?NaN:Math.round(10*t)/10}async getMealNutritionsFromFood(e){let t=this.parseFloatWithOneDecimal(e.fiberInGrams);t||(t=null);let a=this.parseFloatWithOneDecimal(e.proteinInGrams);return a||(a=null),{calories_kcal:this.parseFloatWithOneDecimal(e.kcal),fat_g:this.parseFloatWithOneDecimal(e.fatInGrams),saturated_fat_g:this.parseFloatWithOneDecimal(e.saturatedFatInGrams),carbohydrate_g:this.parseFloatWithOneDecimal(e.carbohydratesInGrams),sugar_g:this.parseFloatWithOneDecimal(e.sugarInGrams),fiber_g:t,protein_g:a,sodium_g:this.parseFloatWithOneDecimal(e.saltInGrams)}}async getMealNutritionsForRawMealOffer(e){let t=e.Meal||{};return await this.getMealNutritionsFromFood(t)}getDatesOfAmountNextDaysIncludingToday(e){let t=[],a=new Date;a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(12);for(let n=0;n<e;n++)t.push(new Date(a.toISOString())),a.setDate(a.getDate()+1);return t}async getRawMealOffersJSONList(){let e=[],t=this.canteens,a=Object.keys(t),n=this.getDatesOfAmountNextDaysIncludingToday(this.amountOfDaysToPull);for(let t of a){let a=await this.getRawMealOffersJSONListForCanteenIdAndDates(t,n);e=e.concat(a)}return e}async getCanteenLabelFromRawMealOffer(e){let t=e.CanteenId,a=this.canteens[t];return null==a?void 0:a.name}async getMealIdFromRawMealOffer(e){return e.MealId}async getISODateStringOfMealOffer(e){return e.date}async getPriceForGroupFromRawMealOffer(e,t){let a=null;switch(e){case"student":a=t.priceStudent;break;case"employee":a=t.priceEmployee;break;case"guest":a=t.priceGuest;break;default:return null}return a}async getMarkingsExternalIdentifiersFromRawMealOffer(e){let t=e.totalMarkings.split(","),a=[];for(let e of t)a.push(e.trim());return a}async getRawMealOffersJSONListForCanteenIdAndDates(e,t){let a=[];for(let n of t){let t=await this.getRawMealOffersJSONListForCanteenId(e,n);a=a.concat(t)}return a}async getRawMealOffersJSONListForCanteenId(e,t){t=new Date(t);let a=this.padToTwoDigits(t.getDate()),n=this.padToTwoDigits(t.getMonth()+1),s=t.getFullYear(),i=(await Rn.get(this.api_url+"/canteens/"+e+"/days/"+a+"-"+n+"-"+s+"/meals")).data,r=[];for(let e of i)e.date=t.toISOString(),r.push(e);return r}padToTwoDigits(e){return(""+e).padStart(2,"0")}async downloadMealsDictIdToMeal(){let e=(await Rn.get(this.api_url+"/meals")).data,t={};for(let a of e)t[a.id]=a;return t}async downloadCanteensDictIdToCanteen(){let e=(await Rn.get(this.api_url+"/canteens")).data,t={};for(let a of e)t[a.id]=a;return t}getMealFromMealJSON(e){console.log(JSON.stringify(e,null,2));let t=e.id;return this.foods[t]}}const to=Xi.FOODS,ao=Xi.FOODS_MARKINGS,no=Xi.FOODOFFERS,so=Xi.CANTEENS,io=Xi.MARKINGS,ro=Xi.FOODOFFER_MARKINGS,oo="FoodParseSchedule";let co=class{constructor(e,t){this.foodParser=e,this.markingParser=t}async init(e,t,a,n,s){this.schema=await e(),this.database=a,this.logger=n,this.services=t,this.env=s,this.itemsServiceCreator=new ar(t,a,this.schema)}async setStatus(e){await Zr.setAppSettings(this.itemsServiceCreator,{[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_STATUS]:e,[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_LAST_RUN]:new Date})}async isEnabled(){try{return(await Zr.readAppSettings(this.itemsServiceCreator))[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_ENABLED]}catch(e){console.log(e)}}async getStatus(){try{return(await Zr.readAppSettings(this.itemsServiceCreator))[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_STATUS]}catch(e){console.log(e)}}async getHashOfJsonObject(e){return Wr(e,{algorithm:"md5",excludeValues:!1,ignoreUnknown:!1})}async parse(e=!1){this.foodsService=this.itemsServiceCreator.getItemsService(to),this.markingsService=this.itemsServiceCreator.getItemsService(io);let t=await this.isEnabled(),a=await this.getStatus();if(t&&a===Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_START||e){console.log("[Start] "+oo+" Parse Schedule"),await this.setStatus(Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_RUNNING);try{if(this.markingParser){console.log("["+oo+"] - Create Needed Data for MarkingParser"),await this.markingParser.createNeededData(),console.log("["+oo+"] - Update Markings");let e=await this.markingParser.getMarkingsJSONList()||[];await this.updateMarkings(e)}if(this.foodParser){console.log("["+oo+"] - Create Needed Data for FoodParser"),await this.foodParser.createNeededData(),console.log("["+oo+"] - Update Canteens");let e=await this.foodParser.getCanteensJSONList()||[];await this.updateCanteens(e),console.log("["+oo+"] - Update Foods");let t=await this.foodParser.getMealsJSONList()||[];await this.updateFoods(t);let a=await this.foodParser.getRawMealOffersJSONList()||[];console.log("["+oo+"] - Check if meal offers changed");let n=await this.getHashOfJsonObject(a);console.log("["+oo+"] - Current meal offers hash: "+n);let s=(await Zr.readAppSettings(this.itemsServiceCreator))[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_HASH];if(!s||s!==n){console.log("["+oo+"] - Delete specific food offers");let e=await this.getIsoDatesFromRawMealOfferJSONList(a,this.foodParser),t=this.formatIsoStringDatesToIso8601WithoutTimezone(e);await this.deleteAllFoodOffersWithDates(t),await this.deleteAllFoodOffersNewerThanDatesAndInFuture(t),console.log("["+oo+"] - Create food offers"),await this.createFoodOffers(a,this.foodParser),console.log("["+oo+"] - Set previous meal offers hash"),await Zr.setAppSettings(this.itemsServiceCreator,{[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_HASH]:n})}}await this.reimportImages(),console.log("["+oo+"] - Finished"),await this.setStatus(Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_FINISHED)}catch(e){console.log("["+oo+"] - Failed"),console.log(e),await this.setStatus(Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_FAILED)}}}async reimportImages(){console.log("["+oo+"] - Check for image synchronize"),console.log("["+oo+"] - -- TODO: Remove this after switched to new project --");try{await this.checkForImageSynchronize(this.env,this.services,this.database,this.schema)}catch(e){console.log("["+oo+"] - Error while checking for image synchronize"),console.log(e)}}async checkForImageSynchronize(e,t,a,n){const s=e.FOOD_IMAGE_SYNC_ON_STARTUP_FROM_SWOSY,i=e.FOOD_IMAGE_SYNC_SWOSY_API_SERVER_URL,r=new ar(t,a,n),o=new nr(t,a,n);if(s&&i){console.log(oo+": Importing images from a SWOSY API: "+i);const e=r.getItemsService(Xi.FOODS),t=await e.readByQuery({limit:-1});let a=t.length,n=0,s=0,c=0;console.log(oo+": Found "+t.length+" meals");for(const e of t)e.image||s++;for(const r of t){c++;const t=r.id;if(r.image);else{const a=eo.getImageRemoteUrlForMealId(i,r.id);if(a){const s={filename_download:t+".jpg",title:t,folder:"7ca24fe5-f805-432a-a52e-623682eef9dc"};try{let i=await o.importByUrl(a,s);i?(console.log(oo+": Imported image for meal "+t+" with file id "+i),await e.updateOne(t,{image:i}),n++):console.log(oo+": Unknown Error while importing image for meal "+t)}catch(e){e.toString().includes("Couldn't fetch file from URL")||(console.log(e.toString()),console.log(oo+": Error while importing image for meal "+t),console.log(e))}}}console.log(oo+": Processed: "+c+"/"+a+" || Meals without image: "+s+" | Meals with imported image: "+n)}}}async getIsoDatesFromRawMealOfferJSONList(e,t){let a={};for(let n of e){let e=await t.getISODateStringOfMealOffer(n);a[e]=e}return Object.keys(a)}formatIsoStringDatesToIso8601WithoutTimezone(e){let t=[];for(let a of e){let e=new Date(a);t.push(this.formatDateToIso8601WithoutTimezone(e))}return t}formatDateToIso8601WithoutTimezone(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T00:00:00`}setStatusPublished(e){return e.status="published",e}async findOrCreateMarkingByExternalIdentifier(e){let t=io,a={external_identifier:e},n={alias:e,external_identifier:e};return n=this.setStatusPublished(n),await this.createIfNotFound(t,a,n)}async findOrCreateMarkingsByExternalIdentifierList(e){let t=[];for(let a of e){let e=await this.findOrCreateMarkingByExternalIdentifier(a);e&&t.push(e)}return t}async createIfNotFound(e,t,a=t){let n=this.itemsServiceCreator.getItemsService(e),s=(await n.readByQuery({filter:t}))[0];if(!s){await n.createOne(a),s=(await n.readByQuery({filter:t}))[0]}return s}async updateCanteens(e){let t=e.length,a=0;for(let n of e)a++,console.log("["+oo+"] - Update Canteen "+a+" / "+t),await this.findOrCreateCanteen(n.external_identifier)}async assignMarkingsToFood(e,t){let a=ao;for(let n of e){let e={foods_id:t.id,markings_id:n.id};await this.createIfNotFound(a,e,e)}}async assignMarkingsToMealOffer(e,t){let a=ro;for(let n of e){let e={foodoffers_id:t.id,markings_id:n.id};await this.createIfNotFound(a,e,e)}}async assignNutritionsToFoodOffer(e,t){let a=no,n=this.itemsServiceCreator.getItemsService(a);await n.updateOne(e.id,t)}async assignNutritionsToFood(e,t){let a=to,n=this.itemsServiceCreator.getItemsService(a);await n.updateOne(e.id,t)}async findOrCreateFood(e){let t=JSON.parse(JSON.stringify(e));delete t.translations;let a=to,n=this.itemsServiceCreator.getItemsService(a),s=await n.readByQuery({filter:{id:t.id}}),i=s[0];return i||(e=this.setStatusPublished(t),await n.createOne(t)),s=await n.readByQuery({filter:{id:t.id}}),i=s[0],i}async updateFoodTranslations(e,t){await Pr.updateItemTranslations(e,t,"foods_id",this.foodsService)}removeDuplicatesFromJsonList(e,t,a){let n=[],s={};for(let a of e){let e=a[t];s[e]||(s[e]=a,n.push(a))}return n}async updateFoods(e){e.length,e=this.removeDuplicatesFromJsonList(e,"id","foods");for(let t of e){let e=await this.findOrCreateFood(t);if(e&&e.id&&this.foodParser){let a=await this.foodParser.getMarkingExternalIdentifierListForFoodJSON(t)||[],n=await this.findOrCreateMarkingsByExternalIdentifierList(a);await this.assignMarkingsToFood(n,e);let s=await this.foodParser.getMealNutritionsForMealJSON(t);s&&await this.assignNutritionsToFood(e,s);let i=to,r=this.itemsServiceCreator.getItemsService(i);await r.updateOne(e.id,{alias:t.alias,category:t.category}),await this.updateFoodTranslations(e,t)}}}async deleteAllFoodOffersNewerThanDatesAndInFuture(e){let t=null;for(let a of e){let e=new Date(a);(!t||e>t)&&(t=e)}if(t){t.setDate(t.getDate()+1);let e=this.formatDateToIso8601WithoutTimezone(t),a=this.formatDateToIso8601WithoutTimezone(new Date);new Date(e)>new Date(a)&&await this.deleteAllFoodOffersNewerOrEqualThanDate(e)}}async deleteAllFoodOffersNewerOrEqualThanDate(e){let t=this.itemsServiceCreator.getItemsService(no),a=(await t.readByQuery({filter:{date:{$gte:e}},fields:["id"],limit:-1})).map((e=>e.id));a.length>0?await t.deleteMany(a).then((()=>{console.log(`Food offers deleted successfully for new or equal date: ${e} - amount: ${a.length}`)})).catch((t=>{console.error(`Error deleting items for new or equal date: ${e}:`,t)})):console.log(`No food offers found for date: ${e} to delete.`)}async deleteAllFoodOffersWithDates(e){let t=this.itemsServiceCreator.getItemsService(no);for(let a of e){console.log("["+oo+"] - Deleting food offers for date in order to overwrite: "+a);let e=(await t.readByQuery({filter:{date:a},fields:["id"],limit:-1})).map((e=>e.id));e.length>0?await t.deleteMany(e).then((()=>{console.log(`Food offers deleted successfully for date: ${a} - amount: ${e.length}`)})).catch((e=>{console.error(`Error deleting items for date: ${a}:`,e)})):console.log(`No food offers found for date: ${a} to delete.`)}}async findOrCreateCanteen(e){let t=so,a={alias:e,external_identifier:e},n=this.itemsServiceCreator.getItemsService(t),s=await n.readByQuery({filter:{external_identifier:a.external_identifier},limit:1}),i=s.length>0?s[0]:null;if(!i){console.log("["+oo+"] - Canteen "+a.alias+" not found, creating a new one."),a=this.setStatusPublished(a);let e=await n.createOne(a);i=await n.readOne(e)}return i}async createFoodOffer(e,t){let a=no,n=await t.getCanteenLabelFromRawMealOffer(e);if(n){let s=await this.findOrCreateCanteen(n);if(s){let n=await t.getMealIdFromRawMealOffer(e);if(await this.foodsService.readOne(n)){let i=await t.getISODateStringOfMealOffer(e),r=await t.getAliasForMealOfferFromRawMealOffer(e),o=this.formatDateToIso8601WithoutTimezone(new Date(i));if(n&&o){let i={food:n,alias:r,canteen:s.id,date:o,price_student:await t.getPriceForGroupFromRawMealOffer($r.PRICE_GROUP_STUDENT,e)||null,price_employee:await t.getPriceForGroupFromRawMealOffer($r.PRICE_GROUP_EMPLOYEE,e)||null,price_guest:await t.getPriceForGroupFromRawMealOffer($r.PRICE_GROUP_GUEST,e)||null,date_updated:new Date,date_created:new Date};i=this.setStatusPublished(i);let c=this.itemsServiceCreator.getItemsService(a),l=await c.createOne(i),u=await c.readOne(l);if(u){let a=await t.getMarkingsExternalIdentifiersFromRawMealOffer(e)||[],n=await this.findOrCreateMarkingsByExternalIdentifierList(a);await this.assignMarkingsToMealOffer(n,u)}let p=await t.getMealNutritionsForRawMealOffer(e);p&&await this.assignNutritionsToFoodOffer(u,p)}}}}}async createFoodOffers(e,t){let a=e.length,n=0;console.log("["+oo+"] - Create Food Offers");for(let s of e)n++,console.log("["+oo+"] - Create Food Offer "+n+" / "+a),await this.createFoodOffer(s,t)}async updateMarkings(e){let t=io,a=this.itemsServiceCreator.getItemsService(t),n=(e=this.removeDuplicatesFromJsonList(e,"external_identifier","markings")).length,s=0;for(let t of e){s++,console.log("["+oo+"] - Update Marking "+s+" / "+n),console.log(t);let e=JSON.parse(JSON.stringify(t));delete e.translations;let i=await a.readByQuery({filter:{external_identifier:e.external_identifier},limit:1}),r=i.length>0?i[0]:null;if(r)await a.updateOne(r.id,e);else{let t=await a.createOne(e);t=await a.readOne(t)}r&&r.id&&await this.updateMarkingTranslations(r,t)}}async updateMarkingTranslations(e,t){await Pr.updateItemTranslations(e,t,"markings_id",this.markingsService)}};class lo{constructor(e,t){this.path_to_tl1_export=e,this.encoding=t}async getRawReport(){if(console.log("TL1Parser: getRawReport"),console.log("TL1Parser: path_to_tl1_export: "+this.path_to_tl1_export),this.path_to_tl1_export)try{const e=i.resolve(this.path_to_tl1_export);console.log("TL1Parser: absolutePath: "+e);const t={encoding:this.encoding},a=l.readFileSync(i.resolve(this.path_to_tl1_export),t);console.log("TL1 Report; length= "+a.length);return a.toString()}catch(e){console.log("TL1 Report read error: "),console.log(e.toString())}}}class uo{constructor(e){this.api_url=e}async getRawReport(){console.log("TL1Parser_Web: getRawReport"),console.log("TL1Parser_Web: api_url= "+this.api_url);try{const e=this.api_url;let t=(await Rn.request({method:"GET",url:e,responseType:"arraybuffer"})).data.toString("latin1"),a=Buffer.from(t,"utf-8").toString();return console.log("TL1 Report; length= "+a.length),a}catch(e){console.log("File not found yet")}}}const po="name";class ho{constructor(e,t){this.path_to_tl1_export=e,this.encoding=t}async createNeededData(){let e=await this.getRawReport();this.parsedReport=Kr.getListOfLineObjects(e,Kr.NEW_LINE_DELIMITER,Kr.INLINE_DELIMITER_SEMICOLON,!0)}async getRawReport(){if(console.log("TL1Parser: getRawReport"),console.log("TL1Parser: path_to_tl1_export: "+this.path_to_tl1_export),this.path_to_tl1_export)try{const e=i.resolve(this.path_to_tl1_export);console.log("TL1Parser: absolutePath: "+e);const t={encoding:this.encoding},a=l.readFileSync(i.resolve(this.path_to_tl1_export),t);console.log("TL1 Report; length= "+a.length);return a.toString()}catch(e){console.log("TL1 Report read error: "),console.log(e.toString())}}async getMarkingsJSONList(){let e=[];for(let t=0;t<this.parsedReport.length;t++){let a=this.parsedReport[t],n=ho.getMarkingJSONFromRawMarking(a);n&&e.push(n)}return e}static getMarkingJSONFromRawMarking(e){let t=e.ID,a=e.BESCHREIBUNG;e.HINWEISE;let n=e.KUERZEL,s=ho.getMarkingExternalIdentifier(t,n);if(!s)return console.log("MarkingTL1Parser: getMarkingJSONFromRawMarking: externalIdentifier is null. Skip this marking."),console.log("MarkingTL1Parser: getMarkingJSONFromRawMarking: rawMarking: "+JSON.stringify(e,null,2)),null;let i={};if(a){let e=ho.getMarkingNameDe(a);e&&(i[Pr.LANGUAGE_CODE_DE]={[po]:e});let t=ho.getMarkingNameEn(a);t&&(i[Pr.LANGUAGE_CODE_EN]={[po]:t})}return{external_identifier:s,alias:a,translations:i}}static getMarkingNameDe(e){if(!e||""===e.trim())return;let t=e.indexOf("/");return t>-1?e.substring(0,t).trim():e.trim()}static getMarkingNameEn(e){if(!e||""===e.trim())return;let t=e.indexOf("/");return t>-1?e.substring(t+1).trim():void 0}static getMarkingExternalIdentifier(e,t){let a=null;return t?a=t:e&&(a=e.trim(),a=a.replace(/^0+/,"")),a}}class mo{}mo.INIT_APP_STARTED="app.after";const fo="food_parse";var go=async({action:e,init:t,filter:a},{services:n,database:s,env:i,getSchema:r,logger:o})=>{if(!await er.checkAllTablesExist(fo,r))return;let c=function(e){switch(e.FOOD_SYNC_MODE){case"TL1CSV":const t=e.FOOD_SYNC_TL1FILE_EXPORT_CSV_FILE_PATH,a=e.FOOD_SYNC_TL1FILE_EXPORT_CSV_FILE_ENCODING||"latin1";console.log(fo+": Using TL1 CSV file from host file path: "+t);const n=new lo("/directus/tl1/foodPlan.csv",a);return new Jr(n);case"TL1WEB":const s=e.FOOD_SYNC_TL1WEB_EXPORT_URL;if(!s)return console.log(fo+": no URL configured for TL1WEB"),null;console.log(fo+": Using TL1 CSV file from URL: "+s);const i=new uo(s);return new Jr(i)}return null}(i);c||console.log(fo+": no food parser configured");let l=function(e){if("TL1CSV"===e.MARKING_SYNC_MODE){const t=e.MARKING_SYNC_TL1FILE_EXPORT_CSV_FILE_PATH,a=e.MARKING_SYNC_TL1FILE_EXPORT_CSV_FILE_ENCODING||"utf8";return console.log(fo+": Using TL1 CSV file from host file path: "+t),new ho("/directus/tl1/markings.csv",a)}return null}(i);l||console.log(fo+": no marking parser configured");const u=new co(c,l);let p=Xi.APP_SETTINGS;await u.init(r,n,s,o,i);let d=await r(),h=new ar(n,s,d);t(mo.INIT_APP_STARTED,(async()=>{console.log(fo+": App started, resetting food parsing status and parsing hash"),await Zr.setAppSettings(h,{[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_STATUS]:Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_FINISHED,[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_HASH]:null})})),a(p+".items.update",(async(e,{keys:t,collection:a})=>{if(!t||0===t.length)throw new Error("No keys provided for update");if(e[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_STATUS]===Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_START){if((await Zr.readAppSettings(h))[Zr.FIELD_APP_SETTINGS_FOODS_PARSING_STATUS]===Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_RUNNING)throw new Error("Parsing is already running. Please wait until it is finished or set to "+Zr.VALUE_APP_SETTINGS_FOODS_PARSING_STATUS_FINISHED+" manually.")}return e})),e(p+".items.update",(async()=>{try{await u.parse(!1)}catch(e){console.log(e)}}))};const _o=Xi.APARTMENTS,Eo=Xi.APP_SETTINGS;const To={xml:!1,decodeEntities:!0},vo={_useHtmlParser2:!0,xmlMode:!0};function xo(e){return(null==e?void 0:e.xml)?"boolean"==typeof e.xml?vo:{...vo,...e.xml}:null!=e?e:void 0}var bo;function Ao(e){return e.type===bo.Tag||e.type===bo.Script||e.type===bo.Style}!function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(bo||(bo={}));const yo=bo.Root,So=bo.Text,No=bo.Directive,Co=bo.Comment,Io=bo.Script,Oo=bo.Style,wo=bo.Tag,Do=bo.CDATA,ko=bo.Doctype;let Ro=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Zo(this,e)}},Lo=class extends Ro{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}},Mo=class extends Lo{constructor(){super(...arguments),this.type=bo.Text}get nodeType(){return 3}},Po=class extends Lo{constructor(){super(...arguments),this.type=bo.Comment}get nodeType(){return 8}},Fo=class extends Lo{constructor(e,t){super(t),this.name=e,this.type=bo.Directive}get nodeType(){return 1}},Uo=class extends Ro{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}},Bo=class extends Uo{constructor(){super(...arguments),this.type=bo.CDATA}get nodeType(){return 4}},Ho=class extends Uo{constructor(){super(...arguments),this.type=bo.Root}get nodeType(){return 9}},Go=class extends Uo{constructor(e,t,a=[],n=("script"===e?bo.Script:"style"===e?bo.Style:bo.Tag)){super(a),this.name=e,this.attribs=t,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,a;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(a=this["x-attribsPrefix"])||void 0===a?void 0:a[e]}}))}};function jo(e){return Ao(e)}function qo(e){return e.type===bo.CDATA}function Yo(e){return e.type===bo.Text}function zo(e){return e.type===bo.Comment}function Vo(e){return e.type===bo.Root}function Wo(e){return Object.prototype.hasOwnProperty.call(e,"children")}function Zo(e,t=!1){let a;if(Yo(e))a=new Mo(e.data);else if(zo(e))a=new Po(e.data);else if(jo(e)){const n=t?Qo(e.children):[],s=new Go(e.name,{...e.attribs},n);n.forEach((e=>e.parent=s)),null!=e.namespace&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),a=s}else if(qo(e)){const n=t?Qo(e.children):[],s=new Bo(n);n.forEach((e=>e.parent=s)),a=s}else if(Vo(e)){const n=t?Qo(e.children):[],s=new Ho(n);n.forEach((e=>e.parent=s)),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),a=s}else{if(!function(e){return e.type===bo.Directive}(e))throw new Error(`Not implemented yet: ${e.type}`);{const t=new Fo(e.name,e.data);null!=e["x-name"]&&(t["x-name"]=e["x-name"],t["x-publicId"]=e["x-publicId"],t["x-systemId"]=e["x-systemId"]),a=t}}return a.startIndex=e.startIndex,a.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(a.sourceCodeLocation=e.sourceCodeLocation),a}function Qo(e){const t=e.map((e=>Zo(e,!0)));for(let e=1;e<t.length;e++)t[e].prev=t[e-1],t[e-1].next=t[e];return t}const Ko=/["&'<>$\x80-\uFFFF]/g,$o=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Xo=null!=String.prototype.codePointAt?(e,t)=>e.codePointAt(t):(e,t)=>55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function Jo(e){let t,a="",n=0;for(;null!==(t=Ko.exec(e));){const s=t.index,i=e.charCodeAt(s),r=$o.get(i);void 0!==r?(a+=e.substring(n,s)+r,n=s+1):(a+=`${e.substring(n,s)}&#x${Xo(e,s).toString(16)};`,n=Ko.lastIndex+=Number(55296==(64512&i)))}return a+e.substr(n)}function ec(e,t){return function(a){let n,s=0,i="";for(;n=e.exec(a);)s!==n.index&&(i+=a.substring(s,n.index)),i+=t.get(n[0].charCodeAt(0)),s=n.index+1;return i+a.substring(s)}}const tc=ec(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),ac=ec(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),nc=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),sc=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),ic=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function rc(e){return e.replace(/"/g,"&quot;")}const oc=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function cc(e,t={}){const a="length"in e?e:[e];let n="";for(let e=0;e<a.length;e++)n+=lc(a[e],t);return n}function lc(e,t){switch(e.type){case yo:return cc(e.children,t);case ko:case No:return`<${e.data}>`;case Co:return function(e){return`\x3c!--${e.data}--\x3e`}(e);case Do:return function(e){return`<![CDATA[${e.children[0].data}]]>`}(e);case Io:case Oo:case wo:return function(e,t){var a;"foreign"===t.xmlMode&&(e.name=null!==(a=nc.get(e.name))&&void 0!==a?a:e.name,e.parent&&uc.has(e.parent.name)&&(t={...t,xmlMode:!1}));!t.xmlMode&&pc.has(e.name)&&(t={...t,xmlMode:"foreign"});let n=`<${e.name}`;const s=function(e,t){var a;if(!e)return;const n=!1===(null!==(a=t.encodeEntities)&&void 0!==a?a:t.decodeEntities)?rc:t.xmlMode||"utf8"!==t.encodeEntities?Jo:tc;return Object.keys(e).map((a=>{var s,i;const r=null!==(s=e[a])&&void 0!==s?s:"";return"foreign"===t.xmlMode&&(a=null!==(i=sc.get(a))&&void 0!==i?i:a),t.emptyAttrs||t.xmlMode||""!==r?`${a}="${n(r)}"`:a})).join(" ")}(e.attribs,t);s&&(n+=` ${s}`);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&oc.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=cc(e.children,t)),!t.xmlMode&&oc.has(e.name)||(n+=`</${e.name}>`));return n}(e,t);case So:return function(e,t){var a;let n=e.data||"";!1===(null!==(a=t.encodeEntities)&&void 0!==a?a:t.decodeEntities)||!t.xmlMode&&e.parent&&ic.has(e.parent.name)||(n=t.xmlMode||"utf8"!==t.encodeEntities?Jo(n):ac(n));return n}(e,t)}}const uc=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),pc=new Set(["svg","math"]);function dc(e){return Array.isArray(e)?e.map(dc).join(""):Wo(e)&&!zo(e)?dc(e.children):Yo(e)?e.data:""}function hc(e){return Array.isArray(e)?e.map(hc).join(""):Wo(e)&&(e.type===bo.Tag||qo(e))?hc(e.children):Yo(e)?e.data:""}function mc(e){return Wo(e)?e.children:[]}function fc(e){let{next:t}=e;for(;null!==t&&!jo(t);)({next:t}=t);return t}function gc(e){let{prev:t}=e;for(;null!==t&&!jo(t);)({prev:t}=t);return t}function _c(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,a=t.lastIndexOf(e);a>=0&&t.splice(a,1)}e.next=null,e.prev=null,e.parent=null}var Ec;function Tc(e){return e=e.filter(((e,t,a)=>!a.includes(e,t+1))),e.sort(((e,t)=>{const a=function(e,t){const a=[],n=[];if(e===t)return 0;let s=Wo(e)?e:e.parent;for(;s;)a.unshift(s),s=s.parent;for(s=Wo(t)?t:t.parent;s;)n.unshift(s),s=s.parent;const i=Math.min(a.length,n.length);let r=0;for(;r<i&&a[r]===n[r];)r++;if(0===r)return Ec.DISCONNECTED;const o=a[r-1],c=o.children,l=a[r],u=n[r];return c.indexOf(l)>c.indexOf(u)?o===t?Ec.FOLLOWING|Ec.CONTAINED_BY:Ec.FOLLOWING:o===e?Ec.PRECEDING|Ec.CONTAINS:Ec.PRECEDING}(e,t);return a&Ec.PRECEDING?-1:a&Ec.FOLLOWING?1:0})),e}function vc(e,t,a){return e?e(null!=t?t:e._root.children,null,void 0,a).toString():""}function xc(e){const t=e||(this?this.root():[]);let a="";for(let e=0;e<t.length;e++)a+=dc(t[e]);return a}function bc(e,t){if(t===e)return!1;let a=t;for(;a&&a!==a.parent;)if(a=a.parent,a===e)return!0;return!1}function Ac(e){if(Array.isArray(e))return!0;if("object"!=typeof e||!Object.prototype.hasOwnProperty.call(e,"length")||"number"!=typeof e.length||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}!function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(Ec||(Ec={}));var yc,Sc=Object.freeze({__proto__:null,contains:bc,html:function(e,t){return vc(this,function(e,t){return!t&&"object"==typeof e&&null!=e&&!("length"in e)&&!("type"in e)}(e)?void(t=e):e,{...To,...null==this?void 0:this._options,...xo(null!=t?t:{})})},merge:function(e,t){if(!Ac(e)||!Ac(t))return;let a=e.length;const n=+t.length;for(let s=0;s<n;s++)e[a++]=t[s];return e.length=a,e},parseHTML:function(e,t,a="boolean"==typeof t&&t){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(a=t);const n=this.load(e,To,!1);return a||n("script").remove(),n.root()[0].children.slice()},root:function(){return this(this._root)},text:xc,xml:function(e){return vc(this,e,{...this._options,xmlMode:!0})}});function Nc(e){return null!=e.cheerio}function Cc(e,t){const a=e.length;for(let n=0;n<a;n++)t(e[n],n);return e}function Ic(e){const t="length"in e?Array.prototype.map.call(e,(e=>Zo(e,!0))):[Zo(e,!0)],a=new Ho(t);return t.forEach((e=>{e.parent=a})),t}function Oc(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const a=e.charCodeAt(t+1);return(a>=yc.LowerA&&a<=yc.LowerZ||a>=yc.UpperA&&a<=yc.UpperZ||a===yc.Exclamation)&&e.includes(">",t+2)}!function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"}(yc||(yc={}));const wc=Object.prototype.hasOwnProperty,Dc=/\s+/,kc="data-",Rc={null:null,true:!0,false:!1},Lc=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Mc=/^{[^]*}$|^\[[^]*]$/;function Pc(e,t,a){var n;if(e&&jo(e))return null!==(n=e.attribs)&&void 0!==n||(e.attribs={}),t?wc.call(e.attribs,t)?!a&&Lc.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?xc(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs}function Fc(e,t,a){null===a?jc(e,t):e.attribs[t]=`${a}`}function Uc(e,t,a){return t in e?e[t]:!a&&Lc.test(t)?void 0!==Pc(e,t,!1):Pc(e,t,a)}function Bc(e,t,a,n){t in e?e[t]=a:Fc(e,t,!n&&Lc.test(t)?a?"":null:`${a}`)}function Hc(e,t,a){var n;const s=e;null!==(n=s.data)&&void 0!==n||(s.data={}),"object"==typeof t?Object.assign(s.data,t):"string"==typeof t&&void 0!==a&&(s.data[t]=a)}function Gc(e,t){let a,n,s;var i;null==t?(a=Object.keys(e.attribs).filter((e=>e.startsWith(kc))),n=a.map((e=>e.slice(kc.length).replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))))):(a=[kc+(i=t,i.replace(/[A-Z]/g,"-$&").toLowerCase())],n=[t]);for(let t=0;t<a.length;++t){const i=a[t],r=n[t];if(wc.call(e.attribs,i)&&!wc.call(e.data,r)){if(s=e.attribs[i],wc.call(Rc,s))s=Rc[s];else if(s===String(Number(s)))s=Number(s);else if(Mc.test(s))try{s=JSON.parse(s)}catch(e){}e.data[r]=s}}return null==t?e.data:s}function jc(e,t){e.attribs&&wc.call(e.attribs,t)&&delete e.attribs[t]}function qc(e){return e?e.trim().split(Dc):[]}var Yc,zc,Vc=Object.freeze({__proto__:null,addClass:function e(t){if("function"==typeof t)return Cc(this,((a,n)=>{if(jo(a)){const s=a.attribs.class||"";e.call([a],t.call(a,n,s))}}));if(!t||"string"!=typeof t)return this;const a=t.split(Dc),n=this.length;for(let e=0;e<n;e++){const t=this[e];if(!jo(t))continue;const n=Pc(t,"class",!1);if(n){let e=` ${n} `;for(let t=0;t<a.length;t++){const n=`${a[t]} `;e.includes(` ${n}`)||(e+=n)}Fc(t,"class",e.trim())}else Fc(t,"class",a.join(" ").trim())}return this},attr:function(e,t){if("object"==typeof e||void 0!==t){if("function"==typeof t){if("string"!=typeof e)throw new Error("Bad combination of arguments.");return Cc(this,((a,n)=>{jo(a)&&Fc(a,e,t.call(a,n,a.attribs[e]))}))}return Cc(this,(a=>{jo(a)&&("object"==typeof e?Object.keys(e).forEach((t=>{const n=e[t];Fc(a,t,n)})):Fc(a,e,t))}))}return arguments.length>1?this:Pc(this[0],e,this.options.xmlMode)},data:function(e,t){var a;const n=this[0];if(!n||!jo(n))return;const s=n;return null!==(a=s.data)&&void 0!==a||(s.data={}),e?"object"==typeof e||void 0!==t?(Cc(this,(a=>{jo(a)&&("object"==typeof e?Hc(a,e):Hc(a,e,t))})),this):wc.call(s.data,e)?s.data[e]:Gc(s,e):Gc(s)},hasClass:function(e){return this.toArray().some((t=>{const a=jo(t)&&t.attribs.class;let n=-1;if(a&&e.length)for(;(n=a.indexOf(e,n+1))>-1;){const t=n+e.length;if((0===n||Dc.test(a[n-1]))&&(t===a.length||Dc.test(a[t])))return!0}return!1}))},prop:function(e,t){var a;if("string"==typeof e&&void 0===t){const t=this[0];if(!t||!jo(t))return;switch(e){case"style":{const e=this.css(),t=Object.keys(e);return t.forEach(((t,a)=>{e[a]=t})),e.length=t.length,e}case"tagName":case"nodeName":return t.name.toUpperCase();case"href":case"src":{const n=null===(a=t.attribs)||void 0===a?void 0:a[e];return"undefined"==typeof URL||("href"!==e||"a"!==t.tagName&&"link"!==t.name)&&("src"!==e||"img"!==t.tagName&&"iframe"!==t.tagName&&"audio"!==t.tagName&&"video"!==t.tagName&&"source"!==t.tagName)||void 0===n||!this.options.baseURI?n:new URL(n,this.options.baseURI).href}case"innerText":return hc(t);case"textContent":return dc(t);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Uc(t,e,this.options.xmlMode)}}if("object"==typeof e||void 0!==t){if("function"==typeof t){if("object"==typeof e)throw new Error("Bad combination of arguments.");return Cc(this,((a,n)=>{jo(a)&&Bc(a,e,t.call(a,n,Uc(a,e,this.options.xmlMode)),this.options.xmlMode)}))}return Cc(this,(a=>{jo(a)&&("object"==typeof e?Object.keys(e).forEach((t=>{const n=e[t];Bc(a,t,n,this.options.xmlMode)})):Bc(a,e,t,this.options.xmlMode))}))}},removeAttr:function(e){const t=qc(e);for(let e=0;e<t.length;e++)Cc(this,(a=>{jo(a)&&jc(a,t[e])}));return this},removeClass:function e(t){if("function"==typeof t)return Cc(this,((a,n)=>{jo(a)&&e.call([a],t.call(a,n,a.attribs.class||""))}));const a=qc(t),n=a.length,s=0===arguments.length;return Cc(this,(e=>{if(jo(e))if(s)e.attribs.class="";else{const t=qc(e.attribs.class);let s=!1;for(let e=0;e<n;e++){const n=t.indexOf(a[e]);n>=0&&(t.splice(n,1),s=!0,e--)}s&&(e.attribs.class=t.join(" "))}}))},toggleClass:function e(t,a){if("function"==typeof t)return Cc(this,((n,s)=>{jo(n)&&e.call([n],t.call(n,s,n.attribs.class||"",a),a)}));if(!t||"string"!=typeof t)return this;const n=t.split(Dc),s=n.length,i="boolean"==typeof a?a?1:-1:0,r=this.length;for(let e=0;e<r;e++){const t=this[e];if(!jo(t))continue;const a=qc(t.attribs.class);for(let e=0;e<s;e++){const t=a.indexOf(n[e]);i>=0&&t<0?a.push(n[e]):i<=0&&t>=0&&a.splice(t,1)}t.attribs.class=a.join(" ")}return this},val:function(e){const t=0===arguments.length,a=this[0];if(!a||!jo(a))return t?void 0:this;switch(a.name){case"textarea":return this.text(e);case"select":{const a=this.find("option:selected");if(!t){if(null==this.attr("multiple")&&"object"==typeof e)return this;this.find("option").removeAttr("selected");const t="object"!=typeof e?[e]:e;for(let e=0;e<t.length;e++)this.find(`option[value="${t[e]}"]`).attr("selected","");return this}return this.attr("multiple")?a.toArray().map((e=>xc(e.children))):a.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}});!function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"}(Yc||(Yc={})),function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"}(zc||(zc={}));const Wc=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Zc=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Qc=new Map([[126,zc.Element],[94,zc.Start],[36,zc.End],[42,zc.Any],[33,zc.Not],[124,zc.Hyphen]]),Kc=new Set(["has","not","matches","is","where","host","host-context"]);function $c(e){switch(e.type){case Yc.Adjacent:case Yc.Child:case Yc.Descendant:case Yc.Parent:case Yc.Sibling:case Yc.ColumnCombinator:return!0;default:return!1}}const Xc=new Set(["contains","icontains"]);function Jc(e,t,a){const n=parseInt(t,16)-65536;return n!=n||a?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}function el(e){return e.replace(Zc,Jc)}function tl(e){return 39===e||34===e}function al(e){return 32===e||9===e||10===e||12===e||13===e}function nl(e){const t=[],a=sl(t,`${e}`,0);if(a<e.length)throw new Error(`Unmatched selector: ${e.slice(a)}`);return t}function sl(e,t,a){let n=[];function s(e){const n=t.slice(a+e).match(Wc);if(!n)throw new Error(`Expected name, found ${t.slice(a)}`);const[s]=n;return a+=e+s.length,el(s)}function i(e){for(a+=e;a<t.length&&al(t.charCodeAt(a));)a++}function r(){const e=a+=1;let n=1;for(;n>0&&a<t.length;a++)40!==t.charCodeAt(a)||o(a)?41!==t.charCodeAt(a)||o(a)||n--:n++;if(n)throw new Error("Parenthesis not matched");return el(t.slice(e,a-1))}function o(e){let a=0;for(;92===t.charCodeAt(--e);)a++;return!(1&~a)}function c(){if(n.length>0&&$c(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function l(e){n.length>0&&n[n.length-1].type===Yc.Descendant?n[n.length-1].type=e:(c(),n.push({type:e}))}function u(e,t){n.push({type:Yc.Attribute,name:e,action:t,value:s(1),namespace:null,ignoreCase:"quirks"})}function p(){if(n.length&&n[n.length-1].type===Yc.Descendant&&n.pop(),0===n.length)throw new Error("Empty sub-selector");e.push(n)}if(i(0),t.length===a)return a;e:for(;a<t.length;){const e=t.charCodeAt(a);switch(e){case 32:case 9:case 10:case 12:case 13:0!==n.length&&n[0].type===Yc.Descendant||(c(),n.push({type:Yc.Descendant})),i(1);break;case 62:l(Yc.Child),i(1);break;case 60:l(Yc.Parent),i(1);break;case 126:l(Yc.Sibling),i(1);break;case 43:l(Yc.Adjacent),i(1);break;case 46:u("class",zc.Element);break;case 35:u("id",zc.Equals);break;case 91:{let e;i(1);let r=null;124===t.charCodeAt(a)?e=s(1):t.startsWith("*|",a)?(r="*",e=s(2)):(e=s(0),124===t.charCodeAt(a)&&61!==t.charCodeAt(a+1)&&(r=e,e=s(1))),i(0);let c=zc.Exists;const l=Qc.get(t.charCodeAt(a));if(l){if(c=l,61!==t.charCodeAt(a+1))throw new Error("Expected `=`");i(2)}else 61===t.charCodeAt(a)&&(c=zc.Equals,i(1));let u="",p=null;if("exists"!==c){if(tl(t.charCodeAt(a))){const e=t.charCodeAt(a);let n=a+1;for(;n<t.length&&(t.charCodeAt(n)!==e||o(n));)n+=1;if(t.charCodeAt(n)!==e)throw new Error("Attribute value didn't end");u=el(t.slice(a+1,n)),a=n+1}else{const e=a;for(;a<t.length&&(!al(t.charCodeAt(a))&&93!==t.charCodeAt(a)||o(a));)a+=1;u=el(t.slice(e,a))}i(0);const e=32|t.charCodeAt(a);115===e?(p=!1,i(1)):105===e&&(p=!0,i(1))}if(93!==t.charCodeAt(a))throw new Error("Attribute selector didn't terminate");a+=1;const d={type:Yc.Attribute,name:e,action:c,value:u,namespace:r,ignoreCase:p};n.push(d);break}case 58:{if(58===t.charCodeAt(a+1)){n.push({type:Yc.PseudoElement,name:s(2).toLowerCase(),data:40===t.charCodeAt(a)?r():null});continue}const e=s(1).toLowerCase();let i=null;if(40===t.charCodeAt(a))if(Kc.has(e)){if(tl(t.charCodeAt(a+1)))throw new Error(`Pseudo-selector ${e} cannot be quoted`);if(i=[],a=sl(i,t,a+1),41!==t.charCodeAt(a))throw new Error(`Missing closing parenthesis in :${e} (${t})`);a+=1}else{if(i=r(),Xc.has(e)){const e=i.charCodeAt(0);e===i.charCodeAt(i.length-1)&&tl(e)&&(i=i.slice(1,-1))}i=el(i)}n.push({type:Yc.Pseudo,name:e,data:i});break}case 44:p(),n=[],i(1);break;default:{if(t.startsWith("/*",a)){const e=t.indexOf("*/",a+2);if(e<0)throw new Error("Comment was not terminated");a=e+2,0===n.length&&i(0);break}let r,o=null;if(42===e)a+=1,r="*";else if(124===e){if(r="",124===t.charCodeAt(a+1)){l(Yc.ColumnCombinator),i(2);break}}else{if(!Wc.test(t.slice(a)))break e;r=s(0)}124===t.charCodeAt(a)&&124!==t.charCodeAt(a+1)&&(o=r,42===t.charCodeAt(a+1)?(r="*",a+=2):r=s(1)),n.push("*"===r?{type:Yc.Universal,namespace:o}:{type:Yc.Tag,name:r,namespace:o})}}}return p(),a}function il(e){return Ao(e)}function rl(e){return e.type===bo.CDATA}function ol(e){return e.type===bo.Text}function cl(e){return e.type===bo.Comment}function ll(e){return Object.prototype.hasOwnProperty.call(e,"children")}const ul=/["&'<>$\x80-\uFFFF]/g,pl=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),dl=null!=String.prototype.codePointAt?(e,t)=>e.codePointAt(t):(e,t)=>55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function hl(e){let t,a="",n=0;for(;null!==(t=ul.exec(e));){const s=t.index,i=e.charCodeAt(s),r=pl.get(i);void 0!==r?(a+=e.substring(n,s)+r,n=s+1):(a+=`${e.substring(n,s)}&#x${dl(e,s).toString(16)};`,n=ul.lastIndex+=Number(55296==(64512&i)))}return a+e.substr(n)}function ml(e,t){return function(a){let n,s=0,i="";for(;n=e.exec(a);)s!==n.index&&(i+=a.substring(s,n.index)),i+=t.get(n[0].charCodeAt(0)),s=n.index+1;return i+a.substring(s)}}const fl=ml(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),gl=ml(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),_l=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),El=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),Tl=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function vl(e){return e.replace(/"/g,"&quot;")}const xl=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function bl(e,t={}){const a="length"in e?e:[e];let n="";for(let e=0;e<a.length;e++)n+=Al(a[e],t);return n}function Al(e,t){switch(e.type){case yo:return bl(e.children,t);case ko:case No:return`<${e.data}>`;case Co:return function(e){return`\x3c!--${e.data}--\x3e`}(e);case Do:return function(e){return`<![CDATA[${e.children[0].data}]]>`}(e);case Io:case Oo:case wo:return function(e,t){var a;"foreign"===t.xmlMode&&(e.name=null!==(a=_l.get(e.name))&&void 0!==a?a:e.name,e.parent&&yl.has(e.parent.name)&&(t={...t,xmlMode:!1}));!t.xmlMode&&Sl.has(e.name)&&(t={...t,xmlMode:"foreign"});let n=`<${e.name}`;const s=function(e,t){var a;if(!e)return;const n=!1===(null!==(a=t.encodeEntities)&&void 0!==a?a:t.decodeEntities)?vl:t.xmlMode||"utf8"!==t.encodeEntities?hl:fl;return Object.keys(e).map((a=>{var s,i;const r=null!==(s=e[a])&&void 0!==s?s:"";return"foreign"===t.xmlMode&&(a=null!==(i=El.get(a))&&void 0!==i?i:a),t.emptyAttrs||t.xmlMode||""!==r?`${a}="${n(r)}"`:a})).join(" ")}(e.attribs,t);s&&(n+=` ${s}`);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&xl.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=bl(e.children,t)),!t.xmlMode&&xl.has(e.name)||(n+=`</${e.name}>`));return n}(e,t);case So:return function(e,t){var a;let n=e.data||"";!1===(null!==(a=t.encodeEntities)&&void 0!==a?a:t.decodeEntities)||!t.xmlMode&&e.parent&&Tl.has(e.parent.name)||(n=t.xmlMode||"utf8"!==t.encodeEntities?hl(n):gl(n));return n}(e,t)}}const yl=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Sl=new Set(["svg","math"]);function Nl(e,t){return bl(e,t)}function Cl(e){return Array.isArray(e)?e.map(Cl).join(""):ll(e)&&!cl(e)?Cl(e.children):ol(e)?e.data:""}function Il(e){return ll(e)?e.children:[]}function Ol(e){return e.parent||null}function wl(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,a=t.lastIndexOf(e);a>=0&&t.splice(a,1)}e.next=null,e.prev=null,e.parent=null}function Dl(e,t,a=!0,n=1/0){return kl(e,Array.isArray(t)?t:[t],a,n)}function kl(e,t,a,n){const s=[],i=[t],r=[0];for(;;){if(r[0]>=i[0].length){if(1===r.length)return s;i.shift(),r.shift();continue}const t=i[0][r[0]++];if(e(t)&&(s.push(t),--n<=0))return s;a&&ll(t)&&t.children.length>0&&(r.unshift(0),i.unshift(t.children))}}function Rl(e,t,a=!0){let n=null;for(let s=0;s<t.length&&!n;s++){const i=t[s];il(i)&&(e(i)?n=i:a&&i.children.length>0&&(n=Rl(e,i.children,!0)))}return n}const Ll={tag_name:e=>"function"==typeof e?t=>il(t)&&e(t.name):"*"===e?il:t=>il(t)&&t.name===e,tag_type:e=>"function"==typeof e?t=>e(t.type):t=>t.type===e,tag_contains:e=>"function"==typeof e?t=>ol(t)&&e(t.data):t=>ol(t)&&t.data===e};function Ml(e,t){return"function"==typeof t?a=>il(a)&&t(a.attribs[e]):a=>il(a)&&a.attribs[e]===t}function Pl(e,t){return a=>e(a)||t(a)}function Fl(e){const t=Object.keys(e).map((t=>{const a=e[t];return Object.prototype.hasOwnProperty.call(Ll,t)?Ll[t](a):Ml(t,a)}));return 0===t.length?null:t.reduce(Pl)}function Ul(e,t,a=!0,n=1/0){return Dl(Ll.tag_name(e),t,a,n)}var Bl;function Hl(e,t){const a=[],n=[];if(e===t)return 0;let s=ll(e)?e:e.parent;for(;s;)a.unshift(s),s=s.parent;for(s=ll(t)?t:t.parent;s;)n.unshift(s),s=s.parent;const i=Math.min(a.length,n.length);let r=0;for(;r<i&&a[r]===n[r];)r++;if(0===r)return Bl.DISCONNECTED;const o=a[r-1],c=o.children,l=a[r],u=n[r];return c.indexOf(l)>c.indexOf(u)?o===t?Bl.FOLLOWING|Bl.CONTAINED_BY:Bl.FOLLOWING:o===e?Bl.PRECEDING|Bl.CONTAINS:Bl.PRECEDING}function Gl(e){return e=e.filter(((e,t,a)=>!a.includes(e,t+1))),e.sort(((e,t)=>{const a=Hl(e,t);return a&Bl.PRECEDING?-1:a&Bl.FOLLOWING?1:0})),e}!function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(Bl||(Bl={}));const jl=["url","type","lang"],ql=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Yl(e){return Ul("media:content",e).map((e=>{const{attribs:t}=e,a={medium:t.medium,isDefault:!!t.isDefault};for(const e of jl)t[e]&&(a[e]=t[e]);for(const e of ql)t[e]&&(a[e]=parseInt(t[e],10));return t.expression&&(a.expression=t.expression),a}))}function zl(e,t){return Ul(e,t,!0,1)[0]}function Vl(e,t,a=!1){return Cl(Ul(e,t,a,1)).trim()}function Wl(e,t,a,n,s=!1){const i=Vl(a,n,s);i&&(e[t]=i)}function Zl(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}var Ql=Object.freeze({__proto__:null,get DocumentPosition(){return Bl},append:function(e,t){wl(t);const{parent:a}=e,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=a,n){if(n.prev=t,a){const e=a.children;e.splice(e.lastIndexOf(n),0,t)}}else a&&a.children.push(t)},appendChild:function(e,t){if(wl(t),t.next=null,t.parent=e,e.children.push(t)>1){const a=e.children[e.children.length-2];a.next=t,t.prev=a}else t.prev=null},compareDocumentPosition:Hl,existsOne:function e(t,a){return a.some((a=>il(a)&&(t(a)||e(t,a.children))))},filter:Dl,find:kl,findAll:function(e,t){const a=[],n=[t],s=[0];for(;;){if(s[0]>=n[0].length){if(1===n.length)return a;n.shift(),s.shift();continue}const t=n[0][s[0]++];il(t)&&(e(t)&&a.push(t),t.children.length>0&&(s.unshift(0),n.unshift(t.children)))}},findOne:Rl,findOneChild:function(e,t){return t.find(e)},getAttributeValue:function(e,t){var a;return null===(a=e.attribs)||void 0===a?void 0:a[t]},getChildren:Il,getElementById:function(e,t,a=!0){return Array.isArray(t)||(t=[t]),Rl(Ml("id",e),t,a)},getElements:function(e,t,a,n=1/0){const s=Fl(e);return s?Dl(s,t,a,n):[]},getElementsByTagName:Ul,getElementsByTagType:function(e,t,a=!0,n=1/0){return Dl(Ll.tag_type(e),t,a,n)},getFeed:function(e){const t=zl(Zl,e);return t?"feed"===t.name?function(e){var t;const a=e.children,n={type:"atom",items:Ul("entry",a).map((e=>{var t;const{children:a}=e,n={media:Yl(a)};Wl(n,"id","id",a),Wl(n,"title","title",a);const s=null===(t=zl("link",a))||void 0===t?void 0:t.attribs.href;s&&(n.link=s);const i=Vl("summary",a)||Vl("content",a);i&&(n.description=i);const r=Vl("updated",a);return r&&(n.pubDate=new Date(r)),n}))};Wl(n,"id","id",a),Wl(n,"title","title",a);const s=null===(t=zl("link",a))||void 0===t?void 0:t.attribs.href;s&&(n.link=s);Wl(n,"description","subtitle",a);const i=Vl("updated",a);i&&(n.updated=new Date(i));return Wl(n,"author","email",a,!0),n}(t):function(e){var t,a;const n=null!==(a=null===(t=zl("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==a?a:[],s={type:e.name.substr(0,3),id:"",items:Ul("item",e.children).map((e=>{const{children:t}=e,a={media:Yl(t)};Wl(a,"id","guid",t),Wl(a,"title","title",t),Wl(a,"link","link",t),Wl(a,"description","description",t);const n=Vl("pubDate",t)||Vl("dc:date",t);return n&&(a.pubDate=new Date(n)),a}))};Wl(s,"title","title",n),Wl(s,"link","link",n),Wl(s,"description","description",n);const i=Vl("lastBuildDate",n);i&&(s.updated=new Date(i));return Wl(s,"author","managingEditor",n,!0),s}(t):null},getInnerHTML:function(e,t){return ll(e)?e.children.map((e=>Nl(e,t))).join(""):""},getName:function(e){return e.name},getOuterHTML:Nl,getParent:Ol,getSiblings:function(e){const t=Ol(e);if(null!=t)return Il(t);const a=[e];let{prev:n,next:s}=e;for(;null!=n;)a.unshift(n),({prev:n}=n);for(;null!=s;)a.push(s),({next:s}=s);return a},getText:function e(t){return Array.isArray(t)?t.map(e).join(""):il(t)?"br"===t.name?"\n":e(t.children):rl(t)?e(t.children):ol(t)?t.data:""},hasAttrib:function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},hasChildren:ll,innerText:function e(t){return Array.isArray(t)?t.map(e).join(""):ll(t)&&(t.type===bo.Tag||rl(t))?e(t.children):ol(t)?t.data:""},isCDATA:rl,isComment:cl,isDocument:function(e){return e.type===bo.Root},isTag:il,isText:ol,nextElementSibling:function(e){let{next:t}=e;for(;null!==t&&!il(t);)({next:t}=t);return t},prepend:function(e,t){wl(t);const{parent:a}=e;if(a){const n=a.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=a,t.prev=e.prev,t.next=e,e.prev=t},prependChild:function(e,t){if(wl(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){const a=e.children[1];a.prev=t,t.next=a}else t.next=null},prevElementSibling:function(e){let{prev:t}=e;for(;null!==t&&!il(t);)({prev:t}=t);return t},removeElement:wl,removeSubsets:function(e){let t=e.length;for(;--t>=0;){const a=e[t];if(t>0&&e.lastIndexOf(a,t-1)>=0)e.splice(t,1);else for(let n=a.parent;n;n=n.parent)if(e.includes(n)){e.splice(t,1);break}}return e},replaceElement:function(e,t){const a=t.prev=e.prev;a&&(a.next=t);const n=t.next=e.next;n&&(n.prev=t);const s=t.parent=e.parent;if(s){const a=s.children;a[a.lastIndexOf(e)]=t,e.parent=null}},testElement:function(e,t){const a=Fl(e);return!a||a(t)},textContent:Cl,uniqueSort:Gl}),Kl={trueFunc:function(){return!0},falseFunc:function(){return!1}},$l=x(Kl);const Xl=new Map([[Yc.Universal,50],[Yc.Tag,30],[Yc.Attribute,1],[Yc.Pseudo,0]]);function Jl(e){return!Xl.has(e.type)}const eu=new Map([[zc.Exists,10],[zc.Equals,8],[zc.Not,7],[zc.Start,6],[zc.End,6],[zc.Any,5]]);function tu(e){const t=e.map(au);for(let a=1;a<e.length;a++){const n=t[a];if(!(n<0))for(let s=a-1;s>=0&&n<t[s];s--){const a=e[s+1];e[s+1]=e[s],e[s]=a,t[s+1]=t[s],t[s]=n}}}function au(e){var t,a;let n=null!==(t=Xl.get(e.type))&&void 0!==t?t:-1;return e.type===Yc.Attribute?(n=null!==(a=eu.get(e.action))&&void 0!==a?a:4,e.action===zc.Equals&&"id"===e.name&&(n=9),e.ignoreCase&&(n>>=1)):e.type===Yc.Pseudo&&(e.data?"has"===e.name||"contains"===e.name?n=0:Array.isArray(e.data)?(n=Math.min(...e.data.map((e=>Math.min(...e.map(au))))),n<0&&(n=0)):n=2:n=3),n}const nu=/[-[\]{}()*+?.,\\^$|#\s]/g;function su(e){return e.replace(nu,"\\$&")}const iu=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function ru(e,t){return"boolean"==typeof e.ignoreCase?e.ignoreCase:"quirks"===e.ignoreCase?!!t.quirksMode:!t.xmlMode&&iu.has(e.name)}const ou={equals(e,t,a){const{adapter:n}=a,{name:s}=t;let{value:i}=t;return ru(t,a)?(i=i.toLowerCase(),t=>{const a=n.getAttributeValue(t,s);return null!=a&&a.length===i.length&&a.toLowerCase()===i&&e(t)}):t=>n.getAttributeValue(t,s)===i&&e(t)},hyphen(e,t,a){const{adapter:n}=a,{name:s}=t;let{value:i}=t;const r=i.length;return ru(t,a)?(i=i.toLowerCase(),function(t){const a=n.getAttributeValue(t,s);return null!=a&&(a.length===r||"-"===a.charAt(r))&&a.substr(0,r).toLowerCase()===i&&e(t)}):function(t){const a=n.getAttributeValue(t,s);return null!=a&&(a.length===r||"-"===a.charAt(r))&&a.substr(0,r)===i&&e(t)}},element(e,t,a){const{adapter:n}=a,{name:s,value:i}=t;if(/\s/.test(i))return $l.falseFunc;const r=new RegExp(`(?:^|\\s)${su(i)}(?:$|\\s)`,ru(t,a)?"i":"");return function(t){const a=n.getAttributeValue(t,s);return null!=a&&a.length>=i.length&&r.test(a)&&e(t)}},exists:(e,{name:t},{adapter:a})=>n=>a.hasAttrib(n,t)&&e(n),start(e,t,a){const{adapter:n}=a,{name:s}=t;let{value:i}=t;const r=i.length;return 0===r?$l.falseFunc:ru(t,a)?(i=i.toLowerCase(),t=>{const a=n.getAttributeValue(t,s);return null!=a&&a.length>=r&&a.substr(0,r).toLowerCase()===i&&e(t)}):t=>{var a;return!!(null===(a=n.getAttributeValue(t,s))||void 0===a?void 0:a.startsWith(i))&&e(t)}},end(e,t,a){const{adapter:n}=a,{name:s}=t;let{value:i}=t;const r=-i.length;return 0===r?$l.falseFunc:ru(t,a)?(i=i.toLowerCase(),t=>{var a;return(null===(a=n.getAttributeValue(t,s))||void 0===a?void 0:a.substr(r).toLowerCase())===i&&e(t)}):t=>{var a;return!!(null===(a=n.getAttributeValue(t,s))||void 0===a?void 0:a.endsWith(i))&&e(t)}},any(e,t,a){const{adapter:n}=a,{name:s,value:i}=t;if(""===i)return $l.falseFunc;if(ru(t,a)){const t=new RegExp(su(i),"i");return function(a){const r=n.getAttributeValue(a,s);return null!=r&&r.length>=i.length&&t.test(r)&&e(a)}}return t=>{var a;return!!(null===(a=n.getAttributeValue(t,s))||void 0===a?void 0:a.includes(i))&&e(t)}},not(e,t,a){const{adapter:n}=a,{name:s}=t;let{value:i}=t;return""===i?t=>!!n.getAttributeValue(t,s)&&e(t):ru(t,a)?(i=i.toLowerCase(),t=>{const a=n.getAttributeValue(t,s);return(null==a||a.length!==i.length||a.toLowerCase()!==i)&&e(t)}):t=>n.getAttributeValue(t,s)!==i&&e(t)}},cu=new Set([9,10,12,13,32]),lu="0".charCodeAt(0),uu="9".charCodeAt(0);function pu(e){return function(e){const t=e[0],a=e[1]-1;if(a<0&&t<=0)return $l.falseFunc;if(-1===t)return e=>e<=a;if(0===t)return e=>e===a;if(1===t)return a<0?$l.trueFunc:e=>e>=a;const n=Math.abs(t),s=(a%n+n)%n;return t>1?e=>e>=a&&e%n===s:e=>e<=a&&e%n===s}(function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];let t=0,a=0,n=i(),s=r();if(t<e.length&&"n"===e.charAt(t)&&(t++,a=n*(null!=s?s:1),o(),t<e.length?(n=i(),o(),s=r()):n=s=0),null===s||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[a,n*s];function i(){return"-"===e.charAt(t)?(t++,-1):("+"===e.charAt(t)&&t++,1)}function r(){const a=t;let n=0;for(;t<e.length&&e.charCodeAt(t)>=lu&&e.charCodeAt(t)<=uu;)n=10*n+(e.charCodeAt(t)-lu),t++;return t===a?null:n}function o(){for(;t<e.length&&cu.has(e.charCodeAt(t));)t++}}(e))}function du(e,t){return a=>{const n=t.getParent(a);return null!=n&&t.isTag(n)&&e(a)}}const hu={contains:(e,t,{adapter:a})=>function(n){return e(n)&&a.getText(n).includes(t)},icontains(e,t,{adapter:a}){const n=t.toLowerCase();return function(t){return e(t)&&a.getText(t).toLowerCase().includes(n)}},"nth-child"(e,t,{adapter:a,equals:n}){const s=pu(t);return s===$l.falseFunc?$l.falseFunc:s===$l.trueFunc?du(e,a):function(t){const i=a.getSiblings(t);let r=0;for(let e=0;e<i.length&&!n(t,i[e]);e++)a.isTag(i[e])&&r++;return s(r)&&e(t)}},"nth-last-child"(e,t,{adapter:a,equals:n}){const s=pu(t);return s===$l.falseFunc?$l.falseFunc:s===$l.trueFunc?du(e,a):function(t){const i=a.getSiblings(t);let r=0;for(let e=i.length-1;e>=0&&!n(t,i[e]);e--)a.isTag(i[e])&&r++;return s(r)&&e(t)}},"nth-of-type"(e,t,{adapter:a,equals:n}){const s=pu(t);return s===$l.falseFunc?$l.falseFunc:s===$l.trueFunc?du(e,a):function(t){const i=a.getSiblings(t);let r=0;for(let e=0;e<i.length;e++){const s=i[e];if(n(t,s))break;a.isTag(s)&&a.getName(s)===a.getName(t)&&r++}return s(r)&&e(t)}},"nth-last-of-type"(e,t,{adapter:a,equals:n}){const s=pu(t);return s===$l.falseFunc?$l.falseFunc:s===$l.trueFunc?du(e,a):function(t){const i=a.getSiblings(t);let r=0;for(let e=i.length-1;e>=0;e--){const s=i[e];if(n(t,s))break;a.isTag(s)&&a.getName(s)===a.getName(t)&&r++}return s(r)&&e(t)}},root:(e,t,{adapter:a})=>t=>{const n=a.getParent(t);return(null==n||!a.isTag(n))&&e(t)},scope(e,t,a,n){const{equals:s}=a;return n&&0!==n.length?1===n.length?t=>s(n[0],t)&&e(t):t=>n.includes(t)&&e(t):hu.root(e,t,a)},hover:mu("isHovered"),visited:mu("isVisited"),active:mu("isActive")};function mu(e){return function(t,a,{adapter:n}){const s=n[e];return"function"!=typeof s?$l.falseFunc:function(e){return s(e)&&t(e)}}}const fu={empty:(e,{adapter:t})=>!t.getChildren(e).some((e=>t.isTag(e)||""!==t.getText(e))),"first-child"(e,{adapter:t,equals:a}){if(t.prevElementSibling)return null==t.prevElementSibling(e);const n=t.getSiblings(e).find((e=>t.isTag(e)));return null!=n&&a(e,n)},"last-child"(e,{adapter:t,equals:a}){const n=t.getSiblings(e);for(let s=n.length-1;s>=0;s--){if(a(e,n[s]))return!0;if(t.isTag(n[s]))break}return!1},"first-of-type"(e,{adapter:t,equals:a}){const n=t.getSiblings(e),s=t.getName(e);for(let i=0;i<n.length;i++){const r=n[i];if(a(e,r))return!0;if(t.isTag(r)&&t.getName(r)===s)break}return!1},"last-of-type"(e,{adapter:t,equals:a}){const n=t.getSiblings(e),s=t.getName(e);for(let i=n.length-1;i>=0;i--){const r=n[i];if(a(e,r))return!0;if(t.isTag(r)&&t.getName(r)===s)break}return!1},"only-of-type"(e,{adapter:t,equals:a}){const n=t.getName(e);return t.getSiblings(e).every((s=>a(e,s)||!t.isTag(s)||t.getName(s)!==n))},"only-child":(e,{adapter:t,equals:a})=>t.getSiblings(e).every((n=>a(e,n)||!t.isTag(n)))};function gu(e,t,a,n){if(null===a){if(e.length>n)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===n)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const _u={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},Eu={};function Tu(e,t){const a=t.getSiblings(e);if(a.length<=1)return[];const n=a.indexOf(e);return n<0||n===a.length-1?[]:a.slice(n+1).filter(t.isTag)}function vu(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const xu=(e,t,a,n,s)=>{const i=s(t,vu(a),n);return i===$l.trueFunc?e:i===$l.falseFunc?$l.falseFunc:t=>i(t)&&e(t)},bu={is:xu,matches:xu,where:xu,not(e,t,a,n,s){const i=s(t,vu(a),n);return i===$l.falseFunc?e:i===$l.trueFunc?$l.falseFunc:t=>!i(t)&&e(t)},has(e,t,a,n,s){const{adapter:i}=a,r=vu(a);r.relativeSelector=!0;const o=t.some((e=>e.some(Jl)))?[Eu]:void 0,c=s(t,r,o);if(c===$l.falseFunc)return $l.falseFunc;const l=function(e,t){return e===$l.falseFunc?$l.falseFunc:a=>t.isTag(a)&&e(a)}(c,i);if(o&&c!==$l.trueFunc){const{shouldTestNextSiblings:t=!1}=c;return a=>{if(!e(a))return!1;o[0]=a;const n=i.getChildren(a),s=t?[...n,...Tu(a,i)]:n;return i.existsOne(l,s)}}return t=>e(t)&&i.existsOne(l,i.getChildren(t))}};function Au(e,t){const a=t.getParent(e);return a&&t.isTag(a)?a:null}function yu(e,t,a,n,s){const{adapter:i,equals:r}=a;switch(t.type){case Yc.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Yc.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Yc.Attribute:if(null!=t.namespace)throw new Error("Namespaced attributes are not yet supported by css-select");return a.xmlMode&&!a.lowerCaseAttributeNames||(t.name=t.name.toLowerCase()),ou[t.action](e,t,a);case Yc.Pseudo:return function(e,t,a,n,s){var i;const{name:r,data:o}=t;if(Array.isArray(o)){if(!(r in bu))throw new Error(`Unknown pseudo-class :${r}(${o})`);return bu[r](e,o,a,n,s)}const c=null===(i=a.pseudos)||void 0===i?void 0:i[r],l="string"==typeof c?c:_u[r];if("string"==typeof l){if(null!=o)throw new Error(`Pseudo ${r} doesn't have any arguments`);const t=nl(l);return bu.is(e,t,a,n,s)}if("function"==typeof c)return gu(c,r,o,1),t=>c(t,o)&&e(t);if(r in hu)return hu[r](e,o,a,n);if(r in fu){const t=fu[r];return gu(t,r,o,2),n=>t(n,a,o)&&e(n)}throw new Error(`Unknown pseudo-class :${r}`)}(e,t,a,n,s);case Yc.Tag:{if(null!=t.namespace)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:n}=t;return a.xmlMode&&!a.lowerCaseTags||(n=n.toLowerCase()),function(t){return i.getName(t)===n&&e(t)}}case Yc.Descendant:{if(!1===a.cacheResults||"undefined"==typeof WeakSet)return function(t){let a=t;for(;a=Au(a,i);)if(e(a))return!0;return!1};const t=new WeakSet;return function(a){let n=a;for(;n=Au(n,i);)if(!t.has(n)){if(i.isTag(n)&&e(n))return!0;t.add(n)}return!1}}case"_flexibleDescendant":return function(t){let a=t;do{if(e(a))return!0}while(a=Au(a,i));return!1};case Yc.Parent:return function(t){return i.getChildren(t).some((t=>i.isTag(t)&&e(t)))};case Yc.Child:return function(t){const a=i.getParent(t);return null!=a&&i.isTag(a)&&e(a)};case Yc.Sibling:return function(t){const a=i.getSiblings(t);for(let n=0;n<a.length;n++){const s=a[n];if(r(t,s))break;if(i.isTag(s)&&e(s))return!0}return!1};case Yc.Adjacent:return i.prevElementSibling?function(t){const a=i.prevElementSibling(t);return null!=a&&e(a)}:function(t){const a=i.getSiblings(t);let n;for(let e=0;e<a.length;e++){const s=a[e];if(r(t,s))break;i.isTag(s)&&(n=s)}return!!n&&e(n)};case Yc.Universal:if(null!=t.namespace&&"*"!==t.namespace)throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}function Su(e){return e.type===Yc.Pseudo&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((e=>e.some(Su))))}const Nu={type:Yc.Descendant},Cu={type:"_flexibleDescendant"},Iu={type:Yc.Pseudo,name:"scope",data:null};function Ou(e,t,a){var n;e.forEach(tu),a=null!==(n=t.context)&&void 0!==n?n:a;const s=Array.isArray(a),i=a&&(Array.isArray(a)?a:[a]);if(!1!==t.relativeSelector)!function(e,{adapter:t},a){const n=!!(null==a?void 0:a.every((e=>{const a=t.isTag(e)&&t.getParent(e);return e===Eu||a&&t.isTag(a)})));for(const t of e){if(t.length>0&&Jl(t[0])&&t[0].type!==Yc.Descendant);else{if(!n||t.some(Su))continue;t.unshift(Nu)}t.unshift(Iu)}}(e,t,i);else if(e.some((e=>e.length>0&&Jl(e[0]))))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let r=!1;const o=e.map((e=>{if(e.length>=2){const[t,a]=e;t.type!==Yc.Pseudo||"scope"!==t.name||(s&&a.type===Yc.Descendant?e[1]=Cu:a.type!==Yc.Adjacent&&a.type!==Yc.Sibling||(r=!0))}return function(e,t,a){var n;return e.reduce(((e,n)=>e===$l.falseFunc?$l.falseFunc:yu(e,n,t,a,Ou)),null!==(n=t.rootFunc)&&void 0!==n?n:$l.trueFunc)}(e,t,i)})).reduce(wu,$l.falseFunc);return o.shouldTestNextSiblings=r,o}function wu(e,t){return t===$l.falseFunc||e===$l.trueFunc?e:e===$l.falseFunc||t===$l.trueFunc?t:function(a){return e(a)||t(a)}}const Du=(e,t)=>e===t,ku={adapter:Ql,equals:Du};const Ru=(Lu=Ou,function(e,t,a){const n=function(e){var t,a,n,s;const i=null!=e?e:ku;return null!==(t=i.adapter)&&void 0!==t||(i.adapter=Ql),null!==(a=i.equals)&&void 0!==a||(i.equals=null!==(s=null===(n=i.adapter)||void 0===n?void 0:n.equals)&&void 0!==s?s:Du),i}(t);return Lu(e,n,a)});var Lu;function Mu(e,t,a=!1){return a&&(e=function(e,t){const a=Array.isArray(e)?e.slice(0):[e],n=a.length;for(let e=0;e<n;e++){const n=Tu(a[e],t);a.push(...n)}return a}(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}const Pu=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Fu(e){return"pseudo"===e.type&&(!!Pu.has(e.name)||!("not"!==e.name||!Array.isArray(e.data))&&e.data.some((e=>e.some(Fu))))}function Uu(e){const t=[],a=[];for(const n of e)n.some(Fu)?t.push(n):a.push(n);return[a,t]}const Bu={type:Yc.Universal,namespace:null},Hu={type:Yc.Pseudo,name:"scope",data:null};function Gu(e,t,a={}){return ju([e],t,a)}function ju(e,t,a={}){if("function"==typeof t)return e.some(t);const[n,s]=Uu(nl(t));return n.length>0&&e.some(Ru(n,a))||s.some((t=>zu(t,e,a).length>0))}function qu(e,t,a={}){return Yu(nl(e),t,a)}function Yu(e,t,a){if(0===t.length)return[];const[n,s]=Uu(e);let i;if(n.length){const e=Qu(t,n,a);if(0===s.length)return e;e.length&&(i=new Set(e))}for(let e=0;e<s.length&&(null==i?void 0:i.size)!==t.length;e++){const n=s[e];if(0===(i?t.filter((e=>il(e)&&!i.has(e))):t).length)break;const r=zu(n,t,a);if(r.length)if(i)r.forEach((e=>i.add(e)));else{if(e===s.length-1)return r;i=new Set(r)}}return void 0!==i?i.size===t.length?t:t.filter((e=>i.has(e))):[]}function zu(e,t,a){var n;if(e.some($c)){const s=null!==(n=a.root)&&void 0!==n?n:function(e){for(;e.parent;)e=e.parent;return e}(t[0]),i={...a,context:t,relativeSelector:!1};return e.push(Hu),Vu(s,e,i,!0,t.length)}return Vu(t,e,a,!1,t.length)}function Vu(e,t,a,n,s){const i=t.findIndex(Fu),r=t.slice(0,i),o=t[i],c=t.length-1===i?s:1/0,l=function(e,t,a){const n=null!=t?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(n)?n>=0?n+1:1/0:0;case"lt":return isFinite(n)?n>=0?Math.min(n,a):1/0:0;case"gt":return isFinite(n)?1/0:0;case"odd":return 2*a;case"even":return 2*a-1;case"last":case"not":return 1/0}}(o.name,o.data,c);if(0===l)return[];const u=(0!==r.length||Array.isArray(e)?0===r.length?(Array.isArray(e)?e:[e]).filter(il):n||r.some($c)?Wu(e,[r],a,l):Qu(e,[r],a):Il(e).filter(il)).slice(0,l);let p=function(e,t,a,n){const s="string"==typeof a?parseInt(a,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(s)&&Math.abs(s)<t.length?[s<0?t[t.length+s]:t[s]]:[];case"gt":return isFinite(s)?t.slice(s+1):[];case"even":return t.filter(((e,t)=>t%2==0));case"odd":return t.filter(((e,t)=>t%2==1));case"not":{const e=new Set(Yu(a,t,n));return t.filter((t=>!e.has(t)))}}}(o.name,u,o.data,a);if(0===p.length||t.length===i+1)return p;const d=t.slice(i+1),h=d.some($c);if(h){if($c(d[0])){const{type:e}=d[0];e!==Yc.Sibling&&e!==Yc.Adjacent||(p=Mu(p,Ql,!0)),d.unshift(Bu)}a={...a,relativeSelector:!1,rootFunc:e=>p.includes(e)}}else a.rootFunc&&a.rootFunc!==Kl.trueFunc&&(a={...a,rootFunc:Kl.trueFunc});return d.some(Fu)?Vu(p,d,a,!1,s):h?Wu(p,[d],a,s):Qu(p,[d],a)}function Wu(e,t,a,n){return Zu(e,Ru(t,a,e),n)}function Zu(e,t,a=1/0){return kl((e=>il(e)&&t(e)),Mu(e,Ql,t.shouldTestNextSiblings),!0,a)}function Qu(e,t,a){const n=(Array.isArray(e)?e:[e]).filter(il);if(0===n.length)return n;const s=Ru(t,a);return s===Kl.trueFunc?n:n.filter(s)}const Ku=/^\s*[~+]/;function $u(e){return function(t,...a){return function(n){var s;let i=e(t,this);return n&&(i=mp(i,n,this.options.xmlMode,null===(s=this._root)||void 0===s?void 0:s[0])),this._make(this.length>1&&i.length>1?a.reduce(((e,t)=>t(e)),i):i)}}}const Xu=$u(((e,t)=>{const a=[];for(let n=0;n<t.length;n++){const s=e(t[n]);a.push(s)}return(new Array).concat(...a)})),Ju=$u(((e,t)=>{const a=[];for(let n=0;n<t.length;n++){const s=e(t[n]);null!==s&&a.push(s)}return a}));function ep(e,...t){let a=null;const n=$u(((e,t)=>{const n=[];return Cc(t,(t=>{for(let s;(s=e(t))&&!(null==a?void 0:a(s,n.length));t=s)n.push(s)})),n}))(e,...t);return function(e,t){a="string"==typeof e?t=>Gu(t,e,this.options):e?hp(e):null;const s=n.call(this,t);return a=null,s}}function tp(e){return Array.from(new Set(e))}const ap=Ju((({parent:e})=>e&&!Vo(e)?e:null),tp),np=Xu((e=>{const t=[];for(;e.parent&&!Vo(e.parent);)t.push(e.parent),e=e.parent;return t}),Tc,(e=>e.reverse())),sp=ep((({parent:e})=>e&&!Vo(e)?e:null),Tc,(e=>e.reverse()));const ip=Ju((e=>fc(e))),rp=Xu((e=>{const t=[];for(;e.next;)jo(e=e.next)&&t.push(e);return t}),tp),op=ep((e=>fc(e)),tp),cp=Ju((e=>gc(e))),lp=Xu((e=>{const t=[];for(;e.prev;)jo(e=e.prev)&&t.push(e);return t}),tp),up=ep((e=>gc(e)),tp),pp=Xu((e=>function(e){const t=function(e){return e.parent||null}(e);if(null!=t)return mc(t);const a=[e];let{prev:n,next:s}=e;for(;null!=n;)a.unshift(n),({prev:n}=n);for(;null!=s;)a.push(s),({next:s}=s);return a}(e).filter((t=>jo(t)&&t!==e))),Tc),dp=Xu((e=>mc(e).filter(jo)),tp);function hp(e){return"function"==typeof e?(t,a)=>e.call(t,a,t):Nc(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function mp(e,t,a,n){return"string"==typeof t?qu(t,e,{xmlMode:a,root:n}):e.filter(hp(t))}var fp=Object.freeze({__proto__:null,add:function(e,t){const a=this._make(e,t),n=Tc([...this.get(),...a.get()]);return this._make(n)},addBack:function(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this},children:dp,closest:function(e){var t;const a=[];if(!e)return this._make(a);const n={xmlMode:this.options.xmlMode,root:null===(t=this._root)||void 0===t?void 0:t[0]},s="string"==typeof e?t=>Gu(t,e,n):hp(e);return Cc(this,(e=>{for(;e&&jo(e);){if(s(e,0)){a.includes(e)||a.push(e);break}e=e.parent}})),this._make(a)},contents:function(){const e=this.toArray().reduce(((e,t)=>Wo(t)?e.concat(t.children):e),[]);return this._make(e)},each:function(e){let t=0;const a=this.length;for(;t<a&&!1!==e.call(this[t],t,this[t]);)++t;return this},end:function(){var e;return null!==(e=this.prevObject)&&void 0!==e?e:this._make([])},eq:function(e){var t;return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this._make(null!==(t=this[e])&&void 0!==t?t:[]))},filter:function(e){var t;return this._make(mp(this.toArray(),e,this.options.xmlMode,null===(t=this._root)||void 0===t?void 0:t[0]))},filterArray:mp,find:function(e){var t;if(!e)return this._make([]);const a=this.toArray();if("string"!=typeof e){const t=Nc(e)?e.toArray():[e];return this._make(t.filter((e=>a.some((t=>bc(t,e))))))}const n=Ku.test(e)?a:this.children().toArray(),s={context:a,root:null===(t=this._root)||void 0===t?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(function(e,t,a={},n=1/0){if("function"==typeof e)return Zu(t,e);const[s,i]=Uu(nl(e)),r=i.map((e=>Vu(t,e,a,!0,n)));return s.length&&r.push(Wu(t,s,a,n)),0===r.length?[]:1===r.length?r[0]:Gl(r.reduce(((e,t)=>[...e,...t])))}(e,n,s))},first:function(){return this.length>1?this._make(this[0]):this},get:function(e){return null==e?this.toArray():this[e<0?this.length+e:e]},has:function(e){return this.filter("string"==typeof e?`:has(${e})`:(t,a)=>this._make(a).find(e).length>0)},index:function(e){let t,a;return null==e?(t=this.parent().children(),a=this[0]):"string"==typeof e?(t=this._make(e),a=this[0]):(t=this,a=Nc(e)?e[0]:e),Array.prototype.indexOf.call(t,a)},is:function(e){const t=this.toArray();return"string"==typeof e?ju(t.filter(jo),e,this.options):!!e&&t.some(hp(e))},last:function(){return this.length>0?this._make(this[this.length-1]):this},map:function(e){let t=[];for(let a=0;a<this.length;a++){const n=this[a],s=e.call(n,a,n);null!=s&&(t=t.concat(s))}return this._make(t)},next:ip,nextAll:rp,nextUntil:op,not:function(e){let t=this.toArray();if("string"==typeof e){const a=new Set(qu(e,t,this.options));t=t.filter((e=>!a.has(e)))}else{const a=hp(e);t=t.filter(((e,t)=>!a(e,t)))}return this._make(t)},parent:ap,parents:np,parentsUntil:sp,prev:cp,prevAll:lp,prevUntil:up,siblings:pp,slice:function(e,t){return this._make(Array.prototype.slice.call(this,e,t))},toArray:function(){return Array.prototype.slice.call(this)}});function gp(e,t){const a=Array.isArray(e)?e:[e];t?t.children=a:t=null;for(let e=0;e<a.length;e++){const n=a[e];n.parent&&n.parent.children!==a&&_c(n),t?(n.prev=a[e-1]||null,n.next=a[e+1]||null):n.prev=n.next=null,n.parent=t}return t}function _p(e){return function(...t){const a=this.length-1;return Cc(this,((n,s)=>{if(!Wo(n))return;const i="function"==typeof t[0]?t[0].call(n,s,this._render(n.children)):t,r=this._makeDomArray(i,s<a);e(r,n.children,n)}))}}function Ep(e,t,a,n,s){var i,r;const o=[t,a,...n],c=0===t?null:e[t-1],l=t+a>=e.length?null:e[t+a];for(let e=0;e<n.length;++e){const a=n[e],u=a.parent;if(u){const e=u.children.indexOf(a);e>-1&&(u.children.splice(e,1),s===u&&t>e&&o[0]--)}a.parent=s,a.prev&&(a.prev.next=null!==(i=a.next)&&void 0!==i?i:null),a.next&&(a.next.prev=null!==(r=a.prev)&&void 0!==r?r:null),a.prev=0===e?c:n[e-1],a.next=e===n.length-1?l:n[e+1]}return c&&(c.next=n[0]),l&&(l.prev=n[n.length-1]),e.splice(...o)}const Tp=_p(((e,t,a)=>{Ep(t,t.length,0,e,a)})),vp=_p(((e,t,a)=>{Ep(t,0,0,e,a)}));function xp(e){return function(t){const a=this.length-1,n=this.parents().last();for(let s=0;s<this.length;s++){const i=this[s],r="function"==typeof t?t.call(i,s,i):"string"!=typeof t||Oc(t)?t:n.find(t).clone(),[o]=this._makeDomArray(r,s<a);if(!o||!Wo(o))continue;let c=o,l=0;for(;l<c.children.length;){const e=c.children[l];jo(e)?(c=e,l=0):l++}e(i,c,[o])}return this}}const bp=xp(((e,t,a)=>{const{parent:n}=e;if(!n)return;const s=n.children,i=s.indexOf(e);gp([e],t),Ep(s,i,0,a,n)})),Ap=xp(((e,t,a)=>{Wo(e)&&(gp(e.children,t),gp(a,e))}));var yp=Object.freeze({__proto__:null,_makeDomArray:function(e,t){return null==e?[]:Nc(e)?t?Ic(e.get()):e.get():Array.isArray(e)?e.reduce(((e,a)=>e.concat(this._makeDomArray(a,t))),[]):"string"==typeof e?this._parse(e,this.options,!1,null).children:t?Ic([e]):[e]},after:function(...e){const t=this.length-1;return Cc(this,((a,n)=>{const{parent:s}=a;if(!Wo(a)||!s)return;const i=s.children,r=i.indexOf(a);if(r<0)return;const o="function"==typeof e[0]?e[0].call(a,n,this._render(a.children)):e;Ep(i,r+1,0,this._makeDomArray(o,n<t),s)}))},append:Tp,appendTo:function(e){return(Nc(e)?e:this._make(e)).append(this),this},before:function(...e){const t=this.length-1;return Cc(this,((a,n)=>{const{parent:s}=a;if(!Wo(a)||!s)return;const i=s.children,r=i.indexOf(a);if(r<0)return;const o="function"==typeof e[0]?e[0].call(a,n,this._render(a.children)):e;Ep(i,r,0,this._makeDomArray(o,n<t),s)}))},clone:function(){return this._make(Ic(this.get()))},empty:function(){return Cc(this,(e=>{Wo(e)&&(e.children.forEach((e=>{e.next=e.prev=e.parent=null})),e.children.length=0)}))},html:function(e){if(void 0===e){const e=this[0];return e&&Wo(e)?this._render(e.children):null}return Cc(this,(t=>{if(!Wo(t))return;t.children.forEach((e=>{e.next=e.prev=e.parent=null}));gp(Nc(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children,t)}))},insertAfter:function(e){"string"==typeof e&&(e=this._make(e)),this.remove();const t=[];return this._makeDomArray(e).forEach((e=>{const a=this.clone().toArray(),{parent:n}=e;if(!n)return;const s=n.children,i=s.indexOf(e);i<0||(Ep(s,i+1,0,a,n),t.push(...a))})),this._make(t)},insertBefore:function(e){const t=this._make(e);this.remove();const a=[];return Cc(t,(e=>{const t=this.clone().toArray(),{parent:n}=e;if(!n)return;const s=n.children,i=s.indexOf(e);i<0||(Ep(s,i,0,t,n),a.push(...t))})),this._make(a)},prepend:vp,prependTo:function(e){return(Nc(e)?e:this._make(e)).prepend(this),this},remove:function(e){return Cc(e?this.filter(e):this,(e=>{_c(e),e.prev=e.next=e.parent=null})),this},replaceWith:function(e){return Cc(this,((t,a)=>{const{parent:n}=t;if(!n)return;const s=n.children,i="function"==typeof e?e.call(t,a,t):e,r=this._makeDomArray(i);gp(r,null);const o=s.indexOf(t);Ep(s,o,1,r,n),r.includes(t)||(t.parent=t.prev=t.next=null)}))},text:function(e){return void 0===e?xc(this):Cc(this,"function"==typeof e?(t,a)=>this._make(t).text(e.call(t,a,xc([t]))):t=>{if(!Wo(t))return;t.children.forEach((e=>{e.next=e.prev=e.parent=null}));gp(new Mo(`${e}`),t)})},toString:function(){return this._render(this)},unwrap:function(e){return this.parent(e).not("body").each(((e,t)=>{this._make(t).replaceWith(t.children)})),this},wrap:bp,wrapAll:function(e){const t=this[0];if(t){const a=this._make("function"==typeof e?e.call(t,0,t):e).insertBefore(t);let n;for(let e=0;e<a.length;e++)"tag"===a[e].type&&(n=a[e]);let s=0;for(;n&&s<n.children.length;){const e=n.children[s];"tag"===e.type?(n=e,s=0):s++}n&&this._make(n).append(this)}return this},wrapInner:Ap});function Sp(e,t,a,n){if("string"==typeof t){const i=Np(e),r="function"==typeof a?a.call(e,n,i[t]):a;""===r?delete i[t]:null!=r&&(i[t]=r),e.attribs.style=(s=i,Object.keys(s).reduce(((e,t)=>`${e}${e?" ":""}${t}: ${s[t]};`),""))}else"object"==typeof t&&Object.keys(t).forEach(((a,n)=>{Sp(e,a,t[a],n)}));var s}function Np(e,t){if(!e||!jo(e))return;const a=function(e){if(e=(e||"").trim(),!e)return{};const t={};let a;for(const n of e.split(";")){const e=n.indexOf(":");if(e<1||e===n.length-1){const e=n.trimEnd();e.length>0&&void 0!==a&&(t[a]+=`;${e}`)}else a=n.slice(0,e).trim(),t[a]=n.slice(e+1).trim()}return t}(e.attribs.style);if("string"==typeof t)return a[t];if(Array.isArray(t)){const e={};return t.forEach((t=>{null!=a[t]&&(e[t]=a[t])})),e}return a}var Cp=Object.freeze({__proto__:null,css:function(e,t){return null!=e&&null!=t||"object"==typeof e&&!Array.isArray(e)?Cc(this,((a,n)=>{jo(a)&&Sp(a,e,t,n)})):0!==this.length?Np(this[0],e):void 0}});const Ip="input,select,textarea,keygen",Op=/%20/g,wp=/\r?\n/g;var Dp=Object.freeze({__proto__:null,serialize:function(){const e=this.serializeArray().map((e=>`${encodeURIComponent(e.name)}=${encodeURIComponent(e.value)}`));return e.join("&").replace(Op,"+")},serializeArray:function(){return this.map(((e,t)=>{const a=this._make(t);return jo(t)&&"form"===t.name?a.find(Ip).toArray():a.filter(Ip).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(((e,t)=>{var a;const n=this._make(t),s=n.attr("name"),i=null!==(a=n.val())&&void 0!==a?a:"";return Array.isArray(i)?i.map((e=>({name:s,value:e.replace(wp,"\r\n")}))):{name:s,value:i.replace(wp,"\r\n")}})).toArray()}});class kp{constructor(e,t,a){if(this.length=0,this.options=a,this._root=t,e){for(let t=0;t<e.length;t++)this[t]=e[t];this.length=e.length}}}kp.prototype.cheerio="[cheerio object]",kp.prototype.splice=Array.prototype.splice,kp.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(kp.prototype,Vc,fp,yp,Cp,Dp);const Rp=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Lp="";var Mp;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(Mp=Mp||(Mp={}));const Pp="--",Fp="[CDATA[",Up="doctype",Bp="script",Hp="public",Gp="system";function jp(e){return e>=55296&&e<=57343}function qp(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function Yp(e){return e>=64976&&e<=65007||Rp.has(e)}var zp;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(zp=zp||(zp={}));class Vp{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:a,offset:n}=this;return{code:e,startLine:t,endLine:t,startCol:a,endCol:a,startOffset:n,endOffset:n}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Mp.EOF;return this._err(zp.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++){if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Mp.EOF;const a=this.html.charCodeAt(t);return a===Mp.CARRIAGE_RETURN?Mp.LINE_FEED:a}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Mp.EOF;let e=this.html.charCodeAt(this.pos);if(e===Mp.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Mp.LINE_FEED;if(e===Mp.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,jp(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===Mp.LINE_FEED||e===Mp.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){qp(e)?this._err(zp.controlCharacterInInputStream):Yp(e)&&this._err(zp.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Wp;function Zp(e,t){for(let a=e.attrs.length-1;a>=0;a--)if(e.attrs[a].name===t)return e.attrs[a].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(Wp=Wp||(Wp={}));var Qp,Kp=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),$p=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));const Xp=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Jp=null!==(Qp=String.fromCodePoint)&&void 0!==Qp?Qp:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var ed;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(ed||(ed={}));var td,ad,nd;function sd(e){return e>=ed.ZERO&&e<=ed.NINE}function id(e){return e===ed.EQUALS||function(e){return e>=ed.UPPER_A&&e<=ed.UPPER_Z||e>=ed.LOWER_A&&e<=ed.LOWER_Z||sd(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(td||(td={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(ad||(ad={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(nd||(nd={}));let rd=class{constructor(e,t,a){this.decodeTree=e,this.emitCodePoint=t,this.errors=a,this.state=ad.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=nd.Strict}startEntity(e){this.decodeMode=e,this.state=ad.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case ad.EntityStart:return e.charCodeAt(t)===ed.NUM?(this.state=ad.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=ad.NamedEntity,this.stateNamedEntity(e,t));case ad.NumericStart:return this.stateNumericStart(e,t);case ad.NumericDecimal:return this.stateNumericDecimal(e,t);case ad.NumericHex:return this.stateNumericHex(e,t);case ad.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===ed.LOWER_X?(this.state=ad.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=ad.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,a,n){if(t!==a){const s=a-t;this.result=this.result*Math.pow(n,s)+parseInt(e.substr(t,s),n),this.consumed+=s}}stateNumericHex(e,t){const a=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!(sd(s)||(n=s,n>=ed.UPPER_A&&n<=ed.UPPER_F||n>=ed.LOWER_A&&n<=ed.LOWER_F)))return this.addToNumericResult(e,a,t,16),this.emitNumericEntity(s,3);t+=1}var n;return this.addToNumericResult(e,a,t,16),-1}stateNumericDecimal(e,t){const a=t;for(;t<e.length;){const n=e.charCodeAt(t);if(!sd(n))return this.addToNumericResult(e,a,t,10),this.emitNumericEntity(n,2);t+=1}return this.addToNumericResult(e,a,t,10),-1}emitNumericEntity(e,t){var a;if(this.consumed<=t)return null===(a=this.errors)||void 0===a||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ed.SEMI)this.consumed+=1;else if(this.decodeMode===nd.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Xp.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==ed.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:a}=this;let n=a[this.treeIndex],s=(n&td.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=cd(a,n,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return 0===this.result||this.decodeMode===nd.Attribute&&(0===s||id(i))?0:this.emitNotTerminatedNamedEntity();if(n=a[this.treeIndex],s=(n&td.VALUE_LENGTH)>>14,0!==s){if(i===ed.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==nd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:a}=this,n=(a[t]&td.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,a){const{decodeTree:n}=this;return this.emitCodePoint(1===t?n[e]&~td.VALUE_LENGTH:n[e+1],a),3===t&&this.emitCodePoint(n[e+2],a),a}end(){var e;switch(this.state){case ad.NamedEntity:return 0===this.result||this.decodeMode===nd.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case ad.NumericDecimal:return this.emitNumericEntity(0,2);case ad.NumericHex:return this.emitNumericEntity(0,3);case ad.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ad.EntityStart:return 0}}};function od(e){let t="";const a=new rd(e,(e=>t+=Jp(e)));return function(e,n){let s=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(s,i),a.startEntity(n);const r=a.write(e,i+1);if(r<0){s=i+a.end();break}s=i+r,i=0===r?s+1:s}const r=t+e.slice(s);return t="",r}}function cd(e,t,a,n){const s=(t&td.BRANCH_LENGTH)>>7,i=t&td.JUMP_TABLE;if(0===s)return 0!==i&&n===i?a:-1;if(i){const t=n-i;return t<0||t>=s?-1:e[a+t]-1}let r=a,o=r+s-1;for(;r<=o;){const t=r+o>>>1,a=e[t];if(a<n)r=t+1;else{if(!(a>n))return e[t+s];o=t-1}}return-1}var ld,ud,pd,dd,hd;od(Kp),od($p),function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(ld=ld||(ld={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(ud=ud||(ud={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(pd=pd||(pd={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(dd=dd||(dd={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"}(hd=hd||(hd={}));const md=new Map([[dd.A,hd.A],[dd.ADDRESS,hd.ADDRESS],[dd.ANNOTATION_XML,hd.ANNOTATION_XML],[dd.APPLET,hd.APPLET],[dd.AREA,hd.AREA],[dd.ARTICLE,hd.ARTICLE],[dd.ASIDE,hd.ASIDE],[dd.B,hd.B],[dd.BASE,hd.BASE],[dd.BASEFONT,hd.BASEFONT],[dd.BGSOUND,hd.BGSOUND],[dd.BIG,hd.BIG],[dd.BLOCKQUOTE,hd.BLOCKQUOTE],[dd.BODY,hd.BODY],[dd.BR,hd.BR],[dd.BUTTON,hd.BUTTON],[dd.CAPTION,hd.CAPTION],[dd.CENTER,hd.CENTER],[dd.CODE,hd.CODE],[dd.COL,hd.COL],[dd.COLGROUP,hd.COLGROUP],[dd.DD,hd.DD],[dd.DESC,hd.DESC],[dd.DETAILS,hd.DETAILS],[dd.DIALOG,hd.DIALOG],[dd.DIR,hd.DIR],[dd.DIV,hd.DIV],[dd.DL,hd.DL],[dd.DT,hd.DT],[dd.EM,hd.EM],[dd.EMBED,hd.EMBED],[dd.FIELDSET,hd.FIELDSET],[dd.FIGCAPTION,hd.FIGCAPTION],[dd.FIGURE,hd.FIGURE],[dd.FONT,hd.FONT],[dd.FOOTER,hd.FOOTER],[dd.FOREIGN_OBJECT,hd.FOREIGN_OBJECT],[dd.FORM,hd.FORM],[dd.FRAME,hd.FRAME],[dd.FRAMESET,hd.FRAMESET],[dd.H1,hd.H1],[dd.H2,hd.H2],[dd.H3,hd.H3],[dd.H4,hd.H4],[dd.H5,hd.H5],[dd.H6,hd.H6],[dd.HEAD,hd.HEAD],[dd.HEADER,hd.HEADER],[dd.HGROUP,hd.HGROUP],[dd.HR,hd.HR],[dd.HTML,hd.HTML],[dd.I,hd.I],[dd.IMG,hd.IMG],[dd.IMAGE,hd.IMAGE],[dd.INPUT,hd.INPUT],[dd.IFRAME,hd.IFRAME],[dd.KEYGEN,hd.KEYGEN],[dd.LABEL,hd.LABEL],[dd.LI,hd.LI],[dd.LINK,hd.LINK],[dd.LISTING,hd.LISTING],[dd.MAIN,hd.MAIN],[dd.MALIGNMARK,hd.MALIGNMARK],[dd.MARQUEE,hd.MARQUEE],[dd.MATH,hd.MATH],[dd.MENU,hd.MENU],[dd.META,hd.META],[dd.MGLYPH,hd.MGLYPH],[dd.MI,hd.MI],[dd.MO,hd.MO],[dd.MN,hd.MN],[dd.MS,hd.MS],[dd.MTEXT,hd.MTEXT],[dd.NAV,hd.NAV],[dd.NOBR,hd.NOBR],[dd.NOFRAMES,hd.NOFRAMES],[dd.NOEMBED,hd.NOEMBED],[dd.NOSCRIPT,hd.NOSCRIPT],[dd.OBJECT,hd.OBJECT],[dd.OL,hd.OL],[dd.OPTGROUP,hd.OPTGROUP],[dd.OPTION,hd.OPTION],[dd.P,hd.P],[dd.PARAM,hd.PARAM],[dd.PLAINTEXT,hd.PLAINTEXT],[dd.PRE,hd.PRE],[dd.RB,hd.RB],[dd.RP,hd.RP],[dd.RT,hd.RT],[dd.RTC,hd.RTC],[dd.RUBY,hd.RUBY],[dd.S,hd.S],[dd.SCRIPT,hd.SCRIPT],[dd.SECTION,hd.SECTION],[dd.SELECT,hd.SELECT],[dd.SOURCE,hd.SOURCE],[dd.SMALL,hd.SMALL],[dd.SPAN,hd.SPAN],[dd.STRIKE,hd.STRIKE],[dd.STRONG,hd.STRONG],[dd.STYLE,hd.STYLE],[dd.SUB,hd.SUB],[dd.SUMMARY,hd.SUMMARY],[dd.SUP,hd.SUP],[dd.TABLE,hd.TABLE],[dd.TBODY,hd.TBODY],[dd.TEMPLATE,hd.TEMPLATE],[dd.TEXTAREA,hd.TEXTAREA],[dd.TFOOT,hd.TFOOT],[dd.TD,hd.TD],[dd.TH,hd.TH],[dd.THEAD,hd.THEAD],[dd.TITLE,hd.TITLE],[dd.TR,hd.TR],[dd.TRACK,hd.TRACK],[dd.TT,hd.TT],[dd.U,hd.U],[dd.UL,hd.UL],[dd.SVG,hd.SVG],[dd.VAR,hd.VAR],[dd.WBR,hd.WBR],[dd.XMP,hd.XMP]]);function fd(e){var t;return null!==(t=md.get(e))&&void 0!==t?t:hd.UNKNOWN}const gd=hd,_d={[ld.HTML]:new Set([gd.ADDRESS,gd.APPLET,gd.AREA,gd.ARTICLE,gd.ASIDE,gd.BASE,gd.BASEFONT,gd.BGSOUND,gd.BLOCKQUOTE,gd.BODY,gd.BR,gd.BUTTON,gd.CAPTION,gd.CENTER,gd.COL,gd.COLGROUP,gd.DD,gd.DETAILS,gd.DIR,gd.DIV,gd.DL,gd.DT,gd.EMBED,gd.FIELDSET,gd.FIGCAPTION,gd.FIGURE,gd.FOOTER,gd.FORM,gd.FRAME,gd.FRAMESET,gd.H1,gd.H2,gd.H3,gd.H4,gd.H5,gd.H6,gd.HEAD,gd.HEADER,gd.HGROUP,gd.HR,gd.HTML,gd.IFRAME,gd.IMG,gd.INPUT,gd.LI,gd.LINK,gd.LISTING,gd.MAIN,gd.MARQUEE,gd.MENU,gd.META,gd.NAV,gd.NOEMBED,gd.NOFRAMES,gd.NOSCRIPT,gd.OBJECT,gd.OL,gd.P,gd.PARAM,gd.PLAINTEXT,gd.PRE,gd.SCRIPT,gd.SECTION,gd.SELECT,gd.SOURCE,gd.STYLE,gd.SUMMARY,gd.TABLE,gd.TBODY,gd.TD,gd.TEMPLATE,gd.TEXTAREA,gd.TFOOT,gd.TH,gd.THEAD,gd.TITLE,gd.TR,gd.TRACK,gd.UL,gd.WBR,gd.XMP]),[ld.MATHML]:new Set([gd.MI,gd.MO,gd.MN,gd.MS,gd.MTEXT,gd.ANNOTATION_XML]),[ld.SVG]:new Set([gd.TITLE,gd.FOREIGN_OBJECT,gd.DESC]),[ld.XLINK]:new Set,[ld.XML]:new Set,[ld.XMLNS]:new Set};function Ed(e){return e===gd.H1||e===gd.H2||e===gd.H3||e===gd.H4||e===gd.H5||e===gd.H6}const Td=new Set([dd.STYLE,dd.SCRIPT,dd.XMP,dd.IFRAME,dd.NOEMBED,dd.NOFRAMES,dd.PLAINTEXT]);const vd=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var xd;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"}(xd||(xd={}));const bd={DATA:xd.DATA,RCDATA:xd.RCDATA,RAWTEXT:xd.RAWTEXT,SCRIPT_DATA:xd.SCRIPT_DATA,PLAINTEXT:xd.PLAINTEXT,CDATA_SECTION:xd.CDATA_SECTION};function Ad(e){return e>=Mp.DIGIT_0&&e<=Mp.DIGIT_9}function yd(e){return e>=Mp.LATIN_CAPITAL_A&&e<=Mp.LATIN_CAPITAL_Z}function Sd(e){return function(e){return e>=Mp.LATIN_SMALL_A&&e<=Mp.LATIN_SMALL_Z}(e)||yd(e)}function Nd(e){return Sd(e)||Ad(e)}function Cd(e){return e>=Mp.LATIN_CAPITAL_A&&e<=Mp.LATIN_CAPITAL_F}function Id(e){return e>=Mp.LATIN_SMALL_A&&e<=Mp.LATIN_SMALL_F}function Od(e){return e+32}function wd(e){return e===Mp.SPACE||e===Mp.LINE_FEED||e===Mp.TABULATION||e===Mp.FORM_FEED}function Dd(e){return wd(e)||e===Mp.SOLIDUS||e===Mp.GREATER_THAN_SIGN}let kd=class{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=xd.DATA,this.returnState=xd.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Vp(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,a;null===(a=(t=this.handler).onParseError)||void 0===a||a.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,a){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==a||a()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:Wp.START_TAG,tagName:"",tagID:hd.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Wp.END_TAG,tagName:"",tagID:hd.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Wp.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Wp.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const a=this.currentToken;if(null===Zp(a,this.currentAttr.name)){if(a.attrs.push(this.currentAttr),a.location&&this.currentLocation){(null!==(e=(t=a.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(zp.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=fd(e.tagName),e.type===Wp.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(zp.endTagWithAttributes),e.selfClosing&&this._err(zp.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Wp.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Wp.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Wp.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Wp.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=wd(e)?Wp.WHITESPACE_CHARACTER:e===Mp.NULL?Wp.NULL_CHARACTER:Wp.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Wp.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,a=0,n=!1;for(let i=0,r=Kp[0];i>=0&&(i=cd(Kp,r,i+1,e),!(i<0));e=this._consume()){a+=1,r=Kp[i];const o=r&td.VALUE_LENGTH;if(o){const r=(o>>14)-1;if(e!==Mp.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((s=this.preprocessor.peek(1))===Mp.EQUALS_SIGN||Nd(s))?(t=[Mp.AMPERSAND],i+=r):(t=0===r?[Kp[i]&~td.VALUE_LENGTH]:1===r?[Kp[++i]]:[Kp[++i],Kp[++i]],a=0,n=e!==Mp.SEMICOLON),0===r){this._consume();break}}}var s;return this._unconsume(a),n&&!this.preprocessor.endOfChunkHit&&this._err(zp.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===xd.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===xd.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===xd.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case xd.DATA:this._stateData(e);break;case xd.RCDATA:this._stateRcdata(e);break;case xd.RAWTEXT:this._stateRawtext(e);break;case xd.SCRIPT_DATA:this._stateScriptData(e);break;case xd.PLAINTEXT:this._statePlaintext(e);break;case xd.TAG_OPEN:this._stateTagOpen(e);break;case xd.END_TAG_OPEN:this._stateEndTagOpen(e);break;case xd.TAG_NAME:this._stateTagName(e);break;case xd.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case xd.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case xd.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case xd.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case xd.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case xd.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case xd.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case xd.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case xd.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case xd.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case xd.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case xd.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case xd.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case xd.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case xd.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case xd.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case xd.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case xd.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case xd.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case xd.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case xd.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case xd.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case xd.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case xd.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case xd.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case xd.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case xd.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case xd.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case xd.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case xd.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case xd.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case xd.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case xd.BOGUS_COMMENT:this._stateBogusComment(e);break;case xd.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case xd.COMMENT_START:this._stateCommentStart(e);break;case xd.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case xd.COMMENT:this._stateComment(e);break;case xd.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case xd.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case xd.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case xd.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case xd.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case xd.COMMENT_END:this._stateCommentEnd(e);break;case xd.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case xd.DOCTYPE:this._stateDoctype(e);break;case xd.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case xd.DOCTYPE_NAME:this._stateDoctypeName(e);break;case xd.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case xd.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case xd.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case xd.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case xd.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case xd.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case xd.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case xd.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case xd.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case xd.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case xd.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case xd.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case xd.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case xd.CDATA_SECTION:this._stateCdataSection(e);break;case xd.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case xd.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case xd.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case xd.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case xd.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case xd.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case xd.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case xd.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case xd.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case xd.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case Mp.LESS_THAN_SIGN:this.state=xd.TAG_OPEN;break;case Mp.AMPERSAND:this.returnState=xd.DATA,this.state=xd.CHARACTER_REFERENCE;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._emitCodePoint(e);break;case Mp.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case Mp.AMPERSAND:this.returnState=xd.RCDATA,this.state=xd.CHARACTER_REFERENCE;break;case Mp.LESS_THAN_SIGN:this.state=xd.RCDATA_LESS_THAN_SIGN;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._emitChars(Lp);break;case Mp.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case Mp.LESS_THAN_SIGN:this.state=xd.RAWTEXT_LESS_THAN_SIGN;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._emitChars(Lp);break;case Mp.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case Mp.LESS_THAN_SIGN:this.state=xd.SCRIPT_DATA_LESS_THAN_SIGN;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._emitChars(Lp);break;case Mp.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._emitChars(Lp);break;case Mp.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Sd(e))this._createStartTagToken(),this.state=xd.TAG_NAME,this._stateTagName(e);else switch(e){case Mp.EXCLAMATION_MARK:this.state=xd.MARKUP_DECLARATION_OPEN;break;case Mp.SOLIDUS:this.state=xd.END_TAG_OPEN;break;case Mp.QUESTION_MARK:this._err(zp.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=xd.BOGUS_COMMENT,this._stateBogusComment(e);break;case Mp.EOF:this._err(zp.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(zp.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=xd.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Sd(e))this._createEndTagToken(),this.state=xd.TAG_NAME,this._stateTagName(e);else switch(e){case Mp.GREATER_THAN_SIGN:this._err(zp.missingEndTagName),this.state=xd.DATA;break;case Mp.EOF:this._err(zp.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(zp.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=xd.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this.state=xd.BEFORE_ATTRIBUTE_NAME;break;case Mp.SOLIDUS:this.state=xd.SELF_CLOSING_START_TAG;break;case Mp.GREATER_THAN_SIGN:this.state=xd.DATA,this.emitCurrentTagToken();break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.tagName+=Lp;break;case Mp.EOF:this._err(zp.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(yd(e)?Od(e):e)}}_stateRcdataLessThanSign(e){e===Mp.SOLIDUS?this.state=xd.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=xd.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Sd(e)?(this.state=xd.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=xd.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=xd.BEFORE_ATTRIBUTE_NAME,!1;case Mp.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=xd.SELF_CLOSING_START_TAG,!1;case Mp.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=xd.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=xd.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===Mp.SOLIDUS?this.state=xd.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=xd.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Sd(e)?(this.state=xd.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=xd.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=xd.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case Mp.SOLIDUS:this.state=xd.SCRIPT_DATA_END_TAG_OPEN;break;case Mp.EXCLAMATION_MARK:this.state=xd.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=xd.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Sd(e)?(this.state=xd.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=xd.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=xd.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===Mp.HYPHEN_MINUS?(this.state=xd.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=xd.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===Mp.HYPHEN_MINUS?(this.state=xd.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=xd.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case Mp.HYPHEN_MINUS:this.state=xd.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Mp.LESS_THAN_SIGN:this.state=xd.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._emitChars(Lp);break;case Mp.EOF:this._err(zp.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case Mp.HYPHEN_MINUS:this.state=xd.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Mp.LESS_THAN_SIGN:this.state=xd.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.state=xd.SCRIPT_DATA_ESCAPED,this._emitChars(Lp);break;case Mp.EOF:this._err(zp.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=xd.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case Mp.HYPHEN_MINUS:this._emitChars("-");break;case Mp.LESS_THAN_SIGN:this.state=xd.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Mp.GREATER_THAN_SIGN:this.state=xd.SCRIPT_DATA,this._emitChars(">");break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.state=xd.SCRIPT_DATA_ESCAPED,this._emitChars(Lp);break;case Mp.EOF:this._err(zp.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=xd.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===Mp.SOLIDUS?this.state=xd.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Sd(e)?(this._emitChars("<"),this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=xd.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Sd(e)?(this.state=xd.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=xd.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=xd.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Bp,!1)&&Dd(this.preprocessor.peek(Bp.length))){this._emitCodePoint(e);for(let e=0;e<Bp.length;e++)this._emitCodePoint(this._consume());this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=xd.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case Mp.HYPHEN_MINUS:this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Mp.LESS_THAN_SIGN:this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._emitChars(Lp);break;case Mp.EOF:this._err(zp.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case Mp.HYPHEN_MINUS:this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Mp.LESS_THAN_SIGN:this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Lp);break;case Mp.EOF:this._err(zp.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case Mp.HYPHEN_MINUS:this._emitChars("-");break;case Mp.LESS_THAN_SIGN:this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Mp.GREATER_THAN_SIGN:this.state=xd.SCRIPT_DATA,this._emitChars(">");break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Lp);break;case Mp.EOF:this._err(zp.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===Mp.SOLIDUS?(this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Bp,!1)&&Dd(this.preprocessor.peek(Bp.length))){this._emitCodePoint(e);for(let e=0;e<Bp.length;e++)this._emitCodePoint(this._consume());this.state=xd.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=xd.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.SOLIDUS:case Mp.GREATER_THAN_SIGN:case Mp.EOF:this.state=xd.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Mp.EQUALS_SIGN:this._err(zp.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=xd.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=xd.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:case Mp.SOLIDUS:case Mp.GREATER_THAN_SIGN:case Mp.EOF:this._leaveAttrName(),this.state=xd.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Mp.EQUALS_SIGN:this._leaveAttrName(),this.state=xd.BEFORE_ATTRIBUTE_VALUE;break;case Mp.QUOTATION_MARK:case Mp.APOSTROPHE:case Mp.LESS_THAN_SIGN:this._err(zp.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.currentAttr.name+=Lp;break;default:this.currentAttr.name+=String.fromCodePoint(yd(e)?Od(e):e)}}_stateAfterAttributeName(e){switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.SOLIDUS:this.state=xd.SELF_CLOSING_START_TAG;break;case Mp.EQUALS_SIGN:this.state=xd.BEFORE_ATTRIBUTE_VALUE;break;case Mp.GREATER_THAN_SIGN:this.state=xd.DATA,this.emitCurrentTagToken();break;case Mp.EOF:this._err(zp.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=xd.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.QUOTATION_MARK:this.state=xd.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Mp.APOSTROPHE:this.state=xd.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Mp.GREATER_THAN_SIGN:this._err(zp.missingAttributeValue),this.state=xd.DATA,this.emitCurrentTagToken();break;default:this.state=xd.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case Mp.QUOTATION_MARK:this.state=xd.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Mp.AMPERSAND:this.returnState=xd.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=xd.CHARACTER_REFERENCE;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.currentAttr.value+=Lp;break;case Mp.EOF:this._err(zp.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case Mp.APOSTROPHE:this.state=xd.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Mp.AMPERSAND:this.returnState=xd.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=xd.CHARACTER_REFERENCE;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.currentAttr.value+=Lp;break;case Mp.EOF:this._err(zp.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this._leaveAttrValue(),this.state=xd.BEFORE_ATTRIBUTE_NAME;break;case Mp.AMPERSAND:this.returnState=xd.ATTRIBUTE_VALUE_UNQUOTED,this.state=xd.CHARACTER_REFERENCE;break;case Mp.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=xd.DATA,this.emitCurrentTagToken();break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this.currentAttr.value+=Lp;break;case Mp.QUOTATION_MARK:case Mp.APOSTROPHE:case Mp.LESS_THAN_SIGN:case Mp.EQUALS_SIGN:case Mp.GRAVE_ACCENT:this._err(zp.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case Mp.EOF:this._err(zp.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this._leaveAttrValue(),this.state=xd.BEFORE_ATTRIBUTE_NAME;break;case Mp.SOLIDUS:this._leaveAttrValue(),this.state=xd.SELF_CLOSING_START_TAG;break;case Mp.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=xd.DATA,this.emitCurrentTagToken();break;case Mp.EOF:this._err(zp.eofInTag),this._emitEOFToken();break;default:this._err(zp.missingWhitespaceBetweenAttributes),this.state=xd.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case Mp.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=xd.DATA,this.emitCurrentTagToken();break;case Mp.EOF:this._err(zp.eofInTag),this._emitEOFToken();break;default:this._err(zp.unexpectedSolidusInTag),this.state=xd.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case Mp.GREATER_THAN_SIGN:this.state=xd.DATA,this.emitCurrentComment(t);break;case Mp.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.data+=Lp;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Pp,!0)?(this._createCommentToken(Pp.length+1),this.state=xd.COMMENT_START):this._consumeSequenceIfMatch(Up,!1)?(this.currentLocation=this.getCurrentLocation(Up.length+1),this.state=xd.DOCTYPE):this._consumeSequenceIfMatch(Fp,!0)?this.inForeignNode?this.state=xd.CDATA_SECTION:(this._err(zp.cdataInHtmlContent),this._createCommentToken(Fp.length+1),this.currentToken.data="[CDATA[",this.state=xd.BOGUS_COMMENT):this._ensureHibernation()||(this._err(zp.incorrectlyOpenedComment),this._createCommentToken(2),this.state=xd.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case Mp.HYPHEN_MINUS:this.state=xd.COMMENT_START_DASH;break;case Mp.GREATER_THAN_SIGN:{this._err(zp.abruptClosingOfEmptyComment),this.state=xd.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=xd.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case Mp.HYPHEN_MINUS:this.state=xd.COMMENT_END;break;case Mp.GREATER_THAN_SIGN:this._err(zp.abruptClosingOfEmptyComment),this.state=xd.DATA,this.emitCurrentComment(t);break;case Mp.EOF:this._err(zp.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=xd.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case Mp.HYPHEN_MINUS:this.state=xd.COMMENT_END_DASH;break;case Mp.LESS_THAN_SIGN:t.data+="<",this.state=xd.COMMENT_LESS_THAN_SIGN;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.data+=Lp;break;case Mp.EOF:this._err(zp.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case Mp.EXCLAMATION_MARK:t.data+="!",this.state=xd.COMMENT_LESS_THAN_SIGN_BANG;break;case Mp.LESS_THAN_SIGN:t.data+="<";break;default:this.state=xd.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===Mp.HYPHEN_MINUS?this.state=xd.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=xd.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===Mp.HYPHEN_MINUS?this.state=xd.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=xd.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==Mp.GREATER_THAN_SIGN&&e!==Mp.EOF&&this._err(zp.nestedComment),this.state=xd.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case Mp.HYPHEN_MINUS:this.state=xd.COMMENT_END;break;case Mp.EOF:this._err(zp.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=xd.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case Mp.GREATER_THAN_SIGN:this.state=xd.DATA,this.emitCurrentComment(t);break;case Mp.EXCLAMATION_MARK:this.state=xd.COMMENT_END_BANG;break;case Mp.HYPHEN_MINUS:t.data+="-";break;case Mp.EOF:this._err(zp.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=xd.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case Mp.HYPHEN_MINUS:t.data+="--!",this.state=xd.COMMENT_END_DASH;break;case Mp.GREATER_THAN_SIGN:this._err(zp.incorrectlyClosedComment),this.state=xd.DATA,this.emitCurrentComment(t);break;case Mp.EOF:this._err(zp.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=xd.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this.state=xd.BEFORE_DOCTYPE_NAME;break;case Mp.GREATER_THAN_SIGN:this.state=xd.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case Mp.EOF:{this._err(zp.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(zp.missingWhitespaceBeforeDoctypeName),this.state=xd.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(yd(e))this._createDoctypeToken(String.fromCharCode(Od(e))),this.state=xd.DOCTYPE_NAME;else switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),this._createDoctypeToken(Lp),this.state=xd.DOCTYPE_NAME;break;case Mp.GREATER_THAN_SIGN:{this._err(zp.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=xd.DATA;break}case Mp.EOF:{this._err(zp.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=xd.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this.state=xd.AFTER_DOCTYPE_NAME;break;case Mp.GREATER_THAN_SIGN:this.state=xd.DATA,this.emitCurrentDoctype(t);break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.name+=Lp;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(yd(e)?Od(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.GREATER_THAN_SIGN:this.state=xd.DATA,this.emitCurrentDoctype(t);break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(Hp,!1)?this.state=xd.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Gp,!1)?this.state=xd.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(zp.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this.state=xd.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Mp.QUOTATION_MARK:this._err(zp.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=xd.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Mp.APOSTROPHE:this._err(zp.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=xd.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Mp.GREATER_THAN_SIGN:this._err(zp.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=xd.DATA,this.emitCurrentDoctype(t);break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(zp.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.QUOTATION_MARK:t.publicId="",this.state=xd.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Mp.APOSTROPHE:t.publicId="",this.state=xd.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Mp.GREATER_THAN_SIGN:this._err(zp.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=xd.DATA,this.emitCurrentDoctype(t);break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(zp.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Mp.QUOTATION_MARK:this.state=xd.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.publicId+=Lp;break;case Mp.GREATER_THAN_SIGN:this._err(zp.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=xd.DATA;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Mp.APOSTROPHE:this.state=xd.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.publicId+=Lp;break;case Mp.GREATER_THAN_SIGN:this._err(zp.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=xd.DATA;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this.state=xd.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Mp.GREATER_THAN_SIGN:this.state=xd.DATA,this.emitCurrentDoctype(t);break;case Mp.QUOTATION_MARK:this._err(zp.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mp.APOSTROPHE:this._err(zp.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(zp.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=xd.DATA;break;case Mp.QUOTATION_MARK:t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mp.APOSTROPHE:t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(zp.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:this.state=xd.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Mp.QUOTATION_MARK:this._err(zp.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mp.APOSTROPHE:this._err(zp.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mp.GREATER_THAN_SIGN:this._err(zp.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=xd.DATA,this.emitCurrentDoctype(t);break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(zp.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.QUOTATION_MARK:t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mp.APOSTROPHE:t.systemId="",this.state=xd.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mp.GREATER_THAN_SIGN:this._err(zp.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=xd.DATA,this.emitCurrentDoctype(t);break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(zp.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Mp.QUOTATION_MARK:this.state=xd.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.systemId+=Lp;break;case Mp.GREATER_THAN_SIGN:this._err(zp.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=xd.DATA;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Mp.APOSTROPHE:this.state=xd.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter),t.systemId+=Lp;break;case Mp.GREATER_THAN_SIGN:this._err(zp.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=xd.DATA;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Mp.SPACE:case Mp.LINE_FEED:case Mp.TABULATION:case Mp.FORM_FEED:break;case Mp.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=xd.DATA;break;case Mp.EOF:this._err(zp.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(zp.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=xd.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case Mp.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=xd.DATA;break;case Mp.NULL:this._err(zp.unexpectedNullCharacter);break;case Mp.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case Mp.RIGHT_SQUARE_BRACKET:this.state=xd.CDATA_SECTION_BRACKET;break;case Mp.EOF:this._err(zp.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===Mp.RIGHT_SQUARE_BRACKET?this.state=xd.CDATA_SECTION_END:(this._emitChars("]"),this.state=xd.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case Mp.GREATER_THAN_SIGN:this.state=xd.DATA;break;case Mp.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=xd.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===Mp.NUMBER_SIGN?this.state=xd.NUMERIC_CHARACTER_REFERENCE:Nd(e)?(this.state=xd.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(Mp.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Mp.AMPERSAND),this.state=xd.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){Nd(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===Mp.SEMICOLON&&this._err(zp.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===Mp.LATIN_SMALL_X||e===Mp.LATIN_CAPITAL_X?this.state=xd.HEXADEMICAL_CHARACTER_REFERENCE_START:Ad(e)?(this.state=xd.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(zp.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Mp.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Mp.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){!function(e){return Ad(e)||Cd(e)||Id(e)}(e)?(this._err(zp.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Mp.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Mp.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=xd.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}_stateHexademicalCharacterReference(e){Cd(e)?this.charRefCode=16*this.charRefCode+e-55:Id(e)?this.charRefCode=16*this.charRefCode+e-87:Ad(e)?this.charRefCode=16*this.charRefCode+e-48:e===Mp.SEMICOLON?this.state=xd.NUMERIC_CHARACTER_REFERENCE_END:(this._err(zp.missingSemicolonAfterCharacterReference),this.state=xd.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){Ad(e)?this.charRefCode=10*this.charRefCode+e-48:e===Mp.SEMICOLON?this.state=xd.NUMERIC_CHARACTER_REFERENCE_END:(this._err(zp.missingSemicolonAfterCharacterReference),this.state=xd.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===Mp.NULL)this._err(zp.nullCharacterReference),this.charRefCode=Mp.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(zp.characterReferenceOutsideUnicodeRange),this.charRefCode=Mp.REPLACEMENT_CHARACTER;else if(jp(this.charRefCode))this._err(zp.surrogateCharacterReference),this.charRefCode=Mp.REPLACEMENT_CHARACTER;else if(Yp(this.charRefCode))this._err(zp.noncharacterCharacterReference);else if(qp(this.charRefCode)||this.charRefCode===Mp.CARRIAGE_RETURN){this._err(zp.controlCharacterReference);const e=vd.get(this.charRefCode);void 0!==e&&(this.charRefCode=e)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}};const Rd=new Set([hd.DD,hd.DT,hd.LI,hd.OPTGROUP,hd.OPTION,hd.P,hd.RB,hd.RP,hd.RT,hd.RTC]),Ld=new Set([...Rd,hd.CAPTION,hd.COLGROUP,hd.TBODY,hd.TD,hd.TFOOT,hd.TH,hd.THEAD,hd.TR]),Md=new Map([[hd.APPLET,ld.HTML],[hd.CAPTION,ld.HTML],[hd.HTML,ld.HTML],[hd.MARQUEE,ld.HTML],[hd.OBJECT,ld.HTML],[hd.TABLE,ld.HTML],[hd.TD,ld.HTML],[hd.TEMPLATE,ld.HTML],[hd.TH,ld.HTML],[hd.ANNOTATION_XML,ld.MATHML],[hd.MI,ld.MATHML],[hd.MN,ld.MATHML],[hd.MO,ld.MATHML],[hd.MS,ld.MATHML],[hd.MTEXT,ld.MATHML],[hd.DESC,ld.SVG],[hd.FOREIGN_OBJECT,ld.SVG],[hd.TITLE,ld.SVG]]),Pd=[hd.H1,hd.H2,hd.H3,hd.H4,hd.H5,hd.H6],Fd=[hd.TR,hd.TEMPLATE,hd.HTML],Ud=[hd.TBODY,hd.TFOOT,hd.THEAD,hd.TEMPLATE,hd.HTML],Bd=[hd.TABLE,hd.TEMPLATE,hd.HTML],Hd=[hd.TD,hd.TH];class Gd{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,a){this.treeAdapter=t,this.handler=a,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=hd.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===hd.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ld.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const a=this._indexOf(e);this.items[a]=t,a===this.stackTop&&(this.current=t)}insertAfter(e,t,a){const n=this._indexOf(e)+1;this.items.splice(n,0,t),this.tagIDs.splice(n,0,a),this.stackTop++,n===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,n===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==ld.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const a=this._indexOfTagNames(e,t);this.shortenToLength(a<0?0:a)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Pd,ld.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Hd,ld.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let a=this.stackTop;a>=0;a--)if(e.includes(this.tagIDs[a])&&this.treeAdapter.getNamespaceURI(this.items[a])===t)return a;return-1}clearBackTo(e,t){const a=this._indexOfTagNames(e,t);this.shortenToLength(a+1)}clearBackToTableContext(){this.clearBackTo(Bd,ld.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Ud,ld.HTML)}clearBackToTableRowContext(){this.clearBackTo(Fd,ld.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===hd.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===hd.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const a=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if(a===e&&n===ld.HTML)return!0;if(Md.get(a)===n)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],a=this.treeAdapter.getNamespaceURI(this.items[e]);if(Ed(t)&&a===ld.HTML)return!0;if(Md.get(t)===a)return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const a=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if(a===e&&n===ld.HTML)return!0;if((a===hd.UL||a===hd.OL)&&n===ld.HTML||Md.get(a)===n)return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const a=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if(a===e&&n===ld.HTML)return!0;if(a===hd.BUTTON&&n===ld.HTML||Md.get(a)===n)return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const a=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===ld.HTML){if(a===e)return!0;if(a===hd.TABLE||a===hd.TEMPLATE||a===hd.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===ld.HTML){if(t===hd.TBODY||t===hd.THEAD||t===hd.TFOOT)return!0;if(t===hd.TABLE||t===hd.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const a=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===ld.HTML){if(a===e)return!0;if(a!==hd.OPTION&&a!==hd.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Rd.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Ld.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&Ld.has(this.currentTagId);)this.pop()}}var jd;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(jd=jd||(jd={}));const qd={type:jd.Marker};class Yd{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const a=[],n=t.length,s=this.treeAdapter.getTagName(e),i=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const t=this.entries[e];if(t.type===jd.Marker)break;const{element:r}=t;if(this.treeAdapter.getTagName(r)===s&&this.treeAdapter.getNamespaceURI(r)===i){const t=this.treeAdapter.getAttrList(r);t.length===n&&a.push({idx:e,attrs:t})}}return a}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),a=this._getNoahArkConditionCandidates(e,t);if(a.length<3)return;const n=new Map(t.map((e=>[e.name,e.value])));let s=0;for(let e=0;e<a.length;e++){const t=a[e];t.attrs.every((e=>n.get(e.name)===e.value))&&(s+=1,s>=3&&this.entries.splice(t.idx,1))}}insertMarker(){this.entries.unshift(qd)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:jd.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const a=this.entries.indexOf(this.bookmark);this.entries.splice(a,0,{type:jd.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(qd);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const t=this.entries.find((t=>t.type===jd.Marker||this.treeAdapter.getTagName(t.element)===e));return t&&t.type===jd.Element?t:null}getElementEntry(e){return this.entries.find((t=>t.type===jd.Element&&t.element===e))}}function zd(e){return{nodeName:"#text",value:e,parentNode:null}}const Vd={createDocument:()=>({nodeName:"#document",mode:pd.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,a)=>({nodeName:e,tagName:e,attrs:a,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,a){const n=e.childNodes.indexOf(a);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,a,n){const s=e.childNodes.find((e=>"#documentType"===e.nodeName));if(s)s.name=t,s.publicId=a,s.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:a,systemId:n,parentNode:null};Vd.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const a=e.childNodes[e.childNodes.length-1];if(Vd.isTextNode(a))return void(a.value+=t)}Vd.appendChild(e,zd(t))},insertTextBefore(e,t,a){const n=e.childNodes[e.childNodes.indexOf(a)-1];n&&Vd.isTextNode(n)?n.value+=t:Vd.insertBefore(e,zd(t),a)},adoptAttributes(e,t){const a=new Set(e.attrs.map((e=>e.name)));for(let n=0;n<t.length;n++)a.has(t[n].name)||e.attrs.push(t[n])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Wd="html",Zd="about:legacy-compat",Qd="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Kd=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],$d=[...Kd,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Xd=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Jd=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],eh=[...Jd,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function th(e,t){return t.some((t=>e.startsWith(t)))}const ah={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},nh="definitionurl",sh="definitionURL",ih=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),rh=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ld.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ld.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ld.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ld.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ld.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ld.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ld.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:ld.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:ld.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ld.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ld.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ld.XMLNS}]]),oh=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),ch=new Set([hd.B,hd.BIG,hd.BLOCKQUOTE,hd.BODY,hd.BR,hd.CENTER,hd.CODE,hd.DD,hd.DIV,hd.DL,hd.DT,hd.EM,hd.EMBED,hd.H1,hd.H2,hd.H3,hd.H4,hd.H5,hd.H6,hd.HEAD,hd.HR,hd.I,hd.IMG,hd.LI,hd.LISTING,hd.MENU,hd.META,hd.NOBR,hd.OL,hd.P,hd.PRE,hd.RUBY,hd.S,hd.SMALL,hd.SPAN,hd.STRONG,hd.STRIKE,hd.SUB,hd.SUP,hd.TABLE,hd.TT,hd.U,hd.UL,hd.VAR]);function lh(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===nh){e.attrs[t].name=sh;break}}function uh(e){for(let t=0;t<e.attrs.length;t++){const a=ih.get(e.attrs[t].name);null!=a&&(e.attrs[t].name=a)}}function ph(e){for(let t=0;t<e.attrs.length;t++){const a=rh.get(e.attrs[t].name);a&&(e.attrs[t].prefix=a.prefix,e.attrs[t].name=a.name,e.attrs[t].namespace=a.namespace)}}function dh(e,t,a,n){return(!n||n===ld.HTML)&&function(e,t,a){if(t===ld.MATHML&&e===hd.ANNOTATION_XML)for(let e=0;e<a.length;e++)if(a[e].name===ud.ENCODING){const t=a[e].value.toLowerCase();return t===ah.TEXT_HTML||t===ah.APPLICATION_XML}return t===ld.SVG&&(e===hd.FOREIGN_OBJECT||e===hd.DESC||e===hd.TITLE)}(e,t,a)||(!n||n===ld.MATHML)&&function(e,t){return t===ld.MATHML&&(e===hd.MI||e===hd.MO||e===hd.MN||e===hd.MS||e===hd.MTEXT)}(e,t)}const hh="hidden",mh=8,fh=3;var gh;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(gh||(gh={}));const _h={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Eh=new Set([hd.TABLE,hd.TBODY,hd.TFOOT,hd.THEAD,hd.TR]),Th={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Vd,onParseError:null};let vh=class{constructor(e,t,a=null,n=null){this.fragmentContext=a,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=gh.INITIAL,this.originalInsertionMode=gh.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Th,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new kd(this.options,this),this.activeFormattingElements=new Yd(this.treeAdapter),this.fragmentContextID=a?fd(this.treeAdapter.getTagName(a)):hd.UNKNOWN,this._setContextModes(null!=a?a:this.document,this.fragmentContextID),this.openElements=new Gd(this.document,this.treeAdapter,this)}static parse(e,t){const a=new this(t);return a.tokenizer.write(e,!0),a.document}static getFragmentParser(e,t){const a={...Th,...t};null!=e||(e=a.treeAdapter.createElement(dd.TEMPLATE,ld.HTML,[]));const n=a.treeAdapter.createElement("documentmock",ld.HTML,[]),s=new this(a,n,e);return s.fragmentContextID===hd.TEMPLATE&&s.tmplInsertionModeStack.unshift(gh.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,a){var n;if(!this.onParseError)return;const s=null!==(n=e.location)&&void 0!==n?n:_h,i={code:t,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:a?s.startLine:s.endLine,endCol:a?s.startCol:s.endCol,endOffset:a?s.startOffset:s.endOffset};this.onParseError(i)}onItemPush(e,t,a){var n,s;null===(s=(n=this.treeAdapter).onItemPush)||void 0===s||s.call(n,e),a&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var a,n;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(n=(a=this.treeAdapter).onItemPop)||void 0===n||n.call(a,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const a=e===this.document||this.treeAdapter.getNamespaceURI(e)===ld.HTML;this.currentNotInHTML=!a,this.tokenizer.inForeignNode=!a&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,ld.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=gh.TEXT}switchToPlaintextParsing(){this.insertionMode=gh.TEXT,this.originalInsertionMode=gh.IN_BODY,this.tokenizer.state=bd.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===dd.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===ld.HTML)switch(this.fragmentContextID){case hd.TITLE:case hd.TEXTAREA:this.tokenizer.state=bd.RCDATA;break;case hd.STYLE:case hd.XMP:case hd.IFRAME:case hd.NOEMBED:case hd.NOFRAMES:case hd.NOSCRIPT:this.tokenizer.state=bd.RAWTEXT;break;case hd.SCRIPT:this.tokenizer.state=bd.SCRIPT_DATA;break;case hd.PLAINTEXT:this.tokenizer.state=bd.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",a=e.publicId||"",n=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,a,n),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const a=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,a)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const a=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(a,e.location)}_insertElement(e,t){const a=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(a,e.location),this.openElements.push(a,e.tagID)}_insertFakeElement(e,t){const a=this.treeAdapter.createElement(e,ld.HTML,[]);this._attachElementToTree(a,null),this.openElements.push(a,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,ld.HTML,e.attrs),a=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,a),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(dd.HTML,ld.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,hd.HTML)}_appendCommentNode(e,t){const a=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,a),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_insertCharacters(e){let t,a;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:a}=this._findFosterParentingLocation()),a?this.treeAdapter.insertTextBefore(t,e.chars,a):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const n=this.treeAdapter.getChildNodes(t),s=a?n.lastIndexOf(a):n.length,i=n[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:t,endCol:a,endOffset:n}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:t,endCol:a,endOffset:n})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_adoptNodes(e,t){for(let a=this.treeAdapter.getFirstChild(e);a;a=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(a),this.treeAdapter.appendChild(t,a)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const a=t.location,n=this.treeAdapter.getTagName(e),s=t.type===Wp.END_TAG&&n===t.tagName?{endTag:{...a},endLine:a.endLine,endCol:a.endCol,endOffset:a.endOffset}:{endLine:a.startLine,endCol:a.startCol,endOffset:a.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,a;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,a=this.fragmentContextID):({current:t,currentTagId:a}=this.openElements),(e.tagID!==hd.SVG||this.treeAdapter.getTagName(t)!==dd.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==ld.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===hd.MGLYPH||e.tagID===hd.MALIGNMARK)&&!this._isIntegrationPoint(a,t,ld.HTML))}_processToken(e){switch(e.type){case Wp.CHARACTER:this.onCharacter(e);break;case Wp.NULL_CHARACTER:this.onNullCharacter(e);break;case Wp.COMMENT:this.onComment(e);break;case Wp.DOCTYPE:this.onDoctype(e);break;case Wp.START_TAG:this._processStartTag(e);break;case Wp.END_TAG:this.onEndTag(e);break;case Wp.EOF:this.onEof(e);break;case Wp.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,a){return dh(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),a)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===jd.Marker||this.openElements.contains(e.element)));for(let a=t<0?e-1:t-1;a>=0;a--){const e=this.activeFormattingElements.entries[a];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=gh.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(hd.P),this.openElements.popUntilTagNamePopped(hd.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case hd.TR:return void(this.insertionMode=gh.IN_ROW);case hd.TBODY:case hd.THEAD:case hd.TFOOT:return void(this.insertionMode=gh.IN_TABLE_BODY);case hd.CAPTION:return void(this.insertionMode=gh.IN_CAPTION);case hd.COLGROUP:return void(this.insertionMode=gh.IN_COLUMN_GROUP);case hd.TABLE:return void(this.insertionMode=gh.IN_TABLE);case hd.BODY:return void(this.insertionMode=gh.IN_BODY);case hd.FRAMESET:return void(this.insertionMode=gh.IN_FRAMESET);case hd.SELECT:return void this._resetInsertionModeForSelect(e);case hd.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case hd.HTML:return void(this.insertionMode=this.headElement?gh.AFTER_HEAD:gh.BEFORE_HEAD);case hd.TD:case hd.TH:if(e>0)return void(this.insertionMode=gh.IN_CELL);break;case hd.HEAD:if(e>0)return void(this.insertionMode=gh.IN_HEAD)}this.insertionMode=gh.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===hd.TEMPLATE)break;if(e===hd.TABLE)return void(this.insertionMode=gh.IN_SELECT_IN_TABLE)}this.insertionMode=gh.IN_SELECT}_isElementCausesFosterParenting(e){return Eh.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case hd.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===ld.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case hd.TABLE:{const a=this.treeAdapter.getParentNode(t);return a?{parent:a,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const a=this.treeAdapter.getNamespaceURI(e);return _d[a].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case gh.INITIAL:wh(this,e);break;case gh.BEFORE_HTML:Dh(this,e);break;case gh.BEFORE_HEAD:kh(this,e);break;case gh.IN_HEAD:Mh(this,e);break;case gh.IN_HEAD_NO_SCRIPT:Ph(this,e);break;case gh.AFTER_HEAD:Fh(this,e);break;case gh.IN_BODY:case gh.IN_CAPTION:case gh.IN_CELL:case gh.IN_TEMPLATE:Hh(this,e);break;case gh.TEXT:case gh.IN_SELECT:case gh.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case gh.IN_TABLE:case gh.IN_TABLE_BODY:case gh.IN_ROW:Qh(this,e);break;case gh.IN_TABLE_TEXT:em(this,e);break;case gh.IN_COLUMN_GROUP:sm(this,e);break;case gh.AFTER_BODY:hm(this,e);break;case gh.AFTER_AFTER_BODY:mm(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=Lp,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case gh.INITIAL:wh(this,e);break;case gh.BEFORE_HTML:Dh(this,e);break;case gh.BEFORE_HEAD:kh(this,e);break;case gh.IN_HEAD:Mh(this,e);break;case gh.IN_HEAD_NO_SCRIPT:Ph(this,e);break;case gh.AFTER_HEAD:Fh(this,e);break;case gh.TEXT:this._insertCharacters(e);break;case gh.IN_TABLE:case gh.IN_TABLE_BODY:case gh.IN_ROW:Qh(this,e);break;case gh.IN_COLUMN_GROUP:sm(this,e);break;case gh.AFTER_BODY:hm(this,e);break;case gh.AFTER_AFTER_BODY:mm(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)Ih(this,e);else switch(this.insertionMode){case gh.INITIAL:case gh.BEFORE_HTML:case gh.BEFORE_HEAD:case gh.IN_HEAD:case gh.IN_HEAD_NO_SCRIPT:case gh.AFTER_HEAD:case gh.IN_BODY:case gh.IN_TABLE:case gh.IN_CAPTION:case gh.IN_COLUMN_GROUP:case gh.IN_TABLE_BODY:case gh.IN_ROW:case gh.IN_CELL:case gh.IN_SELECT:case gh.IN_SELECT_IN_TABLE:case gh.IN_TEMPLATE:case gh.IN_FRAMESET:case gh.AFTER_FRAMESET:Ih(this,e);break;case gh.IN_TABLE_TEXT:tm(this,e);break;case gh.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case gh.AFTER_AFTER_BODY:case gh.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case gh.INITIAL:!function(e,t){e._setDocumentType(t);const a=t.forceQuirks?pd.QUIRKS:function(e){if(e.name!==Wd)return pd.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Qd)return pd.QUIRKS;let{publicId:a}=e;if(null!==a){if(a=a.toLowerCase(),Xd.has(a))return pd.QUIRKS;let e=null===t?$d:Kd;if(th(a,e))return pd.QUIRKS;if(e=null===t?Jd:eh,th(a,e))return pd.LIMITED_QUIRKS}return pd.NO_QUIRKS}(t);(function(e){return e.name===Wd&&null===e.publicId&&(null===e.systemId||e.systemId===Zd)})(t)||e._err(t,zp.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,a),e.insertionMode=gh.BEFORE_HTML}(this,e);break;case gh.BEFORE_HEAD:case gh.IN_HEAD:case gh.IN_HEAD_NO_SCRIPT:case gh.AFTER_HEAD:this._err(e,zp.misplacedDoctype);break;case gh.IN_TABLE_TEXT:tm(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,zp.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===hd.FONT&&e.attrs.some((({name:e})=>e===ud.COLOR||e===ud.SIZE||e===ud.FACE))||ch.has(t)}(t))fm(e),e._startTagOutsideForeignContent(t);else{const a=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(a);n===ld.MATHML?lh(t):n===ld.SVG&&(!function(e){const t=oh.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=fd(e.tagName))}(t),uh(t)),ph(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case gh.INITIAL:wh(this,e);break;case gh.BEFORE_HTML:!function(e,t){t.tagID===hd.HTML?(e._insertElement(t,ld.HTML),e.insertionMode=gh.BEFORE_HEAD):Dh(e,t)}(this,e);break;case gh.BEFORE_HEAD:!function(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.HEAD:e._insertElement(t,ld.HTML),e.headElement=e.openElements.current,e.insertionMode=gh.IN_HEAD;break;default:kh(e,t)}}(this,e);break;case gh.IN_HEAD:Rh(this,e);break;case gh.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.BASEFONT:case hd.BGSOUND:case hd.HEAD:case hd.LINK:case hd.META:case hd.NOFRAMES:case hd.STYLE:Rh(e,t);break;case hd.NOSCRIPT:e._err(t,zp.nestedNoscriptInHead);break;default:Ph(e,t)}}(this,e);break;case gh.AFTER_HEAD:!function(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.BODY:e._insertElement(t,ld.HTML),e.framesetOk=!1,e.insertionMode=gh.IN_BODY;break;case hd.FRAMESET:e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_FRAMESET;break;case hd.BASE:case hd.BASEFONT:case hd.BGSOUND:case hd.LINK:case hd.META:case hd.NOFRAMES:case hd.SCRIPT:case hd.STYLE:case hd.TEMPLATE:case hd.TITLE:e._err(t,zp.abandonedHeadElementChild),e.openElements.push(e.headElement,hd.HEAD),Rh(e,t),e.openElements.remove(e.headElement);break;case hd.HEAD:e._err(t,zp.misplacedStartTagForHeadElement);break;default:Fh(e,t)}}(this,e);break;case gh.IN_BODY:zh(this,e);break;case gh.IN_TABLE:Kh(this,e);break;case gh.IN_TABLE_TEXT:tm(this,e);break;case gh.IN_CAPTION:!function(e,t){const a=t.tagID;am.has(a)?e.openElements.hasInTableScope(hd.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(hd.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=gh.IN_TABLE,Kh(e,t)):zh(e,t)}(this,e);break;case gh.IN_COLUMN_GROUP:nm(this,e);break;case gh.IN_TABLE_BODY:im(this,e);break;case gh.IN_ROW:om(this,e);break;case gh.IN_CELL:!function(e,t){const a=t.tagID;am.has(a)?(e.openElements.hasInTableScope(hd.TD)||e.openElements.hasInTableScope(hd.TH))&&(e._closeTableCell(),om(e,t)):zh(e,t)}(this,e);break;case gh.IN_SELECT:lm(this,e);break;case gh.IN_SELECT_IN_TABLE:!function(e,t){const a=t.tagID;a===hd.CAPTION||a===hd.TABLE||a===hd.TBODY||a===hd.TFOOT||a===hd.THEAD||a===hd.TR||a===hd.TD||a===hd.TH?(e.openElements.popUntilTagNamePopped(hd.SELECT),e._resetInsertionMode(),e._processStartTag(t)):lm(e,t)}(this,e);break;case gh.IN_TEMPLATE:!function(e,t){switch(t.tagID){case hd.BASE:case hd.BASEFONT:case hd.BGSOUND:case hd.LINK:case hd.META:case hd.NOFRAMES:case hd.SCRIPT:case hd.STYLE:case hd.TEMPLATE:case hd.TITLE:Rh(e,t);break;case hd.CAPTION:case hd.COLGROUP:case hd.TBODY:case hd.TFOOT:case hd.THEAD:e.tmplInsertionModeStack[0]=gh.IN_TABLE,e.insertionMode=gh.IN_TABLE,Kh(e,t);break;case hd.COL:e.tmplInsertionModeStack[0]=gh.IN_COLUMN_GROUP,e.insertionMode=gh.IN_COLUMN_GROUP,nm(e,t);break;case hd.TR:e.tmplInsertionModeStack[0]=gh.IN_TABLE_BODY,e.insertionMode=gh.IN_TABLE_BODY,im(e,t);break;case hd.TD:case hd.TH:e.tmplInsertionModeStack[0]=gh.IN_ROW,e.insertionMode=gh.IN_ROW,om(e,t);break;default:e.tmplInsertionModeStack[0]=gh.IN_BODY,e.insertionMode=gh.IN_BODY,zh(e,t)}}(this,e);break;case gh.AFTER_BODY:!function(e,t){t.tagID===hd.HTML?zh(e,t):hm(e,t)}(this,e);break;case gh.IN_FRAMESET:!function(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.FRAMESET:e._insertElement(t,ld.HTML);break;case hd.FRAME:e._appendElement(t,ld.HTML),t.ackSelfClosing=!0;break;case hd.NOFRAMES:Rh(e,t)}}(this,e);break;case gh.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.NOFRAMES:Rh(e,t)}}(this,e);break;case gh.AFTER_AFTER_BODY:!function(e,t){t.tagID===hd.HTML?zh(e,t):mm(e,t)}(this,e);break;case gh.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.NOFRAMES:Rh(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===hd.P||t.tagID===hd.BR)return fm(e),void e._endTagOutsideForeignContent(t);for(let a=e.openElements.stackTop;a>0;a--){const n=e.openElements.items[a];if(e.treeAdapter.getNamespaceURI(n)===ld.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(n);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(a);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case gh.INITIAL:wh(this,e);break;case gh.BEFORE_HTML:!function(e,t){const a=t.tagID;a!==hd.HTML&&a!==hd.HEAD&&a!==hd.BODY&&a!==hd.BR||Dh(e,t)}(this,e);break;case gh.BEFORE_HEAD:!function(e,t){const a=t.tagID;a===hd.HEAD||a===hd.BODY||a===hd.HTML||a===hd.BR?kh(e,t):e._err(t,zp.endTagWithoutMatchingOpenElement)}(this,e);break;case gh.IN_HEAD:!function(e,t){switch(t.tagID){case hd.HEAD:e.openElements.pop(),e.insertionMode=gh.AFTER_HEAD;break;case hd.BODY:case hd.BR:case hd.HTML:Mh(e,t);break;case hd.TEMPLATE:Lh(e,t);break;default:e._err(t,zp.endTagWithoutMatchingOpenElement)}}(this,e);break;case gh.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case hd.NOSCRIPT:e.openElements.pop(),e.insertionMode=gh.IN_HEAD;break;case hd.BR:Ph(e,t);break;default:e._err(t,zp.endTagWithoutMatchingOpenElement)}}(this,e);break;case gh.AFTER_HEAD:!function(e,t){switch(t.tagID){case hd.BODY:case hd.HTML:case hd.BR:Fh(e,t);break;case hd.TEMPLATE:Lh(e,t);break;default:e._err(t,zp.endTagWithoutMatchingOpenElement)}}(this,e);break;case gh.IN_BODY:Wh(this,e);break;case gh.TEXT:!function(e,t){var a;t.tagID===hd.SCRIPT&&(null===(a=e.scriptHandler)||void 0===a||a.call(e,e.openElements.current));e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case gh.IN_TABLE:$h(this,e);break;case gh.IN_TABLE_TEXT:tm(this,e);break;case gh.IN_CAPTION:!function(e,t){const a=t.tagID;switch(a){case hd.CAPTION:case hd.TABLE:e.openElements.hasInTableScope(hd.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(hd.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=gh.IN_TABLE,a===hd.TABLE&&$h(e,t));break;case hd.BODY:case hd.COL:case hd.COLGROUP:case hd.HTML:case hd.TBODY:case hd.TD:case hd.TFOOT:case hd.TH:case hd.THEAD:case hd.TR:break;default:Wh(e,t)}}(this,e);break;case gh.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case hd.COLGROUP:e.openElements.currentTagId===hd.COLGROUP&&(e.openElements.pop(),e.insertionMode=gh.IN_TABLE);break;case hd.TEMPLATE:Lh(e,t);break;case hd.COL:break;default:sm(e,t)}}(this,e);break;case gh.IN_TABLE_BODY:rm(this,e);break;case gh.IN_ROW:cm(this,e);break;case gh.IN_CELL:!function(e,t){const a=t.tagID;switch(a){case hd.TD:case hd.TH:e.openElements.hasInTableScope(a)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=gh.IN_ROW);break;case hd.TABLE:case hd.TBODY:case hd.TFOOT:case hd.THEAD:case hd.TR:e.openElements.hasInTableScope(a)&&(e._closeTableCell(),cm(e,t));break;case hd.BODY:case hd.CAPTION:case hd.COL:case hd.COLGROUP:case hd.HTML:break;default:Wh(e,t)}}(this,e);break;case gh.IN_SELECT:um(this,e);break;case gh.IN_SELECT_IN_TABLE:!function(e,t){const a=t.tagID;a===hd.CAPTION||a===hd.TABLE||a===hd.TBODY||a===hd.TFOOT||a===hd.THEAD||a===hd.TR||a===hd.TD||a===hd.TH?e.openElements.hasInTableScope(a)&&(e.openElements.popUntilTagNamePopped(hd.SELECT),e._resetInsertionMode(),e.onEndTag(t)):um(e,t)}(this,e);break;case gh.IN_TEMPLATE:!function(e,t){t.tagID===hd.TEMPLATE&&Lh(e,t)}(this,e);break;case gh.AFTER_BODY:dm(this,e);break;case gh.IN_FRAMESET:!function(e,t){t.tagID!==hd.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===hd.FRAMESET||(e.insertionMode=gh.AFTER_FRAMESET))}(this,e);break;case gh.AFTER_FRAMESET:!function(e,t){t.tagID===hd.HTML&&(e.insertionMode=gh.AFTER_AFTER_FRAMESET)}(this,e);break;case gh.AFTER_AFTER_BODY:mm(this,e)}}onEof(e){switch(this.insertionMode){case gh.INITIAL:wh(this,e);break;case gh.BEFORE_HTML:Dh(this,e);break;case gh.BEFORE_HEAD:kh(this,e);break;case gh.IN_HEAD:Mh(this,e);break;case gh.IN_HEAD_NO_SCRIPT:Ph(this,e);break;case gh.AFTER_HEAD:Fh(this,e);break;case gh.IN_BODY:case gh.IN_TABLE:case gh.IN_CAPTION:case gh.IN_COLUMN_GROUP:case gh.IN_TABLE_BODY:case gh.IN_ROW:case gh.IN_CELL:case gh.IN_SELECT:case gh.IN_SELECT_IN_TABLE:Zh(this,e);break;case gh.TEXT:!function(e,t){e._err(t,zp.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case gh.IN_TABLE_TEXT:tm(this,e);break;case gh.IN_TEMPLATE:pm(this,e);break;case gh.AFTER_BODY:case gh.IN_FRAMESET:case gh.AFTER_FRAMESET:case gh.AFTER_AFTER_BODY:case gh.AFTER_AFTER_FRAMESET:Oh(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Mp.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case gh.IN_HEAD:case gh.IN_HEAD_NO_SCRIPT:case gh.AFTER_HEAD:case gh.TEXT:case gh.IN_COLUMN_GROUP:case gh.IN_SELECT:case gh.IN_SELECT_IN_TABLE:case gh.IN_FRAMESET:case gh.AFTER_FRAMESET:this._insertCharacters(e);break;case gh.IN_BODY:case gh.IN_CAPTION:case gh.IN_CELL:case gh.IN_TEMPLATE:case gh.AFTER_BODY:case gh.AFTER_AFTER_BODY:case gh.AFTER_AFTER_FRAMESET:Bh(this,e);break;case gh.IN_TABLE:case gh.IN_TABLE_BODY:case gh.IN_ROW:Qh(this,e);break;case gh.IN_TABLE_TEXT:Jh(this,e)}}};function xh(e,t){let a=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return a?e.openElements.contains(a.element)?e.openElements.hasInScope(t.tagID)||(a=null):(e.activeFormattingElements.removeEntry(a),a=null):Vh(e,t),a}function bh(e,t){let a=null,n=e.openElements.stackTop;for(;n>=0;n--){const s=e.openElements.items[n];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[n])&&(a=s)}return a||(e.openElements.shortenToLength(n<0?0:n),e.activeFormattingElements.removeEntry(t)),a}function Ah(e,t,a){let n=t,s=e.openElements.getCommonAncestor(t);for(let i=0,r=s;r!==a;i++,r=s){s=e.openElements.getCommonAncestor(r);const a=e.activeFormattingElements.getElementEntry(r),o=a&&i>=fh;!a||o?(o&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(r)):(r=yh(e,a),n===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(r,n),n=r)}return n}function yh(e,t){const a=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,a,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function Sh(e,t,a){const n=fd(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(n))e._fosterParentElement(a);else{const s=e.treeAdapter.getNamespaceURI(t);n===hd.TEMPLATE&&s===ld.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,a)}}function Nh(e,t,a){const n=e.treeAdapter.getNamespaceURI(a.element),{token:s}=a,i=e.treeAdapter.createElement(s.tagName,n,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(a),e.openElements.remove(a.element),e.openElements.insertAfter(t,i,s.tagID)}function Ch(e,t){for(let a=0;a<mh;a++){const a=xh(e,t);if(!a)break;const n=bh(e,a);if(!n)break;e.activeFormattingElements.bookmark=a;const s=Ah(e,n,a.element),i=e.openElements.getCommonAncestor(a.element);e.treeAdapter.detachNode(s),i&&Sh(e,i,s),Nh(e,n,a)}}function Ih(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Oh(e,t){if(e.stopped=!0,t.location){const a=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=a;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const a=e.openElements.items[0],n=e.treeAdapter.getNodeSourceCodeLocation(a);if(n&&!n.endTag&&(e._setEndLocation(a,t),e.openElements.stackTop>=1)){const a=e.openElements.items[1],n=e.treeAdapter.getNodeSourceCodeLocation(a);n&&!n.endTag&&e._setEndLocation(a,t)}}}}function wh(e,t){e._err(t,zp.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,pd.QUIRKS),e.insertionMode=gh.BEFORE_HTML,e._processToken(t)}function Dh(e,t){e._insertFakeRootElement(),e.insertionMode=gh.BEFORE_HEAD,e._processToken(t)}function kh(e,t){e._insertFakeElement(dd.HEAD,hd.HEAD),e.headElement=e.openElements.current,e.insertionMode=gh.IN_HEAD,e._processToken(t)}function Rh(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.BASE:case hd.BASEFONT:case hd.BGSOUND:case hd.LINK:case hd.META:e._appendElement(t,ld.HTML),t.ackSelfClosing=!0;break;case hd.TITLE:e._switchToTextParsing(t,bd.RCDATA);break;case hd.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,bd.RAWTEXT):(e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_HEAD_NO_SCRIPT);break;case hd.NOFRAMES:case hd.STYLE:e._switchToTextParsing(t,bd.RAWTEXT);break;case hd.SCRIPT:e._switchToTextParsing(t,bd.SCRIPT_DATA);break;case hd.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=gh.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(gh.IN_TEMPLATE);break;case hd.HEAD:e._err(t,zp.misplacedStartTagForHeadElement);break;default:Mh(e,t)}}function Lh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==hd.TEMPLATE&&e._err(t,zp.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(hd.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,zp.endTagWithoutMatchingOpenElement)}function Mh(e,t){e.openElements.pop(),e.insertionMode=gh.AFTER_HEAD,e._processToken(t)}function Ph(e,t){const a=t.type===Wp.EOF?zp.openElementsLeftAfterEof:zp.disallowedContentInNoscriptInHead;e._err(t,a),e.openElements.pop(),e.insertionMode=gh.IN_HEAD,e._processToken(t)}function Fh(e,t){e._insertFakeElement(dd.BODY,hd.BODY),e.insertionMode=gh.IN_BODY,Uh(e,t)}function Uh(e,t){switch(t.type){case Wp.CHARACTER:Hh(e,t);break;case Wp.WHITESPACE_CHARACTER:Bh(e,t);break;case Wp.COMMENT:Ih(e,t);break;case Wp.START_TAG:zh(e,t);break;case Wp.END_TAG:Wh(e,t);break;case Wp.EOF:Zh(e,t)}}function Bh(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Hh(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Gh(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ld.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function jh(e){const t=Zp(e,ud.TYPE);return null!=t&&t.toLowerCase()===hh}function qh(e,t){e._switchToTextParsing(t,bd.RAWTEXT)}function Yh(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ld.HTML)}function zh(e,t){switch(t.tagID){case hd.I:case hd.S:case hd.B:case hd.U:case hd.EM:case hd.TT:case hd.BIG:case hd.CODE:case hd.FONT:case hd.SMALL:case hd.STRIKE:case hd.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ld.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case hd.A:!function(e,t){const a=e.activeFormattingElements.getElementEntryInScopeWithTagName(dd.A);a&&(Ch(e,t),e.openElements.remove(a.element),e.activeFormattingElements.removeEntry(a)),e._reconstructActiveFormattingElements(),e._insertElement(t,ld.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case hd.H1:case hd.H2:case hd.H3:case hd.H4:case hd.H5:case hd.H6:!function(e,t){e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),Ed(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ld.HTML)}(e,t);break;case hd.P:case hd.DL:case hd.OL:case hd.UL:case hd.DIV:case hd.DIR:case hd.NAV:case hd.MAIN:case hd.MENU:case hd.ASIDE:case hd.CENTER:case hd.FIGURE:case hd.FOOTER:case hd.HEADER:case hd.HGROUP:case hd.DIALOG:case hd.DETAILS:case hd.ADDRESS:case hd.ARTICLE:case hd.SECTION:case hd.SUMMARY:case hd.FIELDSET:case hd.BLOCKQUOTE:case hd.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._insertElement(t,ld.HTML)}(e,t);break;case hd.LI:case hd.DD:case hd.DT:!function(e,t){e.framesetOk=!1;const a=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const n=e.openElements.tagIDs[t];if(a===hd.LI&&n===hd.LI||(a===hd.DD||a===hd.DT)&&(n===hd.DD||n===hd.DT)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n);break}if(n!==hd.ADDRESS&&n!==hd.DIV&&n!==hd.P&&e._isSpecialElement(e.openElements.items[t],n))break}e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._insertElement(t,ld.HTML)}(e,t);break;case hd.BR:case hd.IMG:case hd.WBR:case hd.AREA:case hd.EMBED:case hd.KEYGEN:Gh(e,t);break;case hd.HR:!function(e,t){e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._appendElement(t,ld.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case hd.RB:case hd.RTC:!function(e,t){e.openElements.hasInScope(hd.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ld.HTML)}(e,t);break;case hd.RT:case hd.RP:!function(e,t){e.openElements.hasInScope(hd.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(hd.RTC),e._insertElement(t,ld.HTML)}(e,t);break;case hd.PRE:case hd.LISTING:!function(e,t){e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._insertElement(t,ld.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case hd.XMP:!function(e,t){e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,bd.RAWTEXT)}(e,t);break;case hd.SVG:!function(e,t){e._reconstructActiveFormattingElements(),uh(t),ph(t),t.selfClosing?e._appendElement(t,ld.SVG):e._insertElement(t,ld.SVG),t.ackSelfClosing=!0}(e,t);break;case hd.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case hd.BASE:case hd.LINK:case hd.META:case hd.STYLE:case hd.TITLE:case hd.SCRIPT:case hd.BGSOUND:case hd.BASEFONT:case hd.TEMPLATE:Rh(e,t);break;case hd.BODY:!function(e,t){const a=e.openElements.tryPeekProperlyNestedBodyElement();a&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(a,t.attrs))}(e,t);break;case hd.FORM:!function(e,t){const a=e.openElements.tmplCount>0;e.formElement&&!a||(e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._insertElement(t,ld.HTML),a||(e.formElement=e.openElements.current))}(e,t);break;case hd.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(hd.NOBR)&&(Ch(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ld.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case hd.MATH:!function(e,t){e._reconstructActiveFormattingElements(),lh(t),ph(t),t.selfClosing?e._appendElement(t,ld.MATHML):e._insertElement(t,ld.MATHML),t.ackSelfClosing=!0}(e,t);break;case hd.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==pd.QUIRKS&&e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._insertElement(t,ld.HTML),e.framesetOk=!1,e.insertionMode=gh.IN_TABLE}(e,t);break;case hd.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ld.HTML),jh(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case hd.PARAM:case hd.TRACK:case hd.SOURCE:!function(e,t){e._appendElement(t,ld.HTML),t.ackSelfClosing=!0}(e,t);break;case hd.IMAGE:!function(e,t){t.tagName=dd.IMG,t.tagID=hd.IMG,Gh(e,t)}(e,t);break;case hd.BUTTON:!function(e,t){e.openElements.hasInScope(hd.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(hd.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ld.HTML),e.framesetOk=!1}(e,t);break;case hd.APPLET:case hd.OBJECT:case hd.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ld.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case hd.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,bd.RAWTEXT)}(e,t);break;case hd.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ld.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===gh.IN_TABLE||e.insertionMode===gh.IN_CAPTION||e.insertionMode===gh.IN_TABLE_BODY||e.insertionMode===gh.IN_ROW||e.insertionMode===gh.IN_CELL?gh.IN_SELECT_IN_TABLE:gh.IN_SELECT}(e,t);break;case hd.OPTION:case hd.OPTGROUP:!function(e,t){e.openElements.currentTagId===hd.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ld.HTML)}(e,t);break;case hd.NOEMBED:qh(e,t);break;case hd.FRAMESET:!function(e,t){const a=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&a&&(e.treeAdapter.detachNode(a),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_FRAMESET)}(e,t);break;case hd.TEXTAREA:!function(e,t){e._insertElement(t,ld.HTML),e.skipNextNewLine=!0,e.tokenizer.state=bd.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=gh.TEXT}(e,t);break;case hd.NOSCRIPT:e.options.scriptingEnabled?qh(e,t):Yh(e,t);break;case hd.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(hd.P)&&e._closePElement(),e._insertElement(t,ld.HTML),e.tokenizer.state=bd.PLAINTEXT}(e,t);break;case hd.COL:case hd.TH:case hd.TD:case hd.TR:case hd.HEAD:case hd.FRAME:case hd.TBODY:case hd.TFOOT:case hd.THEAD:case hd.CAPTION:case hd.COLGROUP:break;default:Yh(e,t)}}function Vh(e,t){const a=t.tagName,n=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const s=e.openElements.items[t],i=e.openElements.tagIDs[t];if(n===i&&(n!==hd.UNKNOWN||e.treeAdapter.getTagName(s)===a)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(s,i))break}}function Wh(e,t){switch(t.tagID){case hd.A:case hd.B:case hd.I:case hd.S:case hd.U:case hd.EM:case hd.TT:case hd.BIG:case hd.CODE:case hd.FONT:case hd.NOBR:case hd.SMALL:case hd.STRIKE:case hd.STRONG:Ch(e,t);break;case hd.P:!function(e){e.openElements.hasInButtonScope(hd.P)||e._insertFakeElement(dd.P,hd.P),e._closePElement()}(e);break;case hd.DL:case hd.UL:case hd.OL:case hd.DIR:case hd.DIV:case hd.NAV:case hd.PRE:case hd.MAIN:case hd.MENU:case hd.ASIDE:case hd.BUTTON:case hd.CENTER:case hd.FIGURE:case hd.FOOTER:case hd.HEADER:case hd.HGROUP:case hd.DIALOG:case hd.ADDRESS:case hd.ARTICLE:case hd.DETAILS:case hd.SECTION:case hd.SUMMARY:case hd.LISTING:case hd.FIELDSET:case hd.BLOCKQUOTE:case hd.FIGCAPTION:!function(e,t){const a=t.tagID;e.openElements.hasInScope(a)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a))}(e,t);break;case hd.LI:!function(e){e.openElements.hasInListItemScope(hd.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(hd.LI),e.openElements.popUntilTagNamePopped(hd.LI))}(e);break;case hd.DD:case hd.DT:!function(e,t){const a=t.tagID;e.openElements.hasInScope(a)&&(e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a))}(e,t);break;case hd.H1:case hd.H2:case hd.H3:case hd.H4:case hd.H5:case hd.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case hd.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(dd.BR,hd.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case hd.BODY:!function(e,t){if(e.openElements.hasInScope(hd.BODY)&&(e.insertionMode=gh.AFTER_BODY,e.options.sourceCodeLocationInfo)){const a=e.openElements.tryPeekProperlyNestedBodyElement();a&&e._setEndLocation(a,t)}}(e,t);break;case hd.HTML:!function(e,t){e.openElements.hasInScope(hd.BODY)&&(e.insertionMode=gh.AFTER_BODY,dm(e,t))}(e,t);break;case hd.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:a}=e;t||(e.formElement=null),(a||t)&&e.openElements.hasInScope(hd.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(hd.FORM):a&&e.openElements.remove(a))}(e);break;case hd.APPLET:case hd.OBJECT:case hd.MARQUEE:!function(e,t){const a=t.tagID;e.openElements.hasInScope(a)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case hd.TEMPLATE:Lh(e,t);break;default:Vh(e,t)}}function Zh(e,t){e.tmplInsertionModeStack.length>0?pm(e,t):Oh(e,t)}function Qh(e,t){if(Eh.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=gh.IN_TABLE_TEXT,t.type){case Wp.CHARACTER:em(e,t);break;case Wp.WHITESPACE_CHARACTER:Jh(e,t)}else Xh(e,t)}function Kh(e,t){switch(t.tagID){case hd.TD:case hd.TH:case hd.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(dd.TBODY,hd.TBODY),e.insertionMode=gh.IN_TABLE_BODY,im(e,t)}(e,t);break;case hd.STYLE:case hd.SCRIPT:case hd.TEMPLATE:Rh(e,t);break;case hd.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(dd.COLGROUP,hd.COLGROUP),e.insertionMode=gh.IN_COLUMN_GROUP,nm(e,t)}(e,t);break;case hd.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,ld.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case hd.TABLE:!function(e,t){e.openElements.hasInTableScope(hd.TABLE)&&(e.openElements.popUntilTagNamePopped(hd.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case hd.TBODY:case hd.TFOOT:case hd.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_TABLE_BODY}(e,t);break;case hd.INPUT:!function(e,t){jh(t)?e._appendElement(t,ld.HTML):Xh(e,t),t.ackSelfClosing=!0}(e,t);break;case hd.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_CAPTION}(e,t);break;case hd.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_COLUMN_GROUP}(e,t);break;default:Xh(e,t)}}function $h(e,t){switch(t.tagID){case hd.TABLE:e.openElements.hasInTableScope(hd.TABLE)&&(e.openElements.popUntilTagNamePopped(hd.TABLE),e._resetInsertionMode());break;case hd.TEMPLATE:Lh(e,t);break;case hd.BODY:case hd.CAPTION:case hd.COL:case hd.COLGROUP:case hd.HTML:case hd.TBODY:case hd.TD:case hd.TFOOT:case hd.TH:case hd.THEAD:case hd.TR:break;default:Xh(e,t)}}function Xh(e,t){const a=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Uh(e,t),e.fosterParentingEnabled=a}function Jh(e,t){e.pendingCharacterTokens.push(t)}function em(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function tm(e,t){let a=0;if(e.hasNonWhitespacePendingCharacterToken)for(;a<e.pendingCharacterTokens.length;a++)Xh(e,e.pendingCharacterTokens[a]);else for(;a<e.pendingCharacterTokens.length;a++)e._insertCharacters(e.pendingCharacterTokens[a]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const am=new Set([hd.CAPTION,hd.COL,hd.COLGROUP,hd.TBODY,hd.TD,hd.TFOOT,hd.TH,hd.THEAD,hd.TR]);function nm(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.COL:e._appendElement(t,ld.HTML),t.ackSelfClosing=!0;break;case hd.TEMPLATE:Rh(e,t);break;default:sm(e,t)}}function sm(e,t){e.openElements.currentTagId===hd.COLGROUP&&(e.openElements.pop(),e.insertionMode=gh.IN_TABLE,e._processToken(t))}function im(e,t){switch(t.tagID){case hd.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_ROW;break;case hd.TH:case hd.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(dd.TR,hd.TR),e.insertionMode=gh.IN_ROW,om(e,t);break;case hd.CAPTION:case hd.COL:case hd.COLGROUP:case hd.TBODY:case hd.TFOOT:case hd.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=gh.IN_TABLE,Kh(e,t));break;default:Kh(e,t)}}function rm(e,t){const a=t.tagID;switch(t.tagID){case hd.TBODY:case hd.TFOOT:case hd.THEAD:e.openElements.hasInTableScope(a)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=gh.IN_TABLE);break;case hd.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=gh.IN_TABLE,$h(e,t));break;case hd.BODY:case hd.CAPTION:case hd.COL:case hd.COLGROUP:case hd.HTML:case hd.TD:case hd.TH:case hd.TR:break;default:$h(e,t)}}function om(e,t){switch(t.tagID){case hd.TH:case hd.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,ld.HTML),e.insertionMode=gh.IN_CELL,e.activeFormattingElements.insertMarker();break;case hd.CAPTION:case hd.COL:case hd.COLGROUP:case hd.TBODY:case hd.TFOOT:case hd.THEAD:case hd.TR:e.openElements.hasInTableScope(hd.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gh.IN_TABLE_BODY,im(e,t));break;default:Kh(e,t)}}function cm(e,t){switch(t.tagID){case hd.TR:e.openElements.hasInTableScope(hd.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gh.IN_TABLE_BODY);break;case hd.TABLE:e.openElements.hasInTableScope(hd.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gh.IN_TABLE_BODY,rm(e,t));break;case hd.TBODY:case hd.TFOOT:case hd.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(hd.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gh.IN_TABLE_BODY,rm(e,t));break;case hd.BODY:case hd.CAPTION:case hd.COL:case hd.COLGROUP:case hd.HTML:case hd.TD:case hd.TH:break;default:$h(e,t)}}function lm(e,t){switch(t.tagID){case hd.HTML:zh(e,t);break;case hd.OPTION:e.openElements.currentTagId===hd.OPTION&&e.openElements.pop(),e._insertElement(t,ld.HTML);break;case hd.OPTGROUP:e.openElements.currentTagId===hd.OPTION&&e.openElements.pop(),e.openElements.currentTagId===hd.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ld.HTML);break;case hd.INPUT:case hd.KEYGEN:case hd.TEXTAREA:case hd.SELECT:e.openElements.hasInSelectScope(hd.SELECT)&&(e.openElements.popUntilTagNamePopped(hd.SELECT),e._resetInsertionMode(),t.tagID!==hd.SELECT&&e._processStartTag(t));break;case hd.SCRIPT:case hd.TEMPLATE:Rh(e,t)}}function um(e,t){switch(t.tagID){case hd.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===hd.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===hd.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===hd.OPTGROUP&&e.openElements.pop();break;case hd.OPTION:e.openElements.currentTagId===hd.OPTION&&e.openElements.pop();break;case hd.SELECT:e.openElements.hasInSelectScope(hd.SELECT)&&(e.openElements.popUntilTagNamePopped(hd.SELECT),e._resetInsertionMode());break;case hd.TEMPLATE:Lh(e,t)}}function pm(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(hd.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Oh(e,t)}function dm(e,t){var a;if(t.tagID===hd.HTML){if(e.fragmentContext||(e.insertionMode=gh.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===hd.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(null===(a=e.treeAdapter.getNodeSourceCodeLocation(n))||void 0===a?void 0:a.endTag)&&e._setEndLocation(n,t)}}else hm(e,t)}function hm(e,t){e.insertionMode=gh.IN_BODY,Uh(e,t)}function mm(e,t){e.insertionMode=gh.IN_BODY,Uh(e,t)}function fm(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ld.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function gm(e,t){return function(a){let n,s=0,i="";for(;n=e.exec(a);)s!==n.index&&(i+=a.substring(s,n.index)),i+=t.get(n[0].charCodeAt(0)),s=n.index+1;return i+a.substring(s)}}const _m=gm(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Em=gm(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),Tm=new Set([dd.AREA,dd.BASE,dd.BASEFONT,dd.BGSOUND,dd.BR,dd.COL,dd.EMBED,dd.FRAME,dd.HR,dd.IMG,dd.INPUT,dd.KEYGEN,dd.LINK,dd.META,dd.PARAM,dd.SOURCE,dd.TRACK,dd.WBR]);const vm={treeAdapter:Vd,scriptingEnabled:!0};function xm(e,t){return bm(e,{...vm,...t})}function bm(e,t){return t.treeAdapter.isElementNode(e)?function(e,t){const a=t.treeAdapter.getTagName(e);return`<${a}${function(e,{treeAdapter:t}){let a="";for(const n of t.getAttrList(e)){if(a+=" ",n.namespace)switch(n.namespace){case ld.XML:a+=`xml:${n.name}`;break;case ld.XMLNS:"xmlns"!==n.name&&(a+="xmlns:"),a+=n.name;break;case ld.XLINK:a+=`xlink:${n.name}`;break;default:a+=`${n.prefix}:${n.name}`}else a+=n.name;a+=`="${_m(n.value)}"`}return a}(e,t)}>${function(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===ld.HTML&&Tm.has(t.treeAdapter.getTagName(e))}(e,t)?"":`${function(e,t){let a="";const n=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===dd.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===ld.HTML?t.treeAdapter.getTemplateContent(e):e,s=t.treeAdapter.getChildNodes(n);if(s)for(const e of s)a+=bm(e,t);return a}(e,t)}</${a}>`}`}(e,t):t.treeAdapter.isTextNode(e)?function(e,t){const{treeAdapter:a}=t,n=a.getTextNodeContent(e),s=a.getParentNode(e),i=s&&a.isElementNode(s)&&a.getTagName(s);return i&&a.getNamespaceURI(s)===ld.HTML&&(r=i,o=t.scriptingEnabled,Td.has(r)||o&&r===dd.NOSCRIPT)?n:Em(n);var r,o}(e,t):t.treeAdapter.isCommentNode(e)?function(e,{treeAdapter:t}){return`\x3c!--${t.getCommentNodeContent(e)}--\x3e`}(e,t):t.treeAdapter.isDocumentTypeNode(e)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(e,t):""}let Am=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Pm(this,e)}},ym=class extends Am{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}},Sm=class extends ym{constructor(){super(...arguments),this.type=bo.Text}get nodeType(){return 3}},Nm=class extends ym{constructor(){super(...arguments),this.type=bo.Comment}get nodeType(){return 8}},Cm=class extends ym{constructor(e,t){super(t),this.name=e,this.type=bo.Directive}get nodeType(){return 1}},Im=class extends Am{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}},Om=class extends Im{constructor(){super(...arguments),this.type=bo.CDATA}get nodeType(){return 4}},wm=class extends Im{constructor(){super(...arguments),this.type=bo.Root}get nodeType(){return 9}},Dm=class extends Im{constructor(e,t,a=[],n=("script"===e?bo.Script:"style"===e?bo.Style:bo.Tag)){super(a),this.name=e,this.attribs=t,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,a;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(a=this["x-attribsPrefix"])||void 0===a?void 0:a[e]}}))}};function km(e){return Ao(e)}function Rm(e){return e.type===bo.Text}function Lm(e){return e.type===bo.Comment}function Mm(e){return e.type===bo.Directive}function Pm(e,t=!1){let a;if(Rm(e))a=new Sm(e.data);else if(Lm(e))a=new Nm(e.data);else if(km(e)){const n=t?Fm(e.children):[],s=new Dm(e.name,{...e.attribs},n);n.forEach((e=>e.parent=s)),null!=e.namespace&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),a=s}else if(function(e){return e.type===bo.CDATA}(e)){const n=t?Fm(e.children):[],s=new Om(n);n.forEach((e=>e.parent=s)),a=s}else if(function(e){return e.type===bo.Root}(e)){const n=t?Fm(e.children):[],s=new wm(n);n.forEach((e=>e.parent=s)),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),a=s}else{if(!Mm(e))throw new Error(`Not implemented yet: ${e.type}`);{const t=new Cm(e.name,e.data);null!=e["x-name"]&&(t["x-name"]=e["x-name"],t["x-publicId"]=e["x-publicId"],t["x-systemId"]=e["x-systemId"]),a=t}}return a.startIndex=e.startIndex,a.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(a.sourceCodeLocation=e.sourceCodeLocation),a}function Fm(e){const t=e.map((e=>Pm(e,!0)));for(let e=1;e<t.length;e++)t[e].prev=t[e-1],t[e-1].next=t[e];return t}function Um(e){return new Sm(e)}function Bm(e){const t=e.includes('"')?"'":'"';return t+e+t}const Hm={isCommentNode:Lm,isElementNode:km,isTextNode:Rm,createDocument(){const e=new wm([]);return e["x-mode"]=pd.NO_QUIRKS,e},createDocumentFragment:()=>new wm([]),createElement(e,t,a){const n=Object.create(null),s=Object.create(null),i=Object.create(null);for(let e=0;e<a.length;e++){const t=a[e].name;n[t]=a[e].value,s[t]=a[e].namespace,i[t]=a[e].prefix}const r=new Dm(e,n,[]);return r.namespace=t,r["x-attribsNamespace"]=s,r["x-attribsPrefix"]=i,r},createCommentNode:e=>new Nm(e),appendChild(e,t){const a=e.children[e.children.length-1];a&&(a.next=t,t.prev=a),e.children.push(t),t.parent=e},insertBefore(e,t,a){const n=e.children.indexOf(a),{prev:s}=a;s&&(s.next=t,t.prev=s),a.prev=t,t.next=a,e.children.splice(n,0,t),t.parent=e},setTemplateContent(e,t){Hm.appendChild(e,t)},getTemplateContent:e=>e.children[0],setDocumentType(e,t,a,n){const s=function(e,t,a){let n="!DOCTYPE ";return e&&(n+=e),t?n+=` PUBLIC ${Bm(t)}`:a&&(n+=" SYSTEM"),a&&(n+=` ${Bm(a)}`),n}(t,a,n);let i=e.children.find((e=>Mm(e)&&"!doctype"===e.name));i?i.data=null!=s?s:null:(i=new Cm("!doctype",s),Hm.appendChild(e,i)),i["x-name"]=null!=t?t:void 0,i["x-publicId"]=null!=a?a:void 0,i["x-systemId"]=null!=n?n:void 0},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode:e=>e["x-mode"],detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:a,next:n}=e;e.prev=null,e.next=null,a&&(a.next=n),n&&(n.prev=a),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const a=e.children[e.children.length-1];a&&Rm(a)?a.data+=t:Hm.appendChild(e,Um(t))},insertTextBefore(e,t,a){const n=e.children[e.children.indexOf(a)-1];n&&Rm(n)?n.data+=t:Hm.insertBefore(e,Um(t),a)},adoptAttributes(e,t){for(let a=0;a<t.length;a++){const n=t[a].name;void 0===e.attribs[n]&&(e.attribs[n]=t[a].value,e["x-attribsNamespace"][n]=t[a].namespace,e["x-attribsPrefix"][n]=t[a].prefix)}},getFirstChild:e=>e.children[0],getChildNodes:e=>e.children,getParentNode:e=>e.parent,getAttrList:e=>e.attributes,getTagName:e=>e.name,getNamespaceURI:e=>e.namespace,getTextNodeContent:e=>e.data,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName(e){var t;return null!==(t=e["x-name"])&&void 0!==t?t:""},getDocumentTypeNodePublicId(e){var t;return null!==(t=e["x-publicId"])&&void 0!==t?t:""},getDocumentTypeNodeSystemId(e){var t;return null!==(t=e["x-systemId"])&&void 0!==t?t:""},isDocumentTypeNode:e=>Mm(e)&&"!doctype"===e.name,setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){null!=t.endOffset&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function Gm(e,t,a,n){const s={scriptingEnabled:"boolean"!=typeof t.scriptingEnabled||t.scriptingEnabled,treeAdapter:Hm,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return a?function(e,t){return vh.parse(e,t)}(e,s):function(e,t,a){"string"==typeof e&&(a=t,t=e,e=null);const n=vh.getFragmentParser(e,a);return n.tokenizer.write(t,!0),n.getFragment()}(n,e,s)}const jm={treeAdapter:Hm};var qm,Ym=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),zm=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));const Vm=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Wm=null!==(qm=String.fromCodePoint)&&void 0!==qm?qm:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function Zm(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Vm.get(e))&&void 0!==t?t:e}var Qm;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(Qm||(Qm={}));var Km,$m,Xm,Jm,ef,tf;function af(e){return e>=Qm.ZERO&&e<=Qm.NINE}function nf(e){return e===Qm.EQUALS||function(e){return e>=Qm.UPPER_A&&e<=Qm.UPPER_Z||e>=Qm.LOWER_A&&e<=Qm.LOWER_Z||af(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(Km||(Km={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}($m||($m={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(Xm||(Xm={}));class sf{constructor(e,t,a){this.decodeTree=e,this.emitCodePoint=t,this.errors=a,this.state=$m.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Xm.Strict}startEntity(e){this.decodeMode=e,this.state=$m.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case $m.EntityStart:return e.charCodeAt(t)===Qm.NUM?(this.state=$m.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=$m.NamedEntity,this.stateNamedEntity(e,t));case $m.NumericStart:return this.stateNumericStart(e,t);case $m.NumericDecimal:return this.stateNumericDecimal(e,t);case $m.NumericHex:return this.stateNumericHex(e,t);case $m.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===Qm.LOWER_X?(this.state=$m.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=$m.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,a,n){if(t!==a){const s=a-t;this.result=this.result*Math.pow(n,s)+parseInt(e.substr(t,s),n),this.consumed+=s}}stateNumericHex(e,t){const a=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!(af(s)||(n=s,n>=Qm.UPPER_A&&n<=Qm.UPPER_F||n>=Qm.LOWER_A&&n<=Qm.LOWER_F)))return this.addToNumericResult(e,a,t,16),this.emitNumericEntity(s,3);t+=1}var n;return this.addToNumericResult(e,a,t,16),-1}stateNumericDecimal(e,t){const a=t;for(;t<e.length;){const n=e.charCodeAt(t);if(!af(n))return this.addToNumericResult(e,a,t,10),this.emitNumericEntity(n,2);t+=1}return this.addToNumericResult(e,a,t,10),-1}emitNumericEntity(e,t){var a;if(this.consumed<=t)return null===(a=this.errors)||void 0===a||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Qm.SEMI)this.consumed+=1;else if(this.decodeMode===Xm.Strict)return 0;return this.emitCodePoint(Zm(this.result),this.consumed),this.errors&&(e!==Qm.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:a}=this;let n=a[this.treeIndex],s=(n&Km.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=of(a,n,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return 0===this.result||this.decodeMode===Xm.Attribute&&(0===s||nf(i))?0:this.emitNotTerminatedNamedEntity();if(n=a[this.treeIndex],s=(n&Km.VALUE_LENGTH)>>14,0!==s){if(i===Qm.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Xm.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:a}=this,n=(a[t]&Km.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,a){const{decodeTree:n}=this;return this.emitCodePoint(1===t?n[e]&~Km.VALUE_LENGTH:n[e+1],a),3===t&&this.emitCodePoint(n[e+2],a),a}end(){var e;switch(this.state){case $m.NamedEntity:return 0===this.result||this.decodeMode===Xm.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case $m.NumericDecimal:return this.emitNumericEntity(0,2);case $m.NumericHex:return this.emitNumericEntity(0,3);case $m.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case $m.EntityStart:return 0}}}function rf(e){let t="";const a=new sf(e,(e=>t+=Wm(e)));return function(e,n){let s=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(s,i),a.startEntity(n);const r=a.write(e,i+1);if(r<0){s=i+a.end();break}s=i+r,i=0===r?s+1:s}const r=t+e.slice(s);return t="",r}}function of(e,t,a,n){const s=(t&Km.BRANCH_LENGTH)>>7,i=t&Km.JUMP_TABLE;if(0===s)return 0!==i&&n===i?a:-1;if(i){const t=n-i;return t<0||t>=s?-1:e[a+t]-1}let r=a,o=r+s-1;for(;r<=o;){const t=r+o>>>1,a=e[t];if(a<n)r=t+1;else{if(!(a>n))return e[t+s];o=t-1}}return-1}function cf(e){return e===Jm.Space||e===Jm.NewLine||e===Jm.Tab||e===Jm.FormFeed||e===Jm.CarriageReturn}function lf(e){return e===Jm.Slash||e===Jm.Gt||cf(e)}function uf(e){return e>=Jm.Zero&&e<=Jm.Nine}rf(Ym),rf(zm),function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(Jm||(Jm={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"}(ef||(ef={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(tf||(tf={}));const pf={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class df{constructor({xmlMode:e=!1,decodeEntities:t=!0},a){this.cbs=a,this.state=ef.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=ef.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=e,this.decodeEntities=t,this.entityTrie=e?zm:Ym}reset(){this.state=ef.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=ef.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(e){e===Jm.Lt||!this.decodeEntities&&this.fastForwardTo(Jm.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=ef.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Jm.Amp&&(this.state=ef.BeforeEntity)}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?lf(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=ef.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Jm.Gt||cf(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===pf.TitleEnd?this.decodeEntities&&e===Jm.Amp&&(this.state=ef.BeforeEntity):this.fastForwardTo(Jm.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===Jm.Lt)}stateCDATASequence(e){e===pf.Cdata[this.sequenceIndex]?++this.sequenceIndex===pf.Cdata.length&&(this.state=ef.InCommentLike,this.currentSequence=pf.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=ef.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===pf.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=ef.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!lf(e):function(e){return e>=Jm.LowerA&&e<=Jm.LowerZ||e>=Jm.UpperA&&e<=Jm.UpperZ}(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=ef.SpecialStartSequence}stateBeforeTagName(e){if(e===Jm.ExclamationMark)this.state=ef.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Jm.Questionmark)this.state=ef.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=32|e;this.sectionStart=this.index,this.xmlMode||t!==pf.TitleEnd[2]?this.state=this.xmlMode||t!==pf.ScriptEnd[2]?ef.InTagName:ef.BeforeSpecialS:this.startSpecial(pf.TitleEnd,3)}else e===Jm.Slash?this.state=ef.BeforeClosingTagName:(this.state=ef.Text,this.stateText(e))}stateInTagName(e){lf(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=ef.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){cf(e)||(e===Jm.Gt?this.state=ef.Text:(this.state=this.isTagStartChar(e)?ef.InClosingTagName:ef.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===Jm.Gt||cf(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=ef.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===Jm.Gt||this.fastForwardTo(Jm.Gt))&&(this.state=ef.Text,this.baseState=ef.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===Jm.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=ef.InSpecialTag,this.sequenceIndex=0):this.state=ef.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===Jm.Slash?this.state=ef.InSelfClosingTag:cf(e)||(this.state=ef.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===Jm.Gt?(this.cbs.onselfclosingtag(this.index),this.state=ef.Text,this.baseState=ef.Text,this.sectionStart=this.index+1,this.isSpecial=!1):cf(e)||(this.state=ef.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===Jm.Eq||lf(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=ef.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===Jm.Eq?this.state=ef.BeforeAttributeValue:e===Jm.Slash||e===Jm.Gt?(this.cbs.onattribend(tf.NoValue,this.index),this.state=ef.BeforeAttributeName,this.stateBeforeAttributeName(e)):cf(e)||(this.cbs.onattribend(tf.NoValue,this.index),this.state=ef.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===Jm.DoubleQuote?(this.state=ef.InAttributeValueDq,this.sectionStart=this.index+1):e===Jm.SingleQuote?(this.state=ef.InAttributeValueSq,this.sectionStart=this.index+1):cf(e)||(this.sectionStart=this.index,this.state=ef.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===Jm.DoubleQuote?tf.Double:tf.Single,this.index),this.state=ef.BeforeAttributeName):this.decodeEntities&&e===Jm.Amp&&(this.baseState=this.state,this.state=ef.BeforeEntity)}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,Jm.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,Jm.SingleQuote)}stateInAttributeValueNoQuotes(e){cf(e)||e===Jm.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(tf.Unquoted,this.index),this.state=ef.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Jm.Amp&&(this.baseState=this.state,this.state=ef.BeforeEntity)}stateBeforeDeclaration(e){e===Jm.OpeningSquareBracket?(this.state=ef.CDATASequence,this.sequenceIndex=0):this.state=e===Jm.Dash?ef.BeforeComment:ef.InDeclaration}stateInDeclaration(e){(e===Jm.Gt||this.fastForwardTo(Jm.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=ef.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===Jm.Gt||this.fastForwardTo(Jm.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=ef.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===Jm.Dash?(this.state=ef.InCommentLike,this.currentSequence=pf.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=ef.InDeclaration}stateInSpecialComment(e){(e===Jm.Gt||this.fastForwardTo(Jm.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=ef.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=32|e;t===pf.ScriptEnd[3]?this.startSpecial(pf.ScriptEnd,4):t===pf.StyleEnd[3]?this.startSpecial(pf.StyleEnd,4):(this.state=ef.InTagName,this.stateInTagName(e))}stateBeforeEntity(e){this.entityExcess=1,this.entityResult=0,e===Jm.Number?this.state=ef.BeforeNumericEntity:e===Jm.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=ef.InNamedEntity,this.stateInNamedEntity(e))}stateInNamedEntity(e){if(this.entityExcess+=1,this.trieIndex=of(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];const t=this.trieCurrent&Km.VALUE_LENGTH;if(t){const a=(t>>14)-1;if(this.allowLegacyEntity()||e===Jm.Semi){const e=this.index-this.entityExcess+1;e>this.sectionStart&&this.emitPartial(this.sectionStart,e),this.entityResult=this.trieIndex,this.trieIndex+=a,this.entityExcess=0,this.sectionStart=this.index+1,0===a&&this.emitNamedEntity()}else this.trieIndex+=a}}emitNamedEntity(){if(this.state=this.baseState,0===this.entityResult)return;switch((this.entityTrie[this.entityResult]&Km.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~Km.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(e){(32|e)===Jm.LowerX?(this.entityExcess++,this.state=ef.InHexEntity):(this.state=ef.InNumericEntity,this.stateInNumericEntity(e))}emitNumericEntity(e){const t=this.index-this.entityExcess-1;t+2+Number(this.state===ef.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint(Zm(this.entityResult))),this.state=this.baseState}stateInNumericEntity(e){e===Jm.Semi?this.emitNumericEntity(!0):uf(e)?(this.entityResult=10*this.entityResult+(e-Jm.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(e){e===Jm.Semi?this.emitNumericEntity(!0):uf(e)?(this.entityResult=16*this.entityResult+(e-Jm.Zero),this.entityExcess++):!function(e){return e>=Jm.UpperA&&e<=Jm.UpperF||e>=Jm.LowerA&&e<=Jm.LowerF}(e)?(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--):(this.entityResult=16*this.entityResult+((32|e)-Jm.LowerA+10),this.entityExcess++)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===ef.Text||this.baseState===ef.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===ef.Text||this.state===ef.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==ef.InAttributeValueDq&&this.state!==ef.InAttributeValueSq&&this.state!==ef.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case ef.Text:this.stateText(e);break;case ef.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case ef.InSpecialTag:this.stateInSpecialTag(e);break;case ef.CDATASequence:this.stateCDATASequence(e);break;case ef.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case ef.InAttributeName:this.stateInAttributeName(e);break;case ef.InCommentLike:this.stateInCommentLike(e);break;case ef.InSpecialComment:this.stateInSpecialComment(e);break;case ef.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case ef.InTagName:this.stateInTagName(e);break;case ef.InClosingTagName:this.stateInClosingTagName(e);break;case ef.BeforeTagName:this.stateBeforeTagName(e);break;case ef.AfterAttributeName:this.stateAfterAttributeName(e);break;case ef.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case ef.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case ef.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case ef.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case ef.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case ef.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case ef.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case ef.InDeclaration:this.stateInDeclaration(e);break;case ef.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case ef.BeforeComment:this.stateBeforeComment(e);break;case ef.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case ef.InNamedEntity:this.stateInNamedEntity(e);break;case ef.BeforeEntity:this.stateBeforeEntity(e);break;case ef.InHexEntity:this.stateInHexEntity(e);break;case ef.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()}finish(){this.state===ef.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.state===ef.InCommentLike?this.currentSequence===pf.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===ef.InNumericEntity&&this.allowLegacyEntity()||this.state===ef.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===ef.InTagName||this.state===ef.BeforeAttributeName||this.state===ef.BeforeAttributeValue||this.state===ef.AfterAttributeName||this.state===ef.InAttributeName||this.state===ef.InAttributeValueSq||this.state===ef.InAttributeValueDq||this.state===ef.InAttributeValueNq||this.state===ef.InClosingTagName||this.cbs.ontext(this.sectionStart,e)}emitPartial(e,t){this.baseState!==ef.Text&&this.baseState!==ef.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)}emitCodePoint(e){this.baseState!==ef.Text&&this.baseState!==ef.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)}}const hf=new Set(["input","option","optgroup","select","button","datalist","textarea"]),mf=new Set(["p"]),ff=new Set(["thead","tbody"]),gf=new Set(["dd","dt"]),_f=new Set(["rt","rp"]),Ef=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",mf],["h1",mf],["h2",mf],["h3",mf],["h4",mf],["h5",mf],["h6",mf],["select",hf],["input",hf],["output",hf],["button",hf],["datalist",hf],["textarea",hf],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",gf],["dt",gf],["address",mf],["article",mf],["aside",mf],["blockquote",mf],["details",mf],["div",mf],["dl",mf],["fieldset",mf],["figcaption",mf],["figure",mf],["footer",mf],["form",mf],["header",mf],["hr",mf],["main",mf],["nav",mf],["ol",mf],["pre",mf],["section",mf],["table",mf],["ul",mf],["rt",_f],["rp",_f],["tbody",ff],["tfoot",ff]]),Tf=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),vf=new Set(["math","svg"]),xf=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),bf=/\s|\//;class Af{constructor(e,t={}){var a,n,s,i,r;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(a=t.lowerCaseTags)&&void 0!==a?a:!t.xmlMode,this.lowerCaseAttributeNames=null!==(n=t.lowerCaseAttributeNames)&&void 0!==n?n:!t.xmlMode,this.tokenizer=new(null!==(s=t.Tokenizer)&&void 0!==s?s:df)(this.options,this),null===(r=(i=this.cbs).onparserinit)||void 0===r||r.call(i,this)}ontext(e,t){var a,n;const s=this.getSlice(e,t);this.endIndex=t-1,null===(n=(a=this.cbs).ontext)||void 0===n||n.call(a,s),this.startIndex=t}ontextentity(e){var t,a;const n=this.tokenizer.getSectionStart();this.endIndex=n-1,null===(a=(t=this.cbs).ontext)||void 0===a||a.call(t,Wm(e)),this.startIndex=n}isVoidElement(e){return!this.options.xmlMode&&Tf.has(e)}onopentagname(e,t){this.endIndex=t;let a=this.getSlice(e,t);this.lowerCaseTagNames&&(a=a.toLowerCase()),this.emitOpenTag(a)}emitOpenTag(e){var t,a,n,s;this.openTagStart=this.startIndex,this.tagname=e;const i=!this.options.xmlMode&&Ef.get(e);if(i)for(;this.stack.length>0&&i.has(this.stack[this.stack.length-1]);){const e=this.stack.pop();null===(a=(t=this.cbs).onclosetag)||void 0===a||a.call(t,e,!0)}this.isVoidElement(e)||(this.stack.push(e),vf.has(e)?this.foreignContext.push(!0):xf.has(e)&&this.foreignContext.push(!1)),null===(s=(n=this.cbs).onopentagname)||void 0===s||s.call(n,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,a;this.startIndex=this.openTagStart,this.attribs&&(null===(a=(t=this.cbs).onopentag)||void 0===a||a.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var a,n,s,i,r,o;this.endIndex=t;let c=this.getSlice(e,t);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),(vf.has(c)||xf.has(c))&&this.foreignContext.pop(),this.isVoidElement(c))this.options.xmlMode||"br"!==c||(null===(n=(a=this.cbs).onopentagname)||void 0===n||n.call(a,"br"),null===(i=(s=this.cbs).onopentag)||void 0===i||i.call(s,"br",{},!0),null===(o=(r=this.cbs).onclosetag)||void 0===o||o.call(r,"br",!1));else{const e=this.stack.lastIndexOf(c);if(-1!==e)if(this.cbs.onclosetag){let t=this.stack.length-e;for(;t--;)this.cbs.onclosetag(this.stack.pop(),0!==t)}else this.stack.length=e;else this.options.xmlMode||"p"!==c||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,a;const n=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===n&&(null===(a=(t=this.cbs).onclosetag)||void 0===a||a.call(t,n,!e),this.stack.pop())}onattribname(e,t){this.startIndex=e;const a=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?a.toLowerCase():a}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=Wm(e)}onattribend(e,t){var a,n;this.endIndex=t,null===(n=(a=this.cbs).onattribute)||void 0===n||n.call(a,this.attribname,this.attribvalue,e===tf.Double?'"':e===tf.Single?"'":e===tf.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search(bf);let a=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(a=a.toLowerCase()),a}ondeclaration(e,t){this.endIndex=t;const a=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(a);this.cbs.onprocessinginstruction(`!${e}`,`!${a}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const a=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(a);this.cbs.onprocessinginstruction(`?${e}`,`?${a}`)}this.startIndex=t+1}oncomment(e,t,a){var n,s,i,r;this.endIndex=t,null===(s=(n=this.cbs).oncomment)||void 0===s||s.call(n,this.getSlice(e,t-a)),null===(r=(i=this.cbs).oncommentend)||void 0===r||r.call(i),this.startIndex=t+1}oncdata(e,t,a){var n,s,i,r,o,c,l,u,p,d;this.endIndex=t;const h=this.getSlice(e,t-a);this.options.xmlMode||this.options.recognizeCDATA?(null===(s=(n=this.cbs).oncdatastart)||void 0===s||s.call(n),null===(r=(i=this.cbs).ontext)||void 0===r||r.call(i,h),null===(c=(o=this.cbs).oncdataend)||void 0===c||c.call(o)):(null===(u=(l=this.cbs).oncomment)||void 0===u||u.call(l,`[CDATA[${h}]]`),null===(d=(p=this.cbs).oncommentend)||void 0===d||d.call(p)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let e=this.stack.length;e>0;this.cbs.onclosetag(this.stack[--e],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)}reset(){var e,t,a,n;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(n=(a=this.cbs).onparserinit)||void 0===n||n.call(a,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let a=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),a+=this.buffers[0].slice(0,t-this.bufferOffset);return a}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,a;this.ended?null===(a=(t=this.cbs).onerror)||void 0===a||a.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))}end(e){var t,a;this.ended?null===(a=(t=this.cbs).onerror)||void 0===a||a.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}class yf{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Rf(this,e)}}class Sf extends yf{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class Nf extends Sf{constructor(){super(...arguments),this.type=bo.Text}get nodeType(){return 3}}class Cf extends Sf{constructor(){super(...arguments),this.type=bo.Comment}get nodeType(){return 8}}class If extends Sf{constructor(e,t){super(t),this.name=e,this.type=bo.Directive}get nodeType(){return 1}}class Of extends yf{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class wf extends Of{constructor(){super(...arguments),this.type=bo.CDATA}get nodeType(){return 4}}class Df extends Of{constructor(){super(...arguments),this.type=bo.Root}get nodeType(){return 9}}class kf extends Of{constructor(e,t,a=[],n=("script"===e?bo.Script:"style"===e?bo.Style:bo.Tag)){super(a),this.name=e,this.attribs=t,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,a;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(a=this["x-attribsPrefix"])||void 0===a?void 0:a[e]}}))}}function Rf(e,t=!1){let a;if(function(e){return e.type===bo.Text}(e))a=new Nf(e.data);else if(function(e){return e.type===bo.Comment}(e))a=new Cf(e.data);else if(function(e){return Ao(e)}(e)){const n=t?Lf(e.children):[],s=new kf(e.name,{...e.attribs},n);n.forEach((e=>e.parent=s)),null!=e.namespace&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),a=s}else if(function(e){return e.type===bo.CDATA}(e)){const n=t?Lf(e.children):[],s=new wf(n);n.forEach((e=>e.parent=s)),a=s}else if(function(e){return e.type===bo.Root}(e)){const n=t?Lf(e.children):[],s=new Df(n);n.forEach((e=>e.parent=s)),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),a=s}else{if(!function(e){return e.type===bo.Directive}(e))throw new Error(`Not implemented yet: ${e.type}`);{const t=new If(e.name,e.data);null!=e["x-name"]&&(t["x-name"]=e["x-name"],t["x-publicId"]=e["x-publicId"],t["x-systemId"]=e["x-systemId"]),a=t}}return a.startIndex=e.startIndex,a.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(a.sourceCodeLocation=e.sourceCodeLocation),a}function Lf(e){const t=e.map((e=>Rf(e,!0)));for(let e=1;e<t.length;e++)t[e].prev=t[e-1],t[e-1].next=t[e];return t}const Mf={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Pf{constructor(e,t,a){this.dom=[],this.root=new Df(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(a=t,t=Mf),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:Mf,this.elementCB=null!=a?a:null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Df(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){const a=this.options.xmlMode?bo.Tag:void 0,n=new kf(e,t,void 0,a);this.addNode(n),this.tagStack.push(n)}ontext(e){const{lastNode:t}=this;if(t&&t.type===bo.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const t=new Nf(e);this.addNode(t),this.lastNode=t}}oncomment(e){if(this.lastNode&&this.lastNode.type===bo.Comment)return void(this.lastNode.data+=e);const t=new Cf(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Nf(""),t=new wf([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){const a=new If(e,t);this.addNode(a)}handleCallback(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e}addNode(e){const t=this.tagStack[this.tagStack.length-1],a=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),a&&(e.prev=a,a.next=e),e.parent=t,this.lastNode=null}}const Ff=function(e){return function(t,a,n,s){if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&(t=t.toString()),"string"==typeof t)return e(t,a,n,s);const i=t;if(!Array.isArray(i)&&Vo(i))return i;const r=new Ho([]);return gp(i,r),r}}(((e,t,a,n)=>t.xmlMode||t._useHtmlParser2?function(e,t){const a=new Pf(void 0,t);return new Af(a,t).end(e),a.root}(e,t):Gm(e,t,a,n))),Uf=function(e,t){return function a(n,s,i=!0){if(null==n)throw new Error("cheerio.load() expects a string");const r={...To,...xo(s)},o=e(n,r,i,null);class c extends kp{_make(e,t){const a=l(e,t);return a.prevObject=this,a}_parse(t,a,n,s){return e(t,a,n,s)}_render(e){return t(e,this.options)}}function l(t,a,n=o,s){if(t&&Nc(t))return t;const i={...r,...xo(s)},l="string"==typeof n?[e(n,i,!1,null)]:"length"in n?n:[n],u=Nc(l)?l:new c(l,null,i);if(u._root=u,!t)return new c(void 0,u,i);const p="string"==typeof t&&Oc(t)?e(t,i,!1,null).children:(d=t).name||"root"===d.type||"text"===d.type||"comment"===d.type?[t]:Array.isArray(t)?t:void 0;var d;const h=new c(p,u,i);if(p)return h;if("string"!=typeof t)throw new Error("Unexpected type of selector");let m=t;const f=a?"string"==typeof a?Oc(a)?new c([e(a,i,!1,null)],u,i):(m=`${a} ${m}`,u):Nc(a)?a:new c(Array.isArray(a)?a:[a],u,i):u;return f?f.find(m):h}return Object.assign(l,Sc,{load:a,_root:o,_options:r,fn:c.prototype,prototype:c.prototype}),l}}(Ff,((e,t)=>t.xmlMode||t._useHtmlParser2?cc(e,t):function(e){const t="length"in e?e:[e];for(let e=0;e<t.length;e+=1){const a=t[e];Vo(a)&&Array.prototype.splice.call(t,e,1,...a.children)}let a="";for(let e=0;e<t.length;e+=1)a+=xm(t[e],jm);return a}(e)));var Bf=Uf([]);const Hf="https://www.studentenwerk-hannover.de",Gf=`${Hf}/wohnen/wohnhaeuser`;const jf=new class{constructor(e){this.parser=new e,this.finished=!0}async init(e,t,a,n){this.schema=await e(),this.database=a,this.logger=n,this.services=t,this.itemsServiceCreator=new ar(t,a,this.schema)}async setStatus(e){await this.database(Eo).update({housing_parsing_status:e})}async isEnabled(){try{let e=Eo,t=await this.database(e).first();if(t)return null==t?void 0:t.housing_parsing_enabled}catch(e){console.log(e)}}async getStatus(){try{let e=Eo,t=await this.database(e).first();if(t)return null==t?void 0:t.housing_parsing_status}catch(e){console.log(e)}}async parse(){this.itemService=this.itemsServiceCreator.getItemsService(_o);let e=await this.isEnabled(),t=await this.getStatus(),a="running";if(console.log("housing-sync-hook: parse: enabled: "+e+" status: "+t),e&&"start"===t&&this.finished){console.log("[Start] ApartmentsParseSchedule Parse Schedule"),this.finished=!1,await this.setStatus(a);try{let e=await this.parser.getJSONList();await this.updateApartments(e),console.log("Finished"),this.finished=!0,await this.setStatus("finished")}catch(e){console.log("[MealParseSchedule] Failed"),console.log(e),this.finished=!0,await this.setStatus("failed")}}else this.finished||t===a||await this.setStatus(a)}setStatusPublished(e){return e.status="published",e}async findOrCreateApartment(e){console.log("Make copy of"),console.log(e);let t=JSON.parse(JSON.stringify(e)),a=_o,n=this.itemsServiceCreator.getItemsService(a),s=(await n.readByQuery({filter:{external_identifier:null==t?void 0:t.external_identifier}}))[0];if(!s){delete t.translations;let e=await n.createOne(t);s=await n.readOne(e,{fields:["*","translations.*"]})}return s}async updateApartmentTranslations(e,t){await this.updateItemTranslations(e,t,"news_id",this.itemService)}async updateItemTranslations(e,t,a,n){let s=await n.readOne(null==e?void 0:e.id,{fields:["*","translations.*"]}),i=(null==t?void 0:t.translations)||{},r=JSON.parse(JSON.stringify(i)),o=[],c=[],l=[];if(s){let t=(null==s?void 0:s.translations)||[],u=!1,p=!1;for(let e of t){let t=null==e?void 0:e.languages_code,a=i[t];a?(a=JSON.parse(JSON.stringify(a)),delete r[t],(null==e?void 0:e.name)!==(null==a?void 0:a.name)?(u=!0,c.push({id:null==e?void 0:e.id,...a,languages_code:{code:t}}),console.log("existingTranslation is different from parsing")):console.log("translation is the same, do nothing")):delete r[t]}let d=Object.keys(r);for(let t=0;t<(null==d?void 0:d.length);t++){let n=d[t],s=i[n];s&&(p=!0,o.push({[a]:null==e?void 0:e.id,...s,languages_code:{code:n}}))}let h={translations:{create:o,update:c,delete:l}};(u||p)&&await n.updateOne(null==e?void 0:e.id,{id:null==e?void 0:e.id,...h})}}async updateApartments(e){for(let t of e){let e=await this.findOrCreateApartment(t);e&&(null==e?void 0:e.id)&&await this.updateApartmentTranslations(e,t)}}}(class{constructor(){}async getJSONList(){return[...await this.getRealItems()]}async getRealItem(e){let t=await Rn.get(e);return console.log("Fetched url"),Bf.load(t.data),{}}async getCoordiantesFromAdress(e){const t=await Rn.get("https://nominatim.openstreetmap.org/search",{params:{q:e,format:"json"}});return t.data&&t.data.length>0?{latitude:t.data[0].lat,longitude:t.data[0].lon}:null}getImageUrlFromElement(e,t){try{let a=e(t).find("div.mensaImag")[0].attribs.style;console.log("style",a);let n=a.split("url(")[1].split(")")[0];return Hf+n}catch(e){return console.log("Error while fetching image url"),void console.log(e)}}async getRealItems(){try{console.log("getRealItems");let e=await Rn.get(Gf);console.log("Fetched url");const t=Bf.load(e.data);let a=[];return t("div.wohnheimListView").each(((e,n)=>{let s=t(n).find("h3").text().trim();console.log("name: "+s);let i=this.getImageUrlFromElement(t,n),r=Hf+t(n).find("a").attr("href");a.push({external_identifier:"apartment_"+s.replace(/\W+/g,"_"),available_from:null,handicapped_accessible:!1,family_friendly:!1,singleflat:!1,building:{external_identifier:"building_"+s.replace(/\W+/g,"_"),url:r,alias:s,image_remote_url:i,year_of_construction:null}})})),a}catch(e){console.log(e)}}}),qf="housing_parse";var Yf=async({action:e},{services:t,database:a,getSchema:n,logger:s})=>{if(s.info("housing-sync-hook: init"),await er.checkAllTablesExist(qf,n)){try{await jf.init(n,t,a,s)}catch(e){e.toString().includes("no such table: directus_collections")?(console.log("+++++++++ Meal Parse Schedule +++++++++"),console.log("++++ Database not initialized yet +++++"),console.log("+++ Restart Server again after init +++"),console.log("+++++++++++++++++++++++++++++++++++++++")):(console.log("News Parse Schedule init error: "),console.log(e))}e(Xi.APP_SETTINGS+".items.update",(async()=>{console.log(qf+" hook: update");try{await jf.parse()}catch(e){console.log(e)}}))}};const zf=Xi.NEWS,Vf=Xi.APP_SETTINGS;let Wf=new class{constructor(){}async getNewsItems(){return[this.getDemoNewsItem("1"),this.getDemoNewsItem("2"),this.getDemoNewsItem("3")]}getDemoNewsItem(e){return{external_identifier:e,image_remote_url:"https://images.pexels.com/photos/1462630/pexels-photo-1462630.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",url:"https://www.pexels.com/de-de/foto/frau-die-im-flur-steht-wahrend-buch-halt-1462630/",translations:{[Pr.LANGUAGE_CODE_DE]:{title:"Test News "+e,content:"Das ist ein Test News Artikel",be_source_for_translations:!0,let_be_translated:!1}}}}};const Zf=new class{constructor(e){this.parser=e,this.finished=!0}async init(e,t,a,n){this.schema=await e(),this.database=a,this.logger=n,this.services=t,this.itemsServiceCreator=new ar(t,a,this.schema)}async setStatus(e){await this.database(Vf).update({news_parsing_status:e})}async isEnabled(){try{let e=Vf,t=await this.database(e).first();if(t)return null==t?void 0:t.news_parsing_enabled}catch(e){console.log(e)}}async getStatus(){try{let e=Vf,t=await this.database(e).first();if(t)return null==t?void 0:t.news_parsing_status}catch(e){console.log(e)}}async parse(){if(!this.parser)return void console.log("No parser set");this.newsService=this.itemsServiceCreator.getItemsService(zf);let e=await this.isEnabled(),t=await this.getStatus(),a="running";if(e&&"start"===t&&this.finished){console.log("[Start] NewsParseSchedule Parse Schedule"),this.finished=!1,await this.setStatus(a);try{let e=await this.parser.getNewsItems();await this.updateNews(e),console.log("Finished"),this.finished=!0,await this.setStatus("finished")}catch(e){console.log("[MealParseSchedule] Failed"),console.log(e),this.finished=!0,await this.setStatus("failed")}}else this.finished||t===a||await this.setStatus(a)}setStatusPublished(e){return e.status="published",e}async findOrCreateSingleNews(e){console.log("Make copy of"),console.log(e);let t=JSON.parse(JSON.stringify(e)),a=this.newsService,n=(await a.readByQuery({filter:{external_identifier:null==t?void 0:t.external_identifier}}))[0];if(!n){delete t.translations;let e=await a.createOne({external_identifier:null==t?void 0:t.external_identifier});n=await a.readOne(e)}return n}async updateNewsTranslations(e,t){await this.updateItemTranslations(e,t,"news_id",this.newsService)}async updateItemTranslations(e,t,a,n){let s=await n.readOne(null==e?void 0:e.id,{fields:["*","translations.*"]}),i=(null==t?void 0:t.translations)||{},r=JSON.parse(JSON.stringify(i)),o=[],c=[],l=[];if(s){let t=(null==s?void 0:s.translations)||[],u=!1,p=!1;for(let e of t){let t=null==e?void 0:e.languages_code,a=i[t];a?(a=JSON.parse(JSON.stringify(a)),delete r[t],(null==e?void 0:e.name)!==(null==a?void 0:a.name)?(u=!0,c.push({id:null==e?void 0:e.id,...a,languages_code:{code:t}}),console.log("existingTranslation is different from parsing")):console.log("translation is the same, do nothing")):delete r[t]}let d=Object.keys(r);for(let t=0;t<(null==d?void 0:d.length);t++){let n=d[t],s=i[n];s&&(p=!0,o.push({[a]:null==e?void 0:e.id,...s,languages_code:{code:n}}))}let h={translations:{create:o,update:c,delete:l}};(u||p)&&await n.updateOne(null==e?void 0:e.id,{id:null==e?void 0:e.id,...h})}}async updateOtherFields(e,t){let a=JSON.parse(JSON.stringify(t));delete a.translations;let n=this.newsService;await n.updateOne(null==e?void 0:e.id,a)}async updateNews(e){for(let t of e){let e=await this.findOrCreateSingleNews(t);e&&(null==e?void 0:e.id)&&(await this.updateOtherFields(e,t),await this.updateNewsTranslations(e,t))}}}(Wf);var Qf=async({action:e},{services:t,database:a,getSchema:n,logger:s})=>{if(await er.checkAllTablesExist("news_parse",n)){try{await Zf.init(n,t,a,s)}catch(e){e.toString().includes("no such table: directus_collections")?(console.log("+++++++++ Meal Parse Schedule +++++++++"),console.log("++++ Database not initialized yet +++++"),console.log("+++ Restart Server again after init +++"),console.log("+++++++++++++++++++++++++++++++++++++++")):(console.log("News Parse Schedule init error: "),console.log(e))}e(Xi.APP_SETTINGS+".items.update",(async()=>{try{await Zf.parse()}catch(e){console.log(e)}}))}};class Kf{}Kf.USERS_DELETE_EVENT="users.delete",Kf.USERS_LOGIN_EVENT="auth.login";var $f=async({filter:e,schedule:t},{services:a,getSchema:n,database:s})=>{await er.checkAllTablesExist("profile_create",n)&&(t("0 * * * * *",(async()=>{let e=await n(),t=new ar(a,s,e),i=t.getItemsService(Xi.USERS),r=t.getItemsService(Xi.PROFILES),o=await i.readByQuery({filter:{profile:{_eq:null}},limit:-1});if(o&&o.length>0){console.log("Users without profiles: "+o.length);for(let e of o)try{let t=await r.createOne({});t&&(console.log("Created profile for user: "+e.id),await i.updateOne(e.id,{profile:t}))}catch(t){console.log("profileCreateHook: Error while creating profile for user: "+e.id),console.log(t)}}})),e(Kf.USERS_LOGIN_EVENT,(async(e,t,n)=>{const{database:s,schema:i}=n;let r=new ar(a,s,i),o=r.getItemsService(Xi.PROFILES),c=r.getItemsService(Xi.USERS),l=t.user;const u=(await s(Xi.USERS).where({id:l}))[0];if(!u)throw new Error("profileCreateHook: No user found with id: "+l);if(null==u?void 0:u.profile)return e;try{console.log("Creating profile for user: "+l);let t=await o.createOne({});if(console.log("Created profile for user: "+l),t)return console.log("New profile id: "+t),await c.updateOne(l,{profile:t}),e}catch(t){return console.log("profileCreateHook: Error while creating profile for user: "+l),console.log(t),e}})))};var Xf=async({filter:e},{services:t,database:a,getSchema:n})=>{const s=Xi.PUSH_NOTIFICATIONS;async function i(e,t){let a,n,s,i=e.expo_push_tokens,r=e.expo_push_tokens;if("string"==typeof i&&(r=JSON.parse(i)),!r)throw t.status="failed",t.status_log="expo_push_tokens is empty",new Error("expo_push_tokens is empty");e.message_title&&(a=e.message_title),e.message_body&&(n=e.message_body),e.message_data&&(s=e.message_data);const o=r.map((e=>({to:e,sound:"default",title:a,body:n,data:s})));try{await Rn.post("https://exp.host/--/api/v2/push/send",o)}catch(e){throw console.log(`Failed to send notification: ${e.message}`),t.status="failed",t.status_log=e.message.toString(),new Error(`Failed to send notification: ${e.message}`)}}await er.checkAllTablesExist("push_notification",n)&&(e(s+".items.create",(async(e,{collection:t})=>("published"===e.status&&(await i(e,e),e.status="published"),e))),e(s+".items.update",(async(e,{keys:s,collection:r})=>{let o=await n();let c=new ar(t,a,o).getItemsService(r);if(!s||0===s.length)throw new Error("No keys provided for update");for(let t=0;t<s.length;t++){const a=s[t],n=await c.readByQuery({filter:{id:a}});if(!n||0===n.length)throw new Error(`Item with ID ${a} not found`);const r=n[0];for(const t in e)void 0!==e[t]&&(r[t]=e[t]);"published"===r.status&&(await i(r,e),e.status="published")}return e})))};class Jf{static replaceAll(e,t,a){return e.replace(new RegExp(t,"g"),a)}}process.env.PUBLIC_URL;const eg="WILDCARD_REPLACEMENT";function tg(e,t){let a=t.split(eg),n=a.length>1?a[0]:t;return n.endsWith("/")&&(n=n.slice(0,-1)),e.startsWith(n)}function ag(e,t){if("*"===e)return!0;const a=t.protocol,n=t.host,s=t.pathname,i=t.search;if(e.includes("://")){if(a.includes(eg))return!1;{let t=Jf.replaceAll(e,"\\*",eg),r=new URL(t);const o=r.protocol,c=r.host,l=r.pathname,u=r.search;if(!tg(a,o))return!1;if(!tg(n,c))return!1;if(!tg(s,l))return!1;return!!tg(i,u)}}{let a="https://"+e,n=ag("http://"+e,t),s=ag(a,t);return n||s}}var ng={id:"redirect-with-token",handler:(e,{services:t,database:a,env:n,getSchema:s,logger:i})=>{e.get("/",(async(e,i)=>{var r;if(!await er.checkAllTablesExist("redirect_with_token",s))return;let o=!0,c=e.query.redirect;if(c&&"string"==typeof c){let e=function(e){try{return new URL(e)}catch(e){return null}}(c);if(e){let n=await s(),i=new or(t,a,n),r=await i.getAppSettings(),c=null==r?void 0:r.redirect_whitelist;if(c){let t=!1;0===c.length&&(t=!0);for(let a=0;a<c.length&&!t;a++){let n=c[a];try{if(ag(n,e)){t=!0;break}}catch(t){console.log("Error in redirect with token endpoint"),console.log("redirectUrl: "+e),console.log("redirect_whitelist_entry: "+n),console.log(t)}}o=t}}else o=!1}else o=!1;if(!o)return void i.status(400).send("Invalid redirect URL");const l=e.cookies.directus_refresh_token;if(l){const e=c+l;return void i.redirect(e)}if(e.cookies.directus_session_token){const t=null==e?void 0:e.accountability,s=null==(r=null==e?void 0:e.accountability)?void 0:r.user;if(!s)return void i.status(400).send("No user found");const o=a,{nanoid:l}=await Promise.resolve().then((function(){return v})),u=l(64),p=Qt(String(n.REFRESH_TOKEN_TTL))||0,d=new Date(Date.now()+p);await o("directus_sessions").insert({token:u,user:s,expires:d,ip:null==t?void 0:t.ip,user_agent:null==t?void 0:t.userAgent,origin:null==t?void 0:t.origin}),await o("directus_sessions").delete().where("expires","<",new Date);const h=c+u;i.redirect(h)}else i.status(400).send("No token found")}))}};class sg{static getAdminAccountability(e){const t=JSON.parse(JSON.stringify(e));return t.admin=!0,t}}class ig{static async deleteAvatarOfUser(e,t,a,n,s){const i=ig.getAdminFileServiceInstance(a,n,e);if(!s)throw new Error("deleteAvatarOfUser: No userId provided: ");const r=await t("directus_users").where({id:s}).first();if(!r)throw new Error("deleteAvatarOfUser: No user found with id: "+s);const o=r.avatar;o&&await i.deleteOne(o)}static getAdminFileServiceInstance(e,t,a){const{FilesService:n}=a;return new n({schema:e,accountability:sg.getAdminAccountability(t)})}}var rg=async({filter:e},{services:t,getSchema:a,database:n})=>{await er.checkAllTablesExist("users_avatar_delete",a)&&e(Kf.USERS_DELETE_EVENT,(async(e,a,{database:n,schema:s,accountability:i})=>{const r=e;for(const e of r)await ig.deleteAvatarOfUser(t,n,s,i,e);return e}))};const og=Xi.APP_SETTINGS,cg=Xi.CANTEENS,lg=Xi.UTILIZATION_GROUPS,ug=Xi.UTILIZATION_ENTRIES,pg=Xi.BUSINESSHOURS,dg=Xi.CASHREGISTERS_TRANSACTIONS,hg=Xi.CASHREGISTERS;const mg=new class{constructor(){this.finished=!0}async init(e,t,a,n){this.schema=await e(),this.database=a,this.logger=n,this.services=t,this.itemsServiceCreator=new ar(t,a,this.schema)}async setStatus(e){await this.database(og).update({utilization_forecast_calculation_status:e})}async isEnabled(){try{let e=og,t=await this.database(e).first();if(t)return null==t?void 0:t.utilization_forecast_calculation_enabled}catch(e){console.log(e)}}async getStatus(){try{let e=og,t=await this.database(e).first();if(t)return null==t?void 0:t.utilization_forecast_calculation_status}catch(e){console.log(e)}}async parse(){let e=await this.isEnabled(),t=await this.getStatus(),a="running";if(e&&"start"===t&&this.finished){console.log("[Start] UtilizationSchedule Parse Schedule"),this.finished=!1,await this.setStatus(a);try{let e=await this.getAllCanteens();for(let t=0;t<e.length;t++){let a=e[t];await this.calcForecastForCanteen(a)}console.log("Finished"),this.finished=!0,await this.setStatus("finished")}catch(e){console.log("[UtilizationSchedule] Failed"),console.log(e),this.finished=!0,await this.setStatus("failed")}}else this.finished||t===a||await this.setStatus(a)}async calcForecastForCanteen(e){let t=await this.findOrCreateOrUpdateUtilizationGroupForCanteen(e);if(t){await this.deleteAllFutureUtilizationForecastEntries(t);let a=await this.getAllCashreigsterIdsForCanteen(e),n=await this.getBusinesshours(e),s=15,i=8,r=[],o=new Date;o.setDate(o.getDate()-1);for(let e=0;e<i;e++)r.push(new Date(o)),o.setDate(o.getDate()+1);for(let i=0;i<r.length;i++){let o=r[i];console.log(""),console.log("###########"),console.log("Calc for: "+o),await this.updateUtilizationEntryForCanteenAtDate(e,t,a,o,s,n)}}else console.log("Houston we got a problem at calcForecastForCanteen")}async createUtilizationEntry(e,t,a){let n=await this.itemsServiceCreator.getItemsService(ug);await n.createOne({utilization_group:e,date_start:t,date_end:a})}async getUtilizationEntry(e,t,a){let n=await this.itemsServiceCreator.getItemsService(ug);return(await n.readByQuery({filter:{_and:[{utilization_group:{_eq:e}},{date_start:{_eq:t}},{date_end:{_eq:a}}]},fields:["*"],limit:-1}))[0]}async countCashRegistersTransactionsForInterval(e,t,a){let n=0;console.log(""),console.log("countCashRegistersTransactionsForInterval"),console.log("cashregister_ids"),console.log(e),console.log("date_start: "+t.toString()+" date_end: "+a.toString());let s=await this.itemsServiceCreator.getItemsService(dg);for(let i=0;i<e.length;i++){let r=e[i];console.log("cashregister_id: "+r);let o=await s.readByQuery({filter:{cashregister:r},limit:1e6});console.log("-- total for cashregister: "+o.length);let c=(await s.readByQuery({filter:{_and:[{cashregister:{_eq:r}},{date:{_gte:t}},{date:{_lt:a}}]},fields:["*"],limit:1e6})).length;console.log("-- in timeslot: "+c),n+=c}return console.log("total: "+n),n}async updateUtilizationEntryForCanteenAtDate(e,t,a,n,s,i){let r=new Date,o=null==t?void 0:t.id,c=await this.getCurrentValidBusinesshoursForDate(n,i),l=await this.getInterval(s,c,n);for(let e of l){let t=null==e?void 0:e.date_start,n=null==e?void 0:e.date_end,s=await this.getUtilizationEntry(o,t,n);if(s||(await this.createUtilizationEntry(o,t,n),s=await this.getUtilizationEntry(o,t,n)),s){let e=!1;if(t<r&&n<r&&(e=!0),!e){let e=new Date(t);e.setDate(t.getDate()-7);let a=new Date(n);a.setDate(n.getDate()-7);let i=await this.getUtilizationEntry(o,e,a),r=null==i?void 0:i.value_forecast_current,c=(null==i?void 0:i.value_real)||r;s.value_forecast_current=c}if(e){let e=await this.countCashRegistersTransactionsForInterval(a,t,n);s.value_real=e}let i=this.itemsServiceCreator.getItemsService(ug);await i.updateOne(s.id,s)}else console.log("Houston we got a problem")}}async getCurrentValidBusinesshoursForDate(e,t){let a=new Date(e);const n=a.getDay();let s=[];for(const e of t)!0===(null==e?void 0:e.monday)&&1===n&&s.push(e),!0===(null==e?void 0:e.tuesday)&&2===n&&s.push(e),!0===(null==e?void 0:e.wednesday)&&3===n&&s.push(e),!0===(null==e?void 0:e.thursday)&&4===n&&s.push(e),!0===(null==e?void 0:e.friday)&&5===n&&s.push(e),!0===(null==e?void 0:e.saturday)&&6===n&&s.push(e),!0===(null==e?void 0:e.sunday)&&0===n&&s.push(e);let i=null;for(const e of s)e.date_valid_from||e.date_valid_till||(i=e);for(const e of s){let t=e.date_valid_from?new Date(e.date_valid_from):null,n=e.date_valid_till?new Date(e.date_valid_till):null,s=!0;t&&a<t&&(s=!1),n&&a>n&&(s=!1),s&&(i=e)}return i}async getBusinesshours(e){let t=this.itemsServiceCreator.getItemsService(cg),a=this.itemsServiceCreator.getItemsService(pg),n=await t.readOne(null==e?void 0:e.id,{fields:["*","businesshours.*"]}),s=[];for(const e of null==n?void 0:n.businesshours){let t=null==e?void 0:e.businesshours_id;const n=await a.readOne(t);s.push(n)}return s}async getInterval(e,t,a){let n=null==t?void 0:t.time_start,s=null==t?void 0:t.time_end,i=[];if(!n||!s)return i;const[r,o]=n.split(":").map(Number),[c,l]=s.split(":").map(Number);let u=new Date(a);u.setHours(c,l,0,0);let p=new Date(a);p.setHours(r,o,0,0);let d=new Date(p);for(d.setMinutes(d.getMinutes()+e);d<=u;)i.push({date_start:new Date(p),date_end:new Date(d)}),p=new Date(d),d.setMinutes(d.getMinutes()+e);return i}async deleteAllFutureUtilizationForecastEntries(e){let t=e.id,a=new Date,n=await this.itemsServiceCreator.getItemsService(ug),s=(await n.readByQuery({filter:{utilization_group:t,date_end:{_gt:a}},fields:["*"],limit:-1})).map((e=>e.id));await n.deleteMany(s)}setStatusPublished(e){return e.status="published",e}async getAllCanteens(){let e=cg,t=this.itemsServiceCreator.getItemsService(e);return await t.readByQuery({limit:-1})}async getAllCashreigsterIdsForCanteen(e){var t;let a=hg,n=this.itemsServiceCreator.getItemsService(a),s=await n.readByQuery({filter:{canteen:null==e?void 0:e.id},limit:-1}),i=[];for(let e=0;e<s.length;e++)i.push(null==(t=s[e])?void 0:t.id);return i}async findOrCreateOrUpdateUtilizationGroupForCanteen(e){let t=null==e?void 0:e.utilization_group,a=lg,n=this.itemsServiceCreator.getItemsService(a),s=null;if(t)s=await n.readOne(t);else{let t=this.setStatusPublished({}),a=await n.createOne(t);s=await n.readOne(a),e.utilization_group=null==s?void 0:s.id,await n.updateOne(e.id,e)}return s?(await n.updateOne(s.id,{label:null==e?void 0:e.label}),s=await n.readOne(s.id)):console.log("Error at findOrCreateOrUpdateUtilizationGroupForCanteen"),s}};var fg=async({action:e},{services:t,database:a,getSchema:n,logger:s})=>{let i=Xi.APP_SETTINGS;if(await er.checkAllTablesExist("utilization_canteen",n)){try{console.log("foodParseSchedule init"),await mg.init(n,t,a,s),console.log("foodParseSchedule master init finished")}catch(e){e.toString().includes("no such table: directus_collections")?(console.log("+++++++++ Meal Parse Schedule +++++++++"),console.log("++++ Database not initialized yet +++++"),console.log("+++ Restart Server again after init +++"),console.log("+++++++++++++++++++++++++++++++++++++++")):(console.log("Meal Parse Schedule init error: "),console.log(e))}e(i+".items.update",(async()=>{try{await mg.parse()}catch(e){console.log(e)}}))}};class gg{static getComposedKey(e){return["role","collection","action"].map((t=>null==e?void 0:e[t])).join("-")}static findDuplicates(e){const t={},a=[];for(let n=0;n<e.length;n++){const s=e[n],i=this.getComposedKey(s);t[i]?a.push(s):t[i]=s}return a}}const _g="permissions_duplicate_delete";const Eg=[{name:"activity-auto-cleanup-schedule",config:lr},{name:"cashregister-hook",config:vr},{name:"collections-last-update-hook",config:xr},{name:"food-feedback-rating-calculate-hook",config:br},{name:"food-feedback-report-schedule",config:kr},{name:"food-notify-schedule-hook",config:zr},{name:"food-sync-hook",config:go},{name:"housing-sync-hook",config:Yf},{name:"news-sync-hook",config:Qf},{name:"profile-create-hook",config:$f},{name:"push-notification-hook",config:Xf},{name:"users-avatar-delete-hook",config:rg},{name:"utilization-canteen-hook",config:fg},{name:"permissions-duplicate-delete-schedule",config:async({schedule:e},{services:t,database:a,getSchema:n,logger:s})=>{if(!await er.checkAllTablesExist(_g,n))return;let i=await n();const r=new rr(t,a,i).getPermissionsService();e("0 * * * * *",(async()=>{let e=await r.readByQuery({});const t=gg.findDuplicates(e);for(let e=0;e<t.length;e++){const a=t[e];let n=a.id;n?(s.info(_g+": Deleting duplicate permission with id: "+n),await r.deleteOne(a.id)):(s.error(_g+": Could not delete duplicate permission, id is missing"),s.error(a))}}))}}],Tg=[{name:"redirect-with-token-endpoint",config:ng}],vg=[];export{Tg as endpoints,Eg as hooks,vg as operations};
